"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9759],{90436:function(e,t,s){s.d(t,{m:function(){return n}});var a=s(59178);let i="/api/IeltsExamResult",n={getAll:e=>a.e.get(i,{params:e}),getQuestions:e=>a.e.get("".concat(i,"/ielts-question-in-section-result"),{params:e}),getByID:e=>a.e.get("".concat(i,"/").concat(e)),getDetailByID:e=>a.e.get("".concat(i,"/Detail/").concat(e)),getOverView:e=>a.e.get("".concat(i,"/ielts-exam-result-overview"),{params:e}),post:e=>a.e.post(i,e),addGroup:e=>a.e.post(i+"AddExerciseGroup",e),put:e=>a.e.put(i,e),review:e=>a.e.put(i+"/review",e),delete:e=>a.e.delete(i+"/"+e)}},93058:function(e,t,s){s.d(t,{F:function(){return n}});var a=s(59178);let i="/api/Customer",n={getAll:e=>a.e.get(i,{params:e}),getAllV2:e=>a.e.get("/api/Customer/v2",{params:e}),getWithID:e=>a.e.get(i+e),add:e=>a.e.post(i,e,{}),update:e=>a.e.put(i,e,{}),delete:e=>a.e.delete("".concat(i,"/").concat(e)),keyPutCustomersForSaler:"PUT /api/Customer/customers-for-saler",putCustomersForSaler:(e,t,s)=>a.e.put("".concat(i,"/customers-for-saler?branchId=").concat(e,"&saleId=").concat(t),s),keyCustomerSearch:"GET /api/Customer/customer-search",customerSearch:e=>a.e.get("".concat(i,"/customer-search"),{params:e}),getNoteByCustomer:e=>a.e.get("/api/CustomerNote",{params:e}),addNote:e=>a.e.post("/api/CustomerNote",e,{}),deleteNote:e=>a.e.delete("/api/CustomerNote/".concat(e)),sendEmail:e=>a.e.post("".concat(i,"/send-mail"),e,{}),checkExist:e=>a.e.get("".concat(i,"/check-exist"),{params:e}),importCustomer(e){let t=new FormData;return t.append("File",e),a.e.post("".concat(i,"/ImportCustomer"),t,{headers:{"Content-Type":"multipart/form-data"}})},getStudentNotes:e=>a.e.get("/api/StudentNote",{params:e}),addStudentNote:e=>a.e.post("/api/StudentNote",e,{}),deleteStudentNote:e=>a.e.delete("/api/StudentNote/".concat(e)),getStudentGrades:e=>a.e.get("/api/TestAppointment",{params:e}),getStaffNotes:e=>a.e.get("/api/StaffNote",{params:e}),addStaffNote:e=>a.e.post("/api/StaffNote",e,{}),deleteStaffNote:e=>a.e.delete("/api/StaffNote/".concat(e)),viewImportCustomer(e,t){let s=new FormData;return s.append("file",t),s.append("BranchIds",String(e)),a.e.post("".concat(i,"/view-import-customer"),s,{headers:{"Content-Type":"multipart/form-data"}})},exportSampleExcel:e=>a.e.get("".concat(i,"/export-sample-excel"),{params:e}),insertAfterImport:e=>a.e.post("".concat(i,"/insert-after-import"),e),customerHistoryStatus:e=>a.e.get("".concat(i,"/customer-history-status/").concat(e)),exportExcel:e=>a.e.get("".concat(i,"/excel"),{params:e})}},59105:function(e,t,s){var a=s(85893),i=s(67294),n=s(63237),l=s(3027),c=s(64735);t.Z=e=>{let{handleDelete:t,text:s,title:r,setShowPop:o,disable:d}=e,[x,m]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1),p=()=>{t&&(h(!0),t().then(e=>{(null==e?void 0:e.status)==200&&m(!1)}).finally(()=>h(!1)))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{className:"".concat(d?"opacity-30 mt-[-8px]":""),disabled:d,color:"primary",type:"button",icon:"remove",placementTooltip:"left",tooltip:r||"X\xf3a",onClick:function(){m(!0),o&&o("")}}),(0,a.jsx)(n.Z,{title:"X\xe1c nhận x\xf3a",open:x,onCancel:()=>m(!1),footer:(0,a.jsxs)("div",{className:"flex-all-center",children:[(0,a.jsx)(l.Z,{type:"button",icon:"cancel",background:"transparent",onClick:()=>m(!1),className:"mr-2 btn-outline",children:"Hủy"}),(0,a.jsx)(l.Z,{type:"button",icon:"remove",background:"red",onClick:()=>p(),disable:u,loading:u,children:"X\xf3a"})]}),children:(0,a.jsxs)("p",{className:"text-base text-center",children:["Bạn muốn x\xf3a ",(0,a.jsx)("span",{className:"text-[#f25767]",children:s}),"?"]})})]})}},8123:function(e,t,s){var a=s(85893),i=s(34223),n=s(66946);s(67294),t.Z=function(e){return(0,a.jsxs)("div",{className:"pt-5 pb-5",children:[(null==e?void 0:e.loading)&&(0,a.jsx)("div",{style:{width:"90%"},children:(0,a.jsx)(i.Z,{round:!0,active:!0})}),!(null==e?void 0:e.loading)&&(0,a.jsx)(n.Z,{description:!1,children:(0,a.jsx)("div",{className:"disable",children:"Kh\xf4ng c\xf3 dữ liệu"})})]})}},63242:function(e,t,s){s.d(t,{Z:function(){return l}});var a=s(85893),i=s(31379),n=s(74253);function l(e){let{style:t,label:s,isRequired:l,className:c,allowClear:r,placeholder:o,disabled:d,name:x,rules:m,rows:u,maxLength:h,onChange:p}=e;return(0,a.jsx)(i.Z.Item,{name:x,style:t,label:s,className:"".concat(c),required:l,rules:m,children:(0,a.jsx)(n.default.TextArea,{className:"primary-input !h-auto ".concat(c),rows:u||5,allowClear:r,placeholder:o,disabled:d,onChange:e=>!!p&&p(e),maxLength:h})})}},57844:function(e,t,s){var a=s(85893);s(67294);var i=s(3027);t.Z=e=>{let{hideCancel:t,hideOK:s,cancelText:n,buttonFull:l,okText:c,children:r,layout:o,position:d,onCancel:x,onOK:m,loading:u}=e;return(0,a.jsxs)("div",{className:"".concat("vertical"==o?"flex flex-col":"horizontal"==o?"flex flex-column":"inline-flex"," ").concat("end"==d?"justify-end":"left"==d?"justify-start":"justify-center"," w-full ").concat(l?"flex":""),children:[!t&&(0,a.jsx)(i.Z,{className:"".concat(l?"flex-1":""),onClick:()=>!!x&&x(),background:"red",icon:"cancel",type:"button",children:n||"Hủy"}),!t&&!s&&(0,a.jsx)("div",{className:"ml-3 mt-2"}),!s&&(0,a.jsx)(i.Z,{className:"".concat(l?"flex-1":""),loading:u,disable:u,onClick:()=>!!m&&m(),type:"button",icon:"save",background:"blue",children:c||"Lưu"}),r]})}},58759:function(e,t,s){var a=s(85893);s(67294),t.Z=e=>{let{id:t,children:s,content:i,className:n}=e;return(0,a.jsx)("a",{className:n||"","data-tooltip-id":"primary-tooltip","data-tooltip-content":i,children:s},t)}},3027:function(e,t,s){var a=s(85893),i=s(69361),n=s(92493),l=s(49367),c=s(8285),r=s(84295),o=s(92594),d=s(18644),x=s(92088),m=s(54425),u=s(75985),h=s(22101),p=s(48506);t.Z=e=>{let{background:t,children:s,icon:g,type:f="button",onClick:v,className:j,disable:b,loading:N,iconClassName:z,mobileIconOnly:y}=e,w=z||"",S=()=>{"button"==f&&!b&&v&&v()};return(0,a.jsxs)("button",{disabled:!!b||!!N,type:f,onClick:e=>{switch(g){case"upload":case"excel":break;default:e.stopPropagation()}b||S()},className:"font-medium none-selection gap-[8px] rounded-lg h-[36px] px-[10px] inline-flex items-center justify-center !flex-shrink-0 ".concat(b||N?"bg-[#cacaca] hover:bg-[#bababa] focus:bg-[#acacac] cursor-not-allowed":"green"==t?"bg-[#4CAF50] hover:bg-[#449a48] focus:bg-[#38853b]":"blue"==t?"bg-[#0A89FF] hover:bg-[#157ddd] focus:bg-[#1576cf]":"red"==t?"!bg-[#C94A4F] hover:!bg-[#b43f43] focus:!bg-[#9f3136]":"yellow"==t?"bg-[#FFBA0A] hover:bg-[#e7ab11] focus:bg-[#d19b10]":"black"==t?"bg-[#000] hover:bg-[#191919] focus:bg-[#313131]":"primary"==t?"bg-[#1b73e8] hover:bg-[#1369da] focus:bg-[#1b73e8]":"purple"==t?"bg-[#8E24AA] hover:bg-[#7B1FA2] focus:bg-[#8E24AA]":"disabled"==t?"bg-[#cacaca] hover:bg-[#bababa] focus:bg-[#acacac] cursor-not-allowed":"orange"==t?"bg-[#FF9800] hover:bg-[#f49302] focus:bg-[#f49302] cursor-not-allowed":"transparent"==t?"bg-[] hover:bg-[] focus:bg-[]":"white"===t?"bg-[#ffffff] border-[1px] border-[#D6DAE1] hover:bg-[#D6DAE1] focus:bg-[#D6DAE1]":void 0," ").concat(b||N?"text-white":"green"==t||"blue"==t||"red"==t?"text-white ":"yellow"==t?"text-black":"black"==t||"primary"==t||"purple"==t||"disabled"==t?"text-white":void 0," ").concat(j," transition-all duration-300"),children:[!!N&&(0,a.jsx)(i.Z,{className:"loading-base !ml-0 !mt-[1px]"}),!!g&&!N&&("sort"==g?(0,a.jsx)(r.roE,{size:18,className:w}):"add"==g?(0,a.jsx)(n.Z,{size:18,className:w}):"cart"==g?(0,a.jsx)(p.fhZ,{size:20,className:w}):"edit"==g?(0,a.jsx)(o.vPQ,{size:18,className:w}):"cancel"==g?(0,a.jsx)(o.$Rx,{size:18,className:w}):"save"==g?(0,a.jsx)(o.mW3,{size:18,className:w}):"remove"==g?(0,a.jsx)(o.Ybf,{size:18,className:w}):"check"==g?(0,a.jsx)(l.KP3,{size:18,className:w}):"exchange"==g?(0,a.jsx)(m.F7l,{size:22,className:w}):"eye"==g?(0,a.jsx)(l.Zju,{size:20,className:w}):"print"==g?(0,a.jsx)(l.s4T,{size:20,className:w}):"hide"==g?(0,a.jsx)(c.nJ9,{size:18,className:w}):"file"==g?(0,a.jsx)(l.Ehc,{size:18,className:w}):"download"==g?(0,a.jsx)(p.HXz,{size:22,className:w}):"upload"==g?(0,a.jsx)(p.S7F,{size:22,className:w}):"reset"==g?(0,a.jsx)(c.oAZ,{size:20,className:w}):"search"==g?(0,a.jsx)(c.wnI,{size:20,className:w}):"excel"==g?(0,a.jsx)(h.bBH,{size:18,className:w}):"power"==g?(0,a.jsx)(d.y1A,{size:20,className:w}):"enter"==g?(0,a.jsx)(d.Wem,{size:20,className:w}):"send"==g?(0,a.jsx)(o.LbG,{size:18,className:w}):"payment"==g?(0,a.jsx)(x.IDG,{size:18,className:w}):"arrow-up"==g?(0,a.jsx)(m.Tvk,{size:18,className:w}):"arrow-down"==g?(0,a.jsx)(m.ebp,{size:18,className:w}):"calculate"==g?(0,a.jsx)(m.eAe,{size:18,className:w}):"full-screen"==g?(0,a.jsx)(x.Mmr,{size:18,className:w}):"restore-screen"==g?(0,a.jsx)(x.nyS,{size:18,className:w}):"input"==g?(0,a.jsx)(u.j6p,{size:18,className:w}):"mic"==g?(0,a.jsx)(d.RU_,{size:25,className:w}):"exportPDF"===g?(0,a.jsx)(r.yRW,{size:16,className:w}):void 0),y?(0,a.jsx)("div",{className:"hidden w600:inline",children:s}):s]})}},64735:function(e,t,s){var a=s(85893),i=s(67294),n=s(32655),l=s(62944),c=s(30833),r=s(78268),o=s(31181),d=s(80181),x=s(32941),m=s(49367),u=s(8285),h=s(65890),p=s(62914),g=s(78773),f=s(92594),v=s(85340),j=s(92088),b=s(54425),N=s(48506),z=s(43291),y=s(11583),w=s(58759);t.Z=e=>{let{tooltip:t,background:s,icon:S,type:C,onClick:Z,className:F,color:I,size:k,disabled:A,placementTooltip:P}=e;return(0,i.useRef)(null),(0,a.jsx)(w.Z,{className:"z-[100]",place:P||"top",content:t,id:"".concat(crypto.randomUUID()),children:(0,a.jsx)("button",{type:C,onClick:!A&&(e=>{"button"==C&&Z&&Z(e)}),className:"none-selection rounded-lg w-auto inline-flex items-center btn-icon cursor-pointer ".concat("green"==s?"bg-[#4CAF50] hover:bg-[#449a48] focus:bg-[#38853b]":"blue"==s?"bg-[#0A89FF] hover:bg-[#157ddd] focus:bg-[#1576cf]":"red"==s?"bg-[#C94A4F] hover:bg-[#b43f43] focus:bg-[#9f3136]":"yellow"==s?"bg-[#FFBA0A] hover:bg-[#e7ab11] focus:bg-[#d19b10]":"black"==s?"bg-[#000] hover:bg-[#191919] focus:bg-[#313131]":"primary"==s?"bg-[#ab1d38] hover:bg-[#9a1b33] focus:bg-[#85172c]":"purple"==s?"bg-[#800080] hover:bg-[#660066] focus:bg-[#4c004c]":"disabled"==s?"bg-[#cacaca] hover:bg-[#bababa] focus:bg-[#acacac] cursor-not-allowed":"bg-transparent"," ").concat("purple"==I?"text-[#800080] hover:text-[#660066] focus:text-[#4c004c]":"white"==I?"text-[#fff] hover:text-[#fff] focus:text-[#fff]":"green"==I?"text-[#4CAF50] hover:text-[#449a48] focus:text-[#38853b]":"blue"==I?"text-[#0A89FF] hover:text-[#157ddd] focus:text-[#1576cf]":"red"==I?"text-[#C94A4F] hover:text-[#b43f43] focus:text-[#9f3136]":"yellow"==I?"text-[#FFBA0A] hover:text-[#e7ab11] focus:text-[#d19b10]":"black"==I?"text-[#000] hover:text-[#191919] focus:text-[#313131]":"primary"==I?"text-[#ab1d38] hover:text-[#9a1b33] focus:text-[#85172c]":"disabled"==I?"text-[#cacaca] hover:text-[#bababa] focus:text-[#acacac] cursor-not-allowed":"transparent"==I?"text-transparent":void 0," ").concat(F),children:!!S&&("add"==S?(0,a.jsx)(p.DFN,{size:k||22}):"edit"==S?(0,a.jsx)(n.Z,{size:20}):"warning"==S?(0,a.jsx)(z.fB,{size:k||22}):"edit3"==S?(0,a.jsx)(l.Z,{size:20}):"remove"==S?(0,a.jsx)(c.Z,{size:20}):"check"==S?(0,a.jsx)(m.KP3,{size:k||22}):"eye"==S?(0,a.jsx)(m.Zju,{size:k||22}):"exchange"==S?(0,a.jsx)(b.F7l,{size:k||24}):"more"==S?(0,a.jsx)(f.$Pu,{size:k||22}):"document"==S?(0,a.jsx)(p.K46,{size:k||22}):"download"==S?(0,a.jsx)(N.HXz,{size:k||22}):"filter"==S?(0,a.jsx)(v.Yv7,{size:k||22}):"menu"==S?(0,a.jsx)(f.cur,{}):"upload"==S?(0,a.jsx)(N.S7F,{size:k||22}):"cancel"==S?(0,a.jsx)(j.xg7,{size:k||22}):"x"==S?(0,a.jsx)(r.Z,{className:"mt-[0.5px] mb-[-1px]",size:k||22}):"login"==S?(0,a.jsx)(o.Z,{className:"mt-[0.5px] mb-[-1px]",size:k||22}):"send"==S?(0,a.jsx)(f.LbG,{size:22}):"file"==S?(0,a.jsx)(d.Z,{className:"mt-[0.5px] mb-[-1px]",size:k||22}):"print"==S?(0,a.jsx)(f.ViN,{className:"mt-[0.5px] mb-[-1px]",size:k||22}):"user-group"==S?(0,a.jsx)(m.Zev,{size:k||22}):"book"==S?(0,a.jsx)(x.Z,{size:k||20}):"info"==S?(0,a.jsx)(m.ocf,{size:k||20}):"save"==S?(0,a.jsx)(f.mW3,{size:k||20}):"up-arrow"==S?(0,a.jsx)(f.OeJ,{size:k||20}):"down-arrow"==S?(0,a.jsx)(f.UJB,{size:k||20}):"tutoring"==S?(0,a.jsx)(g.FcZ,{size:k||20}):"reset"==S?(0,a.jsx)(u.oAZ,{size:k||20}):"study"==S?(0,a.jsx)(N.EW2,{size:k||20}):"note"==S?(0,a.jsx)(g.KPP,{size:k||19}):"hide"==S?(0,a.jsx)(y.m$g,{size:k||20}):"salary"==S?(0,a.jsx)(N.b2g,{size:k||20}):"history"==S?(0,a.jsx)(h.NbQ,{size:k||20}):void 0)})})}},72444:function(e,t,s){var a=s(85893),i=s(67294),n=s(96361),l=s(28210),c=s(8123);let r=i.memo(e=>{var t,s,r;let[o,d]=(0,i.useState)([]),[x,m]=(0,i.useState)(null),u=e=>{let t=[];t.indexOf(e.key)>=0?t.splice(t.indexOf(e.key),1):t.push(e.key)},h=t=>{if(void 0===e.getPagination)return t;e.getPagination(t)};return(0,i.useEffect)(()=>{let t=JSON.parse(JSON.stringify(e.dataSource));t.forEach((e,t)=>{e.key=t.toString()}),d(t)},[e.dataSource]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"nested-table",children:(0,a.jsxs)(n.Z,{className:"cardRadius mb-3 ".concat(e.addClass&&e.addClass," ").concat(e.Size?e.Size:""),title:e.Extra,extra:e.TitleCard,children:[e.children,0==o.length&&(0,a.jsx)(c.Z,{loading:null===(t=e.loading)||void 0===t?void 0:t.status}),o.length>0&&(0,a.jsx)(l.Z,{className:e.addClass&&e.addClass,loading:(null===(s=e.loading)||void 0===s?void 0:s.type)=="GET_ALL"&&(null===(r=e.loading)||void 0===r?void 0:r.status),bordered:!!e.haveBorder&&e.haveBorder,scroll:{x:"max-content"},columns:e.columns,dataSource:o,size:"middle",pagination:{showTotal:()=>(0,a.jsxs)("div",{className:"font-weight-black",children:["Tổng cộng: ",e.totalPage]}),pageSize:30,pageSizeOptions:["30"],total:e.totalPage&&e.totalPage,onChange:e=>h(e),current:e.currentPage&&e.currentPage},rowClassName:(e,t)=>t==x?"table-row-active":t%2==0?"table-row-light":"table-row-dark",onRow:(e,t)=>({onClick:()=>{u(e),m(t)}})})]})})})});t.Z=r},69759:function(e,t,s){s.d(t,{cL:function(){return d},Yx:function(){return a.Z},vM:function(){return D}});var a=s(58759),i=s(85893),n=s(67294),l=s(49367),c=s(78773),r=s(30653),o=s(48506),d=e=>{let{data:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"bottom-header-exam",children:[(0,i.jsxs)("div",{className:"header-exam-total",children:["Tổng số c\xe2u: ",null==t?void 0:t.NumberExercise]}),(0,i.jsxs)("div",{className:"header-exam-info",children:[(0,i.jsxs)("div",{className:"header-exam-info-item mr-2 ",children:[(0,i.jsx)(c.fSQ,{size:14,className:"mr-2"}),(0,i.jsxs)("div",{className:"mt-[2px]",children:[null==t?void 0:t.Time," Ph\xfat"]})]}),(0,i.jsxs)("div",{className:"header-exam-info-item",children:[(0,i.jsx)(l.x0b,{size:14,className:"mr-2"}),(0,i.jsxs)("div",{className:"mt-[2px]",children:["Cần ",null==t?void 0:t.PassPoint," điểm để đạt"]})]})]})]}),(0,i.jsxs)("div",{className:"preview-exam-detail",children:[(0,i.jsx)("div",{className:"prev-ex-de-item",children:(0,i.jsxs)("div",{className:"prev-ex-de-inner",children:[(0,i.jsx)("div",{className:"ex-de-in-icon bg-[#eef6e5]",children:(0,i.jsx)(o.iTx,{size:26,color:"#619e10"})}),(0,i.jsxs)("div",{className:"ex-de-in-content",children:[(0,i.jsx)("div",{className:"ex-de-co-title",children:"Dễ"}),(0,i.jsx)("div",{className:"ex-de-co-content text-[#619e10]",children:null==t?void 0:t.EasyExercise})]})]})}),(0,i.jsx)("div",{className:"prev-ex-de-item",children:(0,i.jsxs)("div",{className:"prev-ex-de-inner",children:[(0,i.jsx)("div",{className:"ex-de-in-icon bg-[#e6efff]",children:(0,i.jsx)(o.QE1,{size:26,color:"#2972d8"})}),(0,i.jsxs)("div",{className:"ex-de-in-content",children:[(0,i.jsx)("div",{className:"ex-de-co-title",children:"Trung b\xecnh"}),(0,i.jsx)("div",{className:"ex-de-co-content text-[#2972d8]",children:null==t?void 0:t.NormalExercise})]})]})}),(0,i.jsx)("div",{className:"prev-ex-de-item",children:(0,i.jsxs)("div",{className:"prev-ex-de-inner",children:[(0,i.jsx)("div",{className:"ex-de-in-icon bg-[#f8f0e6]",children:(0,i.jsx)(o.w0c,{size:26,color:"#be931b"})}),(0,i.jsxs)("div",{className:"ex-de-in-content",children:[(0,i.jsx)("div",{className:"ex-de-co-title",children:"Kh\xf3"}),(0,i.jsx)("div",{className:"ex-de-co-content text-[#be931b]",children:null==t?void 0:t.DifficultExercise})]})]})})]}),!!(null==t?void 0:t.Description)&&(0,i.jsxs)("div",{className:"col-span-8 mt-3 whitespace-pre-wrap",children:[(0,i.jsx)("div",{className:"text-[14px] font-[700]",children:"Hướng dẫn l\xe0m b\xe0i:"}),(0,r.ZP)(null==t?void 0:t.Description)]})]})},x=s(31379),m=s(28210),u=s(77024),h=s(30381),p=s.n(h),g=s(11163),f=s.n(g),v=s(9473),j=s(93058),b=s(63237),N=s(72444),z=s(39292),y=s(34223),w=s(66946),S=s(90436),C=s(3027),Z=e=>{let{item:t,isEntry:s}=e,a=(0,v.v9)(e=>e.user.information),[c,r]=(0,n.useState)(!1),[o,d]=(0,n.useState)([]);function x(){r(!c)}(0,n.useEffect)(()=>{c&&g(),s&&g()},[c,s]);let[u,h]=(0,n.useState)(!0);async function g(){h(!0);let e=(null==a?void 0:a.RoleId)=="3"?null==a?void 0:a.UserInformationId:null==t?void 0:t.StudentId;try{let a=await S.m.getAll({valueId:null==t?void 0:t.Id,studentId:e||null,pageIndex:1,pageSize:9999});if(200==a.status){var s;d(null===(s=a.data)||void 0===s?void 0:s.data)}else d([])}catch(e){}finally{h(!1)}}let f=(e,t,s)=>(0,i.jsx)("span",{className:"tag ".concat(["yellow","blue","green","red"][e-1]),style:{marginBottom:8,textAlign:"center"},children:t}),j=[{title:"Ng\xe0y l\xe0m",dataIndex:"CreatedOn",render:(e,t,s)=>(0,i.jsx)(i.Fragment,{children:p()(e).format("HH:mm DD/MM/YYYY")})},{title:"Điểm trắc nghiệm",dataIndex:"MyPoint",render:(e,t,s)=>(0,i.jsxs)("div",{className:"font-[700]",children:[e," / ",null==t?void 0:t.Point]})},{title:"Thời gian l\xe0m",dataIndex:"TimeSpent",render:(e,t,s)=>(0,i.jsxs)("div",{className:"font-[700]",children:[e," / ",null==t?void 0:t.Time," ph\xfat"]})},{title:"Đề",dataIndex:"Name"},{title:"Trạng th\xe1i",dataIndex:"Status",render:(e,t,s)=>(0,i.jsx)("div",{className:"flex items-center pt-[2px]",children:f(t.Status,t.StatusName,t.Thumbnail)})},{title:"",dataIndex:"Status",render:(e,t,s)=>(0,i.jsx)("div",{className:"flex items-center mt-[-2px]",children:(0,i.jsxs)("div",{onClick:()=>window.open("/exam-result/?test=".concat(null==t?void 0:t.Id),"_blank"),className:"pe-i-d-green !px-[8px] !h-[26px]",children:[(0,i.jsx)(l.Zju,{size:18}),(0,i.jsx)("div",{className:"pe-i-d-c-title",children:"Xem kết quả"})]})})}];return(0,i.jsxs)(i.Fragment,{children:[!s&&(0,i.jsx)(C.Z,{className:"mb-[8px]",onClick:x,background:"green",icon:"file",type:"button",children:"Lịch sử l\xe0m b\xe0i"}),s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"mb-[8px] font-[600] text-[16px]",children:"Kết quả l\xe0m b\xe0i"}),u&&(0,i.jsx)(y.Z,{active:!0,paragraph:!1}),!u&&0==o.length&&(0,i.jsx)("div",{className:"tag red",children:"Chưa l\xe0m b\xe0i"}),(0,i.jsx)(()=>(0,i.jsx)("div",{className:"mb-[24px]",children:o.map((e,t)=>(0,i.jsx)(m.Z,{pagination:!1,size:"small",columns:j,dataSource:o}))}),{})]}),(0,i.jsx)(b.Z,{open:c,width:900,footer:null,title:"Lịch sử l\xe0m b\xe0i",onCancel:x,children:(0,i.jsxs)("div",{className:"",children:[u&&(0,i.jsx)(y.Z,{}),!u&&0==o.length&&(0,i.jsx)("div",{className:"",children:(0,i.jsx)(w.Z,{})}),!u&&o.length>0&&(0,i.jsx)("div",{className:"gap-[8px] grid grid-cols-1 w600:grid-cols-2 w900:grid-cols-3",children:(0,i.jsx)(()=>(0,i.jsx)(i.Fragment,{children:o.map((e,t)=>{var s;return(0,i.jsxs)("div",{className:"flex border-[1px] p-[8px] rounded-[6px] border-[#f1f1f1] hover:border-[#1b73e8] flex-col items-start col-span-1",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{children:"Học vi\xean:"}),(0,i.jsx)("div",{className:"font-[600] ml-[4px]",children:null==e?void 0:e.StudentName})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{children:"Nộp b\xe0i: "}),(0,i.jsx)("div",{className:"font-[600]",children:null===(s=p()(null==e?void 0:e.CreatedOn))||void 0===s?void 0:s.format("HH:mm DD/MM/YYYY")})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{children:"Điểm: "}),(0,i.jsxs)("div",{className:"font-[600] ml-[4px]",children:[null==e?void 0:e.MyPoint," / ",null==e?void 0:e.Point]})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{children:"Thời gian l\xe0m: "}),(0,i.jsxs)("div",{className:"font-[600] ml-[4px]",children:[null==e?void 0:e.TimeSpent," / ",null==e?void 0:e.Time," ph\xfat"]})]}),(0,i.jsx)("div",{className:"flex items-center mt-[8px]",children:(0,i.jsxs)("div",{onClick:()=>window.open("/exam-result/?test=".concat(null==e?void 0:e.Id),"_blank"),className:"pe-i-d-green !px-[8px] !h-[26px]",children:[(0,i.jsx)(l.Zju,{size:18}),(0,i.jsx)("div",{className:"pe-i-d-c-title",children:"Xem kết quả"})]})})]},"res-".concat(t,"-").concat(null==e?void 0:e.Id))})}),{})})]})})]})},F=s(58416),I=s(42006),k=s(59105),A=s(63242),P=s(57844);let T=(e,t)=>1===t?{colSpan:0}:{},E=[{title:"Listening",dataIndex:"ListeningPoint",rowScope:"row"},{title:"Speaking",dataIndex:"SpeakingPoint",render:(e,t,s)=>(0,i.jsx)("div",{className:"whitespace-pre-wrap min-h-[21px]",children:e})},{title:"Reading",dataIndex:"ReadingPoint",onCell:T},{title:"Writing",dataIndex:"WritingPoint",onCell:T},{title:"Vocabulary",dataIndex:"Vocab",onCell:T},{title:"Học ph\xed tư vấn",dataIndex:"Tuitionfee",onCell:T}];var D=e=>{let{studentId:t,rowData:s,isStaff:a}=e,[l,c]=(0,n.useState)([]),o=a?{StaffId:t,pageSize:z.I,pageIndex:1}:{studentId:t,pageSize:z.I,pageIndex:1},[d]=x.Z.useForm(),[h,g]=(0,n.useState)(o),[y,w]=(0,n.useState)(!1),[S,C]=(0,n.useState)(!1),[T,D]=(0,n.useState)([]),[B]=(0,n.useState)(E),H=(0,v.v9)(e=>e.user.information);(0,n.useEffect)(()=>{t&&L()},[h,t]),(0,n.useEffect)(()=>{c([{...s}])},[s]);let Y=async e=>{try{let t=await (a?j.F.deleteStaffNote(e):j.F.deleteStudentNote(e));if(200==t.status)return w(!1),g(o),(0,F.fr)("success",t.data.message),t}catch(e){(0,F.fr)("error",e.message)}},O=[{width:550,title:"Ghi ch\xfa",dataIndex:"Note",render:e=>(0,i.jsx)("p",{children:(0,r.ZP)(e)})},{title:"Tạo ng\xe0y",dataIndex:"CreatedOn",render:e=>(0,i.jsx)("p",{children:p()(e).format("DD/MM/YYYY HH:mm")})},{title:"Người tạo",dataIndex:"CreatedBy"},{title:"Chức năng",render:e=>(0,i.jsx)(i.Fragment,{children:((0,I.is)(H).admin||(0,I.is)(H).manager||(0,I.is)(H).teacher||(0,I.is)(H).academic)&&(0,i.jsx)(k.Z,{handleDelete:()=>Y(null==e?void 0:e.Id)})})}],L=async()=>{try{let e=await (a?j.F.getStaffNotes(h):j.F.getStudentNotes(h));200==e.status?D(e.data.data):D([])}catch(e){(0,F.fr)("error",e.message)}},G=async e=>{C(!0);try{let s=await (a?j.F.addStaffNote({...e,StaffId:t}):j.F.addStudentNote({...e,studentId:t}));200===s.status&&(w(!1),d.resetFields(),L(),g(o),(0,F.fr)("success",s.data.message))}catch(e){(0,F.fr)("error",e.message)}finally{C(!1)}},M=()=>{w(!1)};return(0,i.jsxs)("div",{className:"mt-2",children:[(0,i.jsx)(b.Z,{footer:(0,i.jsx)(P.Z,{loading:S,onOK:d.submit,onCancel:M}),title:"Th\xeam ghi ch\xfa",open:y,onOk:()=>{w(!1)},onCancel:M,width:500,children:(0,i.jsx)(x.Z,{layout:"vertical",form:d,onFinish:G,children:(0,i.jsx)(A.Z,{className:"primary-input !h-auto !mb-0",rows:8,name:"Note",label:""})})}),(0,i.jsxs)("div",{className:"flex items-start flex-col",children:[!f().asPath.includes("/users/personnel")&&(null==s?void 0:s.Type)==2&&(0,i.jsx)(Z,{isEntry:!0,item:s}),!f().asPath.includes("/users/personnel")&&(null==s?void 0:s.Type)==1&&(0,i.jsxs)("div",{className:"mb-[16px]",children:[(0,i.jsxs)("div",{className:"mb-[8px]",children:["Ghi ch\xfa: ",null==s?void 0:s.Note]}),(0,i.jsx)(m.Z,{pagination:!1,size:"small",columns:B,dataSource:l})]})]}),((0,I.is)(H).admin||(0,I.is)(H).manager||(0,I.is)(H).teacher||(0,I.is)(H).academic)&&(0,i.jsx)(u.Z,{className:"",title:"Th\xeam ghi ch\xfa",children:(0,i.jsx)("button",{className:"btn btn-warning",onClick:()=>{w(!0)},children:"Th\xeam ghi ch\xfa"})}),(0,i.jsx)(N.Z,{addClass:"basic-header",dataSource:T,columns:O,haveBorder:!0})]})}},39292:function(e,t,s){s.d(t,{I:function(){return a}});let a=30}}]);