(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5518],{9848:function(e,t,s){"use strict";s.d(t,{n:function(){return o}});var n=s(59178);let o={getAccount:()=>n.e.get("/api/getAccount"),loginDev:e=>n.e.post("/api/LoginDev",e),newToken:()=>n.e.post("/api/NewToken")}},59178:function(e,t,s){"use strict";s.d(t,{e:function(){return d}});var n=s(9669),o=s.n(n),a=s(53265),r=s(97396);function i(e){return(null==e?void 0:e.baseURL)?e.url.replace(e.baseURL,"").split("?")[0]:e.url}console.log("%cSWIMMING API:","color: #00BCD4; font-weight: bold",a.Z.hostURL);let l=async()=>{let e=await JSON.parse(localStorage.getItem("userData"));return e&&e.token?{token:e.token}:{}};function c(e){return(e/1e3).toFixed(1)}let d=o().create({baseURL:a.Z.hostURL,headers:{Accept:"application/json"}});d.interceptors.request.use(async e=>{if(!i(e).toString().includes("/auth/")){let t=await l();e.headers={...e.headers,...t},e.startCall=new Date().getTime()}return e},e=>{var t,s;return console.log("%c ".concat(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.status,"  :"),"color: red; font-weight: bold",null==e?void 0:null===(s=e.response)||void 0===s?void 0:s.data),Promise.reject(e)});let u=!1;d.interceptors.response.use(e=>{var t;let s="".concat(null==e?void 0:e.status," - ").concat(i(null==e?void 0:e.config)),n=new Date().getTime()-(null==e?void 0:null===(t=e.config)||void 0===t?void 0:t.startCall),o=n<1e3?"Rất nhanh":n>2e3?"Rất chậm":"Hơi nhanh",a="".concat(n,"ms --> ").concat(c(n),"s");return console.log(" %c ".concat(s,":"),"color: #008000; font-weight: bold",{timeSpend:a,rate:o,...e}),e},async function(e){var t,s,n,o,a,l,d,h,p,f,x,v;if((null==e?void 0:e.response)&&(console.log("error?.response",null==e?void 0:e.response),(null==e?void 0:null===(s=e.response)||void 0===s?void 0:s.status)!=401||u||(u=!0,(0,r.ni)()),(null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.status)==403&&(0,r.ni)()),i(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.config),(null==e?void 0:e.name)=="AbortError")console.log("Request canceled",e.message);else{if(null==e?void 0:e.response){(null==e?void 0:null===(o=e.response)||void 0===o?void 0:o.status)!=401||u||(u=!0,(0,r.ni)());let t="".concat(null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.status," - ").concat(i(null==e?void 0:null===(l=e.response)||void 0===l?void 0:l.config)),s=new Date().getTime()-(null==e?void 0:null===(h=e.response)||void 0===h?void 0:null===(d=h.config)||void 0===d?void 0:d.startCall),n=s<1e3?"Rất nhanh":s>2e3?"Rất chậm":"Hơi nhanh",f="".concat(s,"ms --> ").concat(c(s),"s");return console.log(" %c ".concat(t,":"),"color: red; font-weight: bold",{timeSpend:f,rate:n,...null==e?void 0:e.response}),(null==e?void 0:null===(p=e.response)||void 0===p?void 0:p.data)?Promise.reject(e.response.data):Promise.reject(e)}return e.request?(console.log("%c ".concat(JSON.stringify(e),"  :"),"color: red; font-weight: bold",null==e?void 0:null===(f=e.response)||void 0===f?void 0:f.data),(null==e?void 0:null===(x=e.response)||void 0===x?void 0:x.data)?Promise.reject(e.response.data):Promise.reject(e)):(console.log("%c ".concat(JSON.stringify(e),"  :"),"color: red; font-weight: bold","H\xecnh như l\xe0 setting sai"),(null==e?void 0:null===(v=e.response)||void 0===v?void 0:v.data)?Promise.reject(e.response.data):Promise.reject(e))}})},38424:function(e,t,s){"use strict";var n=s(85893),o=s(77024),a=s(67294),r=s(11828),i=s(58416),l=s(96643);t.Z=e=>{let{value:t,tooltipPlacement:s}=e,[c,d]=(0,a.useState)(!1),u=e=>{c||(navigator.clipboard.writeText(e),(0,i.fr)("success","Đ\xe3 sao ch\xe9p "+e+"!"),d(!0),setTimeout(()=>{d(!1)},1e3))};return(0,n.jsx)(o.Z,{title:"Sao ch\xe9p",placement:s||"left",children:(0,n.jsxs)("button",{className:"flex items-center gap-1 cursor-pointer border-[#53535399] hover:bg-[#e3e3e3] hover:border-[#c9c9c9] bg-[#fafafa] rounded px-1 w-fit border",onClick:()=>{u(t)},children:[c?(0,n.jsx)(r.Gy1,{size:16,color:"#53535399"}):(0,n.jsx)(l.ef8,{size:16,color:"#53535399"}),(0,n.jsx)("span",{className:"font-medium",children:t})]})})}},36831:function(e,t,s){"use strict";s.d(t,{J:function(){return r}});var n=s(30381),o=s.n(n);class a{secondToHHMMSS(e){var t=parseInt(e,10).toString(),s=Math.floor(parseInt(t)/3600).toString(),n=Math.floor((parseInt(t)-3600*parseInt(s))/60).toString();return t=(parseInt(t)-3600*parseInt(s)-60*parseInt(n)).toString(),10>parseInt(s)&&(s="0"+s),10>parseInt(n)&&(n="0"+n),10>parseInt(t)&&(t="0"+t),s+":"+n+":"+t}constructor(){this.toDDMMYYYY=e=>o()(e).format("DD/MM/YYYY"),this.toDDMMYYYHHmm=e=>o()(e).format("DD/MM/YYYY HH:mm"),this.toHHmm=e=>o()(e).format("HH:mm"),this.toHHmmss=e=>o()(e).format("HH:mm:ss"),this.numberToPrice=e=>{let t=(e+="").split("."),s=t[0],n=t.length>1?"."+t[1]:"",o=/(\d+)(\d{3})/;for(;o.test(s);)s=s.replace(o,"$1,$2");return s+n},this.priceToNumber=e=>parseInt(e.toString().replace(/\D/g,""))||0}}let r=new a},58416:function(e,t,s){"use strict";s.d(t,{Gu:function(){return c.Z},fr:function(){return i.Z},Zv:function(){return r},Jy:function(){return o.J},cM:function(){return l.c},aj:function(){return n.aj},Dc:function(){return n.Dc}});var n=s(42006),o=s(36831);class a{checkURL(e){return null==e?void 0:e.match(/\.(jpeg|jpg|gif|png)$/)}constructor(){this.isNumber=e=>!!e.match(/^-?[0-9]\d*([,.]\d+)?$/)}}let r=new a;var i=s(65146),l=s(83436),c=s(68821)},68821:function(e,t,s){"use strict";var n=s(65146);class o{constructor(){this.success=e=>{(0,n.Z)("success",e)},this.error=e=>{(0,n.Z)("error",e)},this.warning=e=>{(0,n.Z)("warning",e)}}}let a=new o;t.Z=a},5518:function(e,t,s){"use strict";s.r(t);var n=s(85893),o=s(67294),a=s(9848),r=s(31379),i=s(74253),l=s(28210),c=s(9473),d=s(3826),u=s(66742),h=s(97396),p=s(66266),f=s.n(p),x=s(38424),v=s(62914),m=s(65890),g=s(72833);let j="h-[32px] px-[8px] rounded-[8px] flex items-center justify-center border-[1px] border-[#d2d2d2] text-[#000] text-[14px] font-[600] cursor-pointer none-selection";t.default=()=>{let[e]=r.Z.useForm(),t=(0,c.I0)(),[s,p]=(0,o.useState)(!1),[b,N]=(0,o.useState)([]),[y,w]=(0,o.useState)([]),[k,I]=(0,o.useState)({admins:[],teachers:[],students:[],parents:[],others:[]}),[S,D]=(0,o.useState)(1);(0,o.useEffect)(()=>{1==S&&N(y),2==S&&N(k.admins),3==S&&N(k.teachers),4==S&&N(k.students),5==S&&N(k.parents),6==S&&N(k.others)},[S]);let H=[{title:"ID",dataIndex:"Id",key:"Id",render:e=>(0,n.jsx)(x.Z,{value:e})},{title:"Chức vụ",dataIndex:"RoleName",key:"RoleName",render:(e,t)=>"Admin"==e?(0,n.jsx)("div",{className:"flex justify-start",children:(0,n.jsx)("div",{className:"py-[1px] px-[8px] rounded-[4px] bg-[#1976D2]",children:(0,n.jsx)("div",{className:"font-[600] text-[#fff]",children:e})})}):"Gi\xe1o vi\xean"==e||"Giảng vi\xean"==e?(0,n.jsx)("div",{className:"flex justify-start",children:(0,n.jsx)("div",{className:"py-[1px] px-[8px] rounded-[4px] bg-[#009688]",children:(0,n.jsx)("div",{className:"font-[600] text-[#fff]",children:e})})}):"Học vi\xean"==e||"Học sinh"==e?(0,n.jsx)("div",{className:"flex justify-start",children:(0,n.jsx)("div",{className:"py-[1px] px-[8px] rounded-[4px] bg-[#9C27B0]",children:(0,n.jsx)("div",{className:"font-[600] text-[#fff]",children:e})})}):"Phụ huynh"==e?(0,n.jsx)("div",{className:"flex justify-start",children:(0,n.jsx)("div",{className:"py-[1px] px-[8px] rounded-[4px] bg-[#F4511E]",children:(0,n.jsx)("div",{className:"font-[600] text-[#fff]",children:e})})}):(0,n.jsx)("div",{className:"flex justify-start",children:(0,n.jsx)("div",{className:"py-[1px] px-[8px] rounded-[4px] bg-[#777777]",children:(0,n.jsx)("div",{className:"font-[600] text-[#fff]",children:e})})})},{title:"Họ t\xean",dataIndex:"FullName",key:"FullName",render:(e,t)=>(0,n.jsx)("div",{className:"font-[600] text-[#1976D2]",children:e})}],Z=async()=>{try{let e=await a.n.getAccount();if(200==e.status){let t=function(e){let t={admins:[],teachers:[],students:[],parents:[],others:[]};return e.forEach(e=>{switch(e.RoleName){case"Admin":t.admins.push(e);break;case"Giảng vi\xean":case"Gi\xe1o vi\xean":t.teachers.push(e);break;case"Học sinh":case"Học vi\xean":t.students.push(e);break;case"Phụ huynh":t.parents.push(e);break;default:t.others.push(e)}}),t}(e.data.data);I(t),w(e.data.data),N(e.data.data)}}catch(e){alert(e.message)}};(0,o.useEffect)(()=>{Z(),t((0,d.av)(null)),t((0,u.jZ)([])),t((0,u.qL)(0)),t((0,u.qO)({closing:0,opening:0,totalRow:0,upcoming:0}))},[]);let E=async e=>{try{p(!0);let s=await a.n.loginDev(e);200==s.status&&(0,h.tr)(null==s?void 0:s.data,t)}catch(e){(0,g.xZ)(e),p(!1)}};return(0,n.jsxs)("div",{className:"mx-auto max-w-[750px]",children:[(0,n.jsx)(r.Z,{form:e,onFinish:E,children:(0,n.jsxs)("div",{className:"mx-[24px] mt-[24px] flex",children:[(0,n.jsx)(r.Z.Item,{name:"PassDev",className:"mr-[16px]",children:(0,n.jsx)(i.default,{defaultValue:"",placeholder:"Super password",className:"border-[1px] rounded-md mr-4 p-2 text-xl"})}),(0,n.jsx)(r.Z.Item,{name:"Id",className:"mr-[16px]",children:(0,n.jsx)(i.default,{className:"border-[1px] rounded-md mr-4 p-2 text-xl",placeholder:""})}),(0,n.jsxs)("button",{disabled:s,className:"bg-tw-orange text-white h-[40px] px-4 rounded font-semibold",type:"submit",children:["Sneak in ",s?(0,n.jsx)(v.frZ,{className:"animate-spin",size:20}):(0,n.jsx)(m.C5e,{size:19})]})]})}),(0,n.jsxs)("div",{className:"my-[16px] mt-[-8] mx-[24px] w-[90%] flex flex-row flex-wrap justify-start items-start gap-[16px]",children:[(0,n.jsx)("div",{onClick:()=>D(1),className:"".concat(j," ").concat(1!=S?"":"bg-[#E91E63] text-[#fff]"),children:(0,n.jsxs)("div",{children:["Tất cả (",y.length,")"]})}),(0,n.jsx)("div",{onClick:()=>D(2),className:"".concat(j," ").concat(2!=S?"":"bg-[#E91E63] text-[#fff]"),children:(0,n.jsxs)("div",{children:["Admin (",k.admins.length,")"]})}),(0,n.jsx)("div",{onClick:()=>D(3),className:"".concat(j," ").concat(3!=S?"":"bg-[#E91E63] text-[#fff]"),children:(0,n.jsxs)("div",{children:["Gi\xe1o vi\xean (",k.teachers.length,")"]})}),(0,n.jsx)("div",{onClick:()=>D(4),className:"".concat(j," ").concat(4!=S?"":"bg-[#E91E63] text-[#fff]"),children:(0,n.jsxs)("div",{children:["Học vi\xean (",k.students.length,")"]})}),(0,n.jsx)("div",{onClick:()=>D(5),className:"".concat(j," ").concat(5!=S?"":"bg-[#E91E63] text-[#fff]"),children:(0,n.jsxs)("div",{children:["Phụ huynh (",k.parents.length,")"]})}),(0,n.jsx)("div",{onClick:()=>D(6),className:"".concat(j," ").concat(6!=S?"":"bg-[#E91E63] text-[#fff]"),children:(0,n.jsxs)("div",{children:["Kh\xe1c (",k.others.length,")"]})})]}),(0,n.jsx)("div",{className:f()["hacked-table"],children:(0,n.jsx)(l.Z,{pagination:!1,size:"small",columns:H,dataSource:b})})]})}},66266:function(e){e.exports={"hover-opacity":"styles_hover-opacity__29CYh","hover-scale-out":"styles_hover-scale-out__ZxtmB","hover-scale-in":"styles_hover-scale-in__LcLJU","hacked-table":"styles_hacked-table__ALrPu"}}}]);