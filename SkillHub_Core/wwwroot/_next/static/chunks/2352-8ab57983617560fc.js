"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2352],{32883:function(e,t,a){a.d(t,{C:function(){return c},h:function(){return s}});var l=a(59178);let n="/api/Feedback",s={getAll:e=>l.e.get(n+"/v2",{params:e}),getByID:e=>l.e.get("".concat(n,"/").concat(e)),update:e=>l.e.put(n,e,{}),updateRating:e=>l.e.put("".concat(n,"/rating-feedback/").concat(e.Id,"?rating=").concat(e.Rating)),add:e=>l.e.post(n,e)},i="/api/FeedbackReply",c={getAll:e=>l.e.get(i,{params:e}),getByID:e=>l.e.get("".concat(i,"/").concat(e)),update:e=>l.e.put(i,e,{}),delete:e=>l.e.delete("".concat(i,"/").concat(e)),add:e=>l.e.post(i,e)}},77725:function(e,t,a){a.d(t,{C:function(){return n},a:function(){return s}});var l=a(59178);let n={getTotalLessonOfTeacher:e=>l.e.get("/api/Dashboard/TotalLesson_Teacher",{params:e}),getTeachingDetail:e=>l.e.get("/api/Dashboard/GetTeachingDetail",{params:e})},s={getOverview:e=>l.e.get("/api/Statistical/overview",{params:e}),getStudentAge:e=>l.e.get("/api/Statistical/student-age",{params:e}),getFeedBackRating:e=>l.e.get("/api/Statistical/feedback-rating",{params:e}),getNewClass:e=>l.e.get("/api/Statistical/new-class",{params:e}),getNewCustomer:e=>l.e.get("/api/Statistical/new-customer",{params:e}),getRevenue:e=>l.e.get("/api/Statistical/revenue",{params:e}),getFinanceCompareOverviewV2:e=>l.e.get("api/Statistical/FinanceCompareOverview/v2",{params:e}),getRevenueBySourceV2:e=>l.e.get("api/Statistical/RevenueBySource/v2",{params:e}),getExpenseYearV2:e=>l.e.get("api/Statistical/Expense12Month/v2",{params:e}),getRevenueYearV2:e=>l.e.get("api/Statistical/Revenue12Month/v2",{params:e}),getRevenueByCenterActivitiesV2:e=>l.e.get("api/Statistical/RevenueByCenterActivities/v2",{params:e}),getRevenueByStudentV2:e=>l.e.get("api/Statistical/RevenueByStudent/v2",{params:e}),getTopLearningNeed:e=>l.e.get("/api/Statistical/top-learning-need",{params:e}),getTopPurpose:e=>l.e.get("/api/Statistical/top-purpose",{params:e}),getTopSource:e=>l.e.get("/api/Statistical/top-source",{params:e}),getTopJob:e=>l.e.get("/api/Statistical/top-job",{params:e}),getTotalScheduleTeacher:e=>l.e.get("/api/Statistical/total-schedule-teacher",{params:e}),getTotalScheduleStudent:e=>l.e.get("/api/Statistical/total-schedule-student",{params:e}),getRateTeacher:e=>l.e.get("/api/Statistical/rate-teacher",{params:e}),getStatisticialTestAppointment:e=>l.e.get("/api/Statistical/api/Dashboard/StatisticialTestAppointment",{params:e}),getStatisticalNewCustomerofsales:e=>l.e.get("/api/Statistical/new-customerofsales",{params:e}),getCommissionSale:e=>l.e.get("/api/Statistical/commission-sale",{params:e}),exportExcel:e=>l.e.get("/api/Statistical/ExportCommissionSale",{params:e})}},8123:function(e,t,a){var l=a(85893),n=a(34223),s=a(66946);a(67294),t.Z=function(e){return(0,l.jsxs)("div",{className:"pt-5 pb-5",children:[(null==e?void 0:e.loading)&&(0,l.jsx)("div",{style:{width:"90%"},children:(0,l.jsx)(n.Z,{round:!0,active:!0})}),!(null==e?void 0:e.loading)&&(0,l.jsx)(s.Z,{description:!1,children:(0,l.jsx)("div",{className:"disable",children:"Kh\xf4ng c\xf3 dữ liệu"})})]})}},52814:function(e,t,a){var l=a(85893),n=a(96361),s=a(28210),i=a(67294),c=a(41570),d=a(8123),r=a(58416);t.Z=e=>{var t,a,o,u,h;let{title:x,extra:m,TitleCard:g,Extra:v,expandableProps:j={},uniqueIdKey:p="Id"}=e,[f,y]=(0,i.useState)({selectedRowKeys:[]}),[w,N]=(0,i.useState)([]),[S,b]=(0,i.useState)([{currentPage:1,listKeys:[]}]),[I,T]=(0,i.useState)(null),k=()=>{b([{currentPage:1,listKeys:[]}])},B=e=>{let t=[];t.indexOf(e.key)>=0?t.splice(t.indexOf(e.key),1):t.push(e.key),y({selectedRowKeys:t})},E=(t,a)=>{if(S.some(e=>e.currentPage==t)||S.push({currentPage:t,listKeys:[]}),b([...S]),void 0===(null==e?void 0:e.getPagination))return t;null==e||e.getPagination(t,a)},R={selectedRowKeys:null==f?void 0:f.selectedRowKeys,onChange:(t,a)=>{(null==e?void 0:e.onSelectRow(a))&&(null==e||e.onSelectRow(a)),y({selectedRowKeys:t})},hideSelectAll:!1};(0,i.useEffect)(()=>{if((null==e?void 0:e.dataSource)&&(null==e?void 0:e.dataSource.length)>0){let t=[...null==e?void 0:e.dataSource];t.forEach((e,a)=>{t[a]={...e,key:a+"",uniqueId:e[p]}}),N(t)}else N([])},[null==e?void 0:e.dataSource]),(0,i.useEffect)(()=>{(null==e?void 0:e.closeAllExpand)&&k()},[null==e?void 0:e.closeAllExpand]),(0,i.useEffect)(()=>{(null==e?void 0:e.isResetKey)&&y({selectedRowKeys:[]})},[null==e?void 0:e.isResetKey]);let F=(null==e?void 0:e.height)||(null===(t=window)||void 0===t?void 0:t.innerHeight)-295;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"wrap-table table-expand",children:(0,l.jsxs)(n.Z,{className:"cardRadius ".concat((null==e?void 0:e.addClass)&&(null==e?void 0:e.addClass)," ").concat((null==e?void 0:e.Size)?null==e?void 0:e.Size:""),extra:m||v,title:x||g,style:null==e?void 0:e.cardStyle,children:[null==e?void 0:e.children,!!(null==e?void 0:e.sumPrice)&&(0,l.jsxs)("div",{className:"statistical-contain",children:[(0,l.jsxs)("div",{className:"item total-income",children:[(0,l.jsxs)("div",{className:"text",children:[(0,l.jsx)("div",{className:"name",children:"Tổng nợ"}),(0,l.jsxs)("div",{className:"number",children:[r.Jy.numberToPrice((null==e?void 0:null===(h=e.sumPrice)||void 0===h?void 0:h.sumDebt)||0),"₫"]})]}),(0,l.jsx)("div",{className:"icon",children:(0,l.jsx)(c.BUm,{})})]}),(0,l.jsxs)("div",{className:"item total-expense",children:[(0,l.jsxs)("div",{className:"text",children:[(0,l.jsx)("p",{className:"name",children:"Tổng thanh to\xe1n"}),(0,l.jsxs)("p",{className:"number",children:[r.Jy.numberToPrice((null==e?void 0:e.sumPrice.sumPaid)||0),"₫"]})]}),(0,l.jsx)("div",{className:"icon",children:(0,l.jsx)(c.CtB,{})})]}),(0,l.jsxs)("div",{className:"item total-revenue",children:[(0,l.jsxs)("div",{className:"text",children:[(0,l.jsx)("p",{className:"name",children:"Tổng tiền"}),(0,l.jsxs)("p",{className:"number",children:[r.Jy.numberToPrice((null==e?void 0:e.sumPrice.sumtotalPrice)||0),"₫"]})]}),(0,l.jsx)("div",{className:"icon",children:(0,l.jsx)(c.gnI,{})})]})]}),0==w.length&&(0,l.jsx)(d.Z,{loading:(null==e?void 0:null===(a=e.loading)||void 0===a?void 0:a.status)||(null==e?void 0:e.loading)==!0}),w.length>0&&(0,l.jsx)(s.Z,{loading:(null==e?void 0:null===(o=e.loading)||void 0===o?void 0:o.type)=="GET_ALL"&&(null==e?void 0:null===(u=e.loading)||void 0===u?void 0:u.status)||(null==e?void 0:e.loading)==!0,bordered:null!=e&&!!e.haveBorder&&(null==e?void 0:e.haveBorder),scroll:{x:"max-content",y:(F<300?300:F)||200},columns:((null==e?void 0:e.columns)||[]).filter(e=>!(null==e?void 0:e.hidden)),dataSource:w||[],size:"middle",onChange:(null==e?void 0:e.onChange)?null==e?void 0:e.onChange:()=>{},pagination:{pageSize:30,pageSizeOptions:["30"],onShowSizeChange:(t,a)=>{(null==e?void 0:e.onChangePageSize)&&(null==e||e.onChangePageSize(t,a))},total:(null==e?void 0:e.totalPage)?null==e?void 0:e.totalPage:1,showTotal:()=>(0,l.jsxs)("div",{className:"font-weight-black",children:["Tổng cộng: ",(null==e?void 0:e.totalPage)||1]}),onChange:(e,t)=>E(e,t),current:(null==e?void 0:e.currentPage)&&(null==e?void 0:e.currentPage)},rowKey:"uniqueId",rowClassName:(e,t)=>t==I?"table-row-active":t%2==0?"table-row-light":"table-row-dark",onRow:(e,t)=>({onClick:()=>{B(e),T(t)}}),rowSelection:(null==e?void 0:e.rowSelection)?null==e?void 0:e.rowSelection:(null==e?void 0:e.isSelect)?R:null,onExpand:(t,a)=>{void 0!==(null==e?void 0:e.handleExpand)&&(null==e||e.handleExpand(a))},expandable:{expandedRowRender:null==e?void 0:e.expandable,rowExpandable:e=>"Not Expandable"!==e.name,...j}})]})})})}},37642:function(e,t,a){var l=a(85893);a(67294),t.Z=e=>{let{color:t,children:a,className:n}=e;return(0,l.jsx)("div",{className:"rounded-lg px-3 py-1 w-auto inline-flex items-center ".concat("green"==t?"bg-[#4CAF50]":"blue"==t?"bg-[#0A89FF]":"red"==t?"bg-[#C94A4F]":"yellow"==t?"bg-[#FFBA0A]":"black"==t?"bg-[#000]":"disabled"==t?"bg-[#CFD8DC]":"orange"==t?"bg-[#ff7c38]":void 0," ").concat("green"==t||"blue"==t||"red"==t?"text-white ":"yellow"==t?"text-black":"black"==t?"text-white":"disabled"==t?"text-gray-800":void 0," ").concat(n),children:a})}},39292:function(e,t,a){a.d(t,{I:function(){return l}});let l=30},42352:function(e,t,a){a.r(t),a.d(t,{default:function(){return eh}});var l=a(85893),n=a(67294),s=a(26674),i=a(31379),c=a(16655),d=a(96361),r=a(30381),o=a.n(r),u=a(5152),h=a.n(u),x=a(41570),m=a(85340),g=a(18644),v=a(54425),j=a(48506),p=a(9473),f=a(32883),y=a(77725),w=a(88291),N=a(52814),S=a(37642);let b=1,I=e=>{let{totalFeedback:t,dataTable:a,setTodo:s,initialFeedback:i,todo:c}=e,[d,r]=(0,n.useState)(1),u=e=>{b=e,r(e),s({...c,pageIndex:b})};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(N.Z,{currentPage:d,totalPage:t&&t,getPagination:e=>u(e),dataSource:a,columns:[{title:"Ng\xe0y gửi",dataIndex:"CreatedOn",render:e=>(0,l.jsx)(l.Fragment,{children:o()(e).format("DD-MM-YYYY")})},{title:"Loại phản hồi",dataIndex:"Title"},{title:"Trạng th\xe1i",dataIndex:"Status",render:(e,t)=>(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(S.Z,{color:1==e?"blue":2==e?"blue":"green",children:t.StatusName})})}],TitleCard:(0,l.jsx)("h1",{className:"text-2xl font-medium",children:"Danh s\xe1ch phản hồi"}),expandable:e=>(0,l.jsxs)(l.Fragment,{children:["Nội dung: ",null==e?void 0:e.Content]})})})};var T=a(2305),k=a(32332),B=a(74206),E=a(42154),R=a(34283),F=a(96910),C=a(33447),D=a(48933);let K=e=>{let{data:t,titleBar:a,type:s}=e,[i,c]=(0,n.useState)(!1);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(T.h,{width:"100%",height:280,children:(0,l.jsxs)(k.w,{width:500,height:500,data:t,children:[(0,l.jsx)(B.q,{stroke:"#f5f5f5"}),i?(0,l.jsx)(E.K,{hide:!0,dataKey:"Name"}):(0,l.jsx)(E.K,{dataKey:"Name"}),(0,l.jsx)(R.B,{}),(0,l.jsx)(F.u,{}),(0,l.jsx)(C.D,{content:e=>{let{payload:t}=e;return(0,n.useEffect)(()=>{window.addEventListener("resize",e=>{e.target.innerWidth<1380?c(!0):c(!1)})},[]),(0,l.jsx)("ul",{className:" relative top-[10px] text-center ".concat(1==s?"text-[#9194ce]":"text-[#D44141]"),children:t.map((e,t)=>(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"inline-block w-3 h-3 ".concat(1==s?"bg-[#9194ce]":"bg-[#D44141]"," mr-2")}),e.value]},"item-".concat(t)))})}}),(0,l.jsx)(D.x,{type:"monotone",name:a||"Th\xf4ng k\xea kh\xf3a học c\xf3 nhiều sinh vi\xean nhất",dataKey:"Value",stroke:1==s?"#8884d8":"#D44141"})]})})})};var A=a(80555),P=a(25791),V=a(54487);let Z=["#FD8A8A","#FFD4B2","#A8D1D1","#9EA1D4","#FF8042"],L=Math.PI/180,z=e=>{let{cx:t,cy:a,midAngle:n,innerRadius:s,outerRadius:i,percent:c,index:d}=e,r=s+(i-s)*.5,o=t+r*Math.cos(-n*L);return(0,l.jsx)("text",{className:"text-[black]",x:o,y:a+r*Math.sin(-n*L),fill:"white",textAnchor:o>t?"start":"end",dominantBaseline:"central",children:"".concat((100*c).toFixed(0),"%")})};var M=e=>{let{data:t}=e;return(0,l.jsx)(A.u,{width:600,height:300,children:(0,l.jsx)(P.b,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:z,outerRadius:140,fill:"#8884d8",dataKey:"Value",children:t.map((e,t)=>(0,l.jsx)(V.b,{fill:Z[t%Z.length]},"cell-".concat(t)))})})},Y=a(36897);let O=["#FD8A8A","#EF8B43","#D44141","#0262DB","#599F50"],H=Math.PI/180,J=e=>{let{cx:t,cy:a,midAngle:n,innerRadius:s,outerRadius:i,percent:c,index:d,Value:r}=e,o=s+(i-s)*.5,u=t+o*Math.cos(-n*H);return(0,l.jsx)("text",{className:"text-[black]",x:u,y:a+o*Math.sin(-n*H),fill:"white",textAnchor:u>t?"start":"end",dominantBaseline:"central",children:r})},q=e=>{let{cx:t,cy:a,midAngle:n,innerRadius:s,outerRadius:i,startAngle:c,endAngle:d,fill:r,payload:o,percent:u,Value:h,Name:x}=e,m=Math.sin(-H*n),g=Math.cos(-H*n),v=t+(i+10)*g,j=a+(i+10)*m,p=t+(i+15)*g,f=a+(i+30)*m,y=p+(g>=0?1:-1)*5,w=g>=0?"start":"end";return(0,l.jsxs)("g",{children:[(0,l.jsx)("text",{x:t,y:a,dy:8,textAnchor:"middle",fill:r,children:o.name}),(0,l.jsx)(Y.L,{cx:t,cy:a,innerRadius:s,outerRadius:i,startAngle:c,endAngle:d,fill:r}),(0,l.jsx)(Y.L,{cx:t,cy:a,startAngle:c,endAngle:d,innerRadius:i+6,outerRadius:i+10,fill:r}),(0,l.jsx)("path",{d:"M".concat(v,",").concat(j,"L").concat(p,",").concat(f,"L").concat(y,",").concat(f),stroke:r,fill:"none"}),(0,l.jsx)("circle",{cx:y,cy:f,r:2,fill:r,stroke:"none"}),(0,l.jsx)("text",{x:y+(g>=0?1:-1)*12,y:f,textAnchor:w,fill:"#333",children:" ".concat(x," sao")}),(0,l.jsx)("text",{x:y+(g>=0?1:-1)*12,y:f,dy:18,textAnchor:w,fill:"#999",children:"(Đ\xe1nh gi\xe1 ".concat(h,")")})]})};var _=e=>{let[t,a]=(0,n.useState)(0),{data:s}=e;return(0,l.jsx)(A.u,{width:550,height:400,children:(0,l.jsx)(P.b,{activeIndex:t,onMouseEnter:(e,t)=>{a(t)},data:s,cx:"50%",cy:"50%",activeShape:q,labelLine:!1,label:J,innerRadius:70,outerRadius:140,fill:"#8884d8",dataKey:"Valuenn",children:s.map((e,t)=>(0,l.jsx)(V.b,{fill:O[t%O.length]},"cell-".concat(t)))})})},G=a(26866),U=a(36596);let W=e=>{let{data:t,titleBar:a,type:s}=e,[i,c]=(0,n.useState)(!1);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(T.h,{width:"100%",height:400,children:(0,l.jsxs)(G.T,{width:500,height:400,data:t,margin:{top:10,right:30,left:0,bottom:0},children:[(0,l.jsx)(B.q,{stroke:"#f5f5f5"}),i?(0,l.jsx)(E.K,{hide:!0,dataKey:"Name"}):(0,l.jsx)(E.K,{dataKey:"Name"}),(0,l.jsx)(R.B,{}),(0,l.jsx)(F.u,{}),(0,l.jsx)(C.D,{content:e=>{let{payload:t}=e;return(0,n.useEffect)(()=>{window.addEventListener("resize",e=>{e.target.innerWidth<1380?c(!0):c(!1)})},[]),(0,l.jsx)("ul",{className:" relative top-[10px] text-center ".concat(1==s?"text-[#0262DB]":"text-[#D44141]"),children:t.map((e,t)=>(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"inline-block w-3 h-3 ".concat(1==s?"bg-[#0262DB]":"bg-[#D44141]"," mr-2")}),e.value]},"item-".concat(t)))})}}),(0,l.jsx)(U.u,{type:"monotone",name:a||"Th\xf4ng k\xea kh\xf3a học c\xf3 nhiều sinh vi\xean nhất",dataKey:"Value",stroke:1==s?"#0262DB":"#D44141",fill:1==s?"#0262DB":"#D44141"})]})})})};var $=a(44134),X=a(93133),Q=e=>{let{data:t,titleBar:a}=e,[s,i]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{window.addEventListener("resize",e=>{e.target.innerWidth<1380?i(!0):i(!1)})},[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(T.h,{width:"100%",height:280,children:(0,l.jsxs)($.c,{width:500,height:300,data:t,children:[(0,l.jsx)(B.q,{stroke:"#f5f5f5"}),s?(0,l.jsx)(E.K,{hide:!0,dataKey:"Name"}):(0,l.jsx)(E.K,{dataKey:"Name"}),(0,l.jsx)(R.B,{}),(0,l.jsx)(F.u,{}),(0,l.jsx)(C.D,{content:e=>{let{payload:t}=e;return(0,l.jsx)("ul",{className:"relative top-[10px] text-center text-[#f492a0]",children:t.map((e,t)=>(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"inline-block w-3 h-3 bg-[#f492a0] mr-2"}),e.value]},"item-".concat(t)))})}}),(0,l.jsx)(X.$,{dataKey:"Value",name:a||"Thống k\xea độ tuổi của học vi\xean",barSize:20,fill:"#f492a0"})]})})})},ee=e=>{let{data:t,titleBar:a,type:s}=e,[i,c]=(0,n.useState)(!1);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(T.h,{width:"100%",height:280,children:(0,l.jsxs)($.c,{width:500,height:500,data:t,children:[(0,l.jsx)(B.q,{stroke:"#f5f5f5"}),i?(0,l.jsx)(E.K,{hide:!0,dataKey:"Name"}):(0,l.jsx)(E.K,{dataKey:"Name"}),(0,l.jsx)(R.B,{}),(0,l.jsx)(F.u,{}),(0,l.jsx)(C.D,{content:e=>{let{payload:t}=e;return(0,n.useEffect)(()=>{window.addEventListener("resize",e=>{e.target.innerWidth<1380?c(!0):c(!1)})},[]),(0,l.jsx)("ul",{className:"relative top-[10px] text-center ".concat(1==s?"text-[#EF8B43]":2==s?"text-[#0262DB]":"text-[#9194ce]"),children:t.map((e,t)=>(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"inline-block w-3 h-3 ".concat(1==s?"bg-[#EF8B43]":2==s?"bg-[#0262DB]":"bg-[#9194ce]"," mr-2")}),e.value]},"item-".concat(t)))})}}),(0,l.jsx)(X.$,{dataKey:"Value",name:a||"Th\xf4ng k\xea kh\xf3a học c\xf3 nhiều sinh vi\xean nhất",barSize:20,fill:1==s?"#EF8B43":2==s?"#0262DB":"#8884d8"})]})})})},et=a(39292),ea=a(96369),el=a(34223),en=a(66946),es=a(76887),ei=()=>{let[e,t]=(0,n.useState)([]),[a,s]=(0,n.useState)(!0),[i,c]=(0,n.useState)({branchIds:"",year:o()().year()});(0,n.useEffect)(()=>{h()},[i]);let[r,u]=(0,n.useState)(!1),h=async()=>{try{let e=await y.a.getTopPurpose(i);200==e.status?(t(function(e){e.sort(function(e,t){return t.Value-e.Value});var t,a=e.reduce(function(e,t){return e+t.Value},0),l=e.slice(0,4);l.forEach(function(e){e.Percentage=(e.Value/a*100).toFixed(2)});for(var n=0,s=4;s<e.length;s++)n+=e[s].Value;return l.push({Name:"Kh\xe1c",Value:n,Percentage:(n/a*100).toFixed(2)}),t=[],l.forEach(function(e){t.push([e.Name,e.Value])}),t}(e.data.data)),u(e.data.data.every(e=>(null==e?void 0:e.Value)==0))):t([])}catch(e){}finally{s(!1)}};return(0,l.jsx)(d.Z,{className:"shadow-sm w3-animate-right",title:(0,l.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,l.jsx)("div",{className:"font-[500] mt-[2px]",children:"Biểu đồ top mục đ\xedch học"}),(0,l.jsx)("div",{className:"flex items-center none-selection",children:(0,l.jsx)(ea.default,{defaultValue:o()(new Date),onChange:e=>{c(t=>({...t,year:Number(o()(e).format("YYYY"))}))},picker:"year",allowClear:!1,className:"primary-input w-[100px]"})})]}),children:(0,l.jsxs)("div",{id:"top-5-demand",className:"w-full fucking-chart h-[300px]",children:[!a&&!r&&(0,l.jsx)(es.kL,{chartType:"PieChart",data:[["Task","Hours per Day"],...e],options:{title:"",pieHole:.4,is3D:!1,chartArea:{width:"80%",height:"80%"},legend:{position:"right",alignment:"center"},tooltip:{},animation:{startup:!0,duration:1e3,easing:"inAndOut"}},width:"100%",height:"100%"}),a&&!r&&(0,l.jsx)(el.Z,{active:!0}),!a&&r&&(0,l.jsx)(en.Z,{})]})})},ec=()=>{let[e,t]=(0,n.useState)([]),[a,s]=(0,n.useState)(!0),[i,c]=(0,n.useState)({branchIds:"",year:o()().year()});(0,n.useEffect)(()=>{h()},[i]);let[r,u]=(0,n.useState)(!1),h=async()=>{try{let e=await y.a.getTopLearningNeed(i);200==e.status?(t(function(e){e.sort(function(e,t){return t.Value-e.Value});var t,a=e.reduce(function(e,t){return e+t.Value},0),l=e.slice(0,4);l.forEach(function(e){e.Percentage=(e.Value/a*100).toFixed(2)});for(var n=0,s=4;s<e.length;s++)n+=e[s].Value;return l.push({Name:"Kh\xe1c",Value:n,Percentage:(n/a*100).toFixed(2)}),t=[],l.forEach(function(e){t.push([e.Name,e.Value])}),t}(e.data.data)),u(e.data.data.every(e=>(null==e?void 0:e.Value)==0))):t([])}catch(e){}finally{s(!1)}};return(0,l.jsx)(d.Z,{className:"shadow-sm w3-animate-left",title:(0,l.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,l.jsx)("div",{className:"font-[500] mt-[2px]",children:"Biểu đồ top nhu cầu học"}),(0,l.jsx)("div",{className:"flex items-center none-selection",children:(0,l.jsx)(ea.default,{defaultValue:o()(new Date),onChange:e=>{c(t=>({...t,year:Number(o()(e).format("YYYY"))}))},picker:"year",allowClear:!1,className:"primary-input w-[100px]"})})]}),children:(0,l.jsxs)("div",{id:"top-5-demand",className:"w-full fucking-chart h-[300px]",children:[!a&&!r&&(0,l.jsx)(es.kL,{chartType:"PieChart",data:[["Task","Hours per Day"],...e],options:{title:"",is3D:!0,chartArea:{width:"80%",height:"80%"},legend:{position:"right",alignment:"center"},tooltip:{},animation:{startup:!0,duration:1e3,easing:"inAndOut"}},width:"100%",height:"100%"}),a&&!r&&(0,l.jsx)(el.Z,{active:!0}),!a&&r&&(0,l.jsx)(en.Z,{})]})})};let ed=h()(()=>Promise.all([a.e(4838),a.e(509),a.e(7639)]).then(a.bind(a,37639)),{loadableGenerated:{webpack:()=>[37639]}}),er=[{value:2023,label:"2023"},{value:2022,label:"2022"},{value:2021,label:"2021"},{value:2020,label:"2020"},{value:2019,label:"2019"},{value:2018,label:"2018"},{value:2017,label:"2017"},{value:2016,label:"2016"},{value:2015,label:"2015"}],eo=()=>{(0,p.I0)();let[e]=i.Z.useForm(),[t,a]=(0,n.useState)("offline"),s=(0,p.v9)(e=>e.user.information),r=(0,p.v9)(e=>e.user.currentBranch),u=(0,p.v9)(e=>e.user.currentStudentId),h={branchIds:r,year:o()().year()},[g,N]=(0,n.useState)(null),[S,b]=(0,n.useState)(h),[T,k]=(0,n.useState)({branchIds:r,userId:""}),[B,E]=(0,n.useState)([]),[R,F]=(0,n.useState)([]),[C,D]=(0,n.useState)([]),[A,P]=(0,n.useState)([]),[V,Z]=(0,n.useState)([]),[L,z]=(0,n.useState)([]),[Y,O]=(0,n.useState)([]),[H,J]=(0,n.useState)([]),[q,G]=(0,n.useState)([]),[U,$]=(0,n.useState)([]),[X,ea]=(0,n.useState)([]),[el,en]=(0,n.useState)([]),[es,eo]=(0,n.useState)([]),[eu,eh]=(0,n.useState)([]),ex={pageSize:et.I,pageIndex:1},[em,eg]=(0,n.useState)(ex),[ev,ej]=(0,n.useState)([]),[ep,ef]=(0,n.useState)(0),[ey,ew]=(0,n.useState)(!1),[eN,eS]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=document.getElementById("the-super-scroll"),t=()=>{let t=document.getElementById("revenue-chart"),a=document.getElementById("top-5-chart");var l=e.scrollTop;t&&l>t.offsetTop-window.innerHeight&&ew(!0),a&&l>a.offsetTop-(window.innerHeight-150)&&!eN&&eS(!0)};return e&&e.addEventListener("scroll",t),()=>{e&&e.removeEventListener("scroll",t)}},[]),(0,n.useEffect)(()=>{r&&(b({...S,branchIds:r}),k({...T,branchIds:r}))},[r]);let eb=async()=>{try{let e=await y.a.getStudentAge(S);200===e.status&&P(e.data.data),204===e.status&&P([])}catch(e){}},eI=async()=>{try{let e=await y.a.getTopSource(S);200===e.status&&Z(e.data.data),204===e.status&&Z([])}catch(e){}},eT=async()=>{try{let e=await y.a.getTopJob(S);200===e.status&&z(e.data.data),204===e.status&&z([])}catch(e){}},ek=async()=>{try{let e=await y.a.getOverview(T);200===e.status&&D(e.data.data),204===e.status&&D([])}catch(e){}},eB=async()=>{try{let e=await y.a.getNewClass(S);200===e.status&&O(e.data.data),204===e.status&&O([])}catch(e){}},eE=async()=>{try{let e=await y.a.getNewCustomer(S);200===e.status&&J(e.data.data),204===e.status&&J([])}catch(e){}},eR=async()=>{try{let e=await y.a.getFeedBackRating(S);200===e.status&&G(e.data.data),204===e.status&&G([])}catch(e){}},eF=async()=>{try{let e=await y.a.getRateTeacher(S);200===e.status&&$(e.data.data),204===e.status&&$([])}catch(e){}},eC=async()=>{try{let e=await y.a.getTotalScheduleTeacher(S);200===e.status&&eo(e.data.data),204===e.status&&eo([])}catch(e){}},eD=async()=>{try{let e=await y.a.getTotalScheduleStudent(S);200===e.status&&eh(e.data.data),204===e.status&&eh([])}catch(e){}},eK=async()=>{try{let e=await f.h.getAll(em);200===e.status&&(ej(e.data.data),ef(e.data.totalRow)),204===e.status&&ej([])}catch(e){}},eA=async()=>{try{let e=await y.a.getStatisticialTestAppointment(em);200===e.status&&en(e.data.data),204===e.status&&en([])}catch(e){}},eP=async()=>{try{let e=await y.a.getStatisticalNewCustomerofsales(em);200===e.status&&ea(e.data.data),204===e.status&&ea([])}catch(e){}},eV=async()=>{try{let a=await w.sy.getAll({pageIndex:1,pageSize:9999,parentIds:s.UserInformationId.toString()});if(200==a.status){var e,t;let l=[];null==a||null===(t=a.data)||void 0===t||null===(e=t.data)||void 0===e||e.forEach(e=>{l.push({label:"".concat(null==e?void 0:e.FullName," - ").concat(e.UserCode),value:null==e?void 0:e.UserInformationId})}),F(l)}204==a.status&&F([])}catch(e){}},eZ=e=>{k({...T,userId:e}),N(e)};return(0,n.useEffect)(()=>{eZ(u)},[u]),(0,n.useEffect)(()=>{eb(),eI(),eT(),eB(),eE(),eR(),eF(),eC(),eD(),eA(),eP()},[S]),(0,n.useEffect)(()=>{ek()},[T]),(0,n.useEffect)(()=>{s.UserInformationId&&eV()},[s]),(0,n.useEffect)(()=>{eK()},[]),(0,l.jsxs)("div",{className:"w-[100%] mx-auto dashboard",children:[(0,l.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,l.jsxs)("p",{className:"title",children:["Xin ch\xe0o, ",s.FullName]}),(0,l.jsx)(i.Z,{form:e,children:(0,l.jsx)("div",{className:"flex items-center pr-4"})})]}),(0,l.jsx)("div",{className:"dashboard-content",children:(null==C?void 0:C.length)>0&&(null==C?void 0:C.map((e,t)=>{var a;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"items",children:(0,l.jsxs)("div",{className:"inner-item",children:[(0,l.jsxs)("div",{className:"name ".concat((null==e?void 0:e.Id)===1?"kh":(null==e?void 0:e.Id)===3?"dt":(null==e?void 0:e.Id)===4?"gd":(null==e?void 0:e.Id)===2?"ht":""),children:[(0,l.jsx)("div",{className:"ttl",children:null==e?void 0:e.Title}),(0,l.jsx)("div",{className:"icon",children:(null==e?void 0:e.Id)===1?(0,l.jsx)(m.HHH,{}):(null==e?void 0:e.Id)===3?(0,l.jsx)(v.GdJ,{}):(null==e?void 0:e.Id)===4?(0,l.jsx)(x.iNh,{}):(null==e?void 0:e.Id)===2?(0,l.jsx)(j.Lik,{}):""})]}),(0,l.jsx)("div",{className:"value",children:null==e?void 0:null===(a=e.OverviewModel)||void 0===a?void 0:a.map(t=>(0,l.jsxs)("div",{className:"item",children:[(0,l.jsxs)("div",{className:"left",children:[(0,l.jsx)("div",{className:"n",children:null==t?void 0:t.Name}),(0,l.jsxs)("div",{className:"sub",children:[(0,l.jsx)("p",{children:null==t?void 0:t.SubValue}),(0,l.jsx)("div",{className:"ic ".concat((null==t?void 0:t.Type)===1?"up":(null==t?void 0:t.Type)===2?"down":""),children:(null==t?void 0:t.Type)===1?(0,l.jsx)(j.Dwf,{}):(null==t?void 0:t.Type)===2?(0,l.jsx)(m.GMx,{}):""})]})]}),(0,l.jsx)("div",{className:"right",children:(null==e?void 0:e.Id)!==3?null==t?void 0:t.Value:Intl.NumberFormat("ja-JP").format(null==t?void 0:t.Value)})]}))})]})})})}))}),((null==s?void 0:s.RoleId)==1||(null==s?void 0:s.RoleId)==4||(null==s?void 0:s.RoleId)==7)&&(0,l.jsx)("div",{id:"revenue-chart",children:ey&&(0,l.jsx)(ed,{})}),((null==s?void 0:s.RoleId)==1||(null==s?void 0:s.RoleId)==4||(null==s?void 0:s.RoleId)==7)&&(0,l.jsxs)("div",{id:"top-5-chart",className:"grid grid-cols-3 w800:grid-cols-6 gap-4 mt-4",children:[eN&&(0,l.jsx)("div",{className:"col-span-3",children:(0,l.jsx)(ec,{})}),eN&&(0,l.jsx)("div",{className:"col-span-3",children:(0,l.jsx)(ei,{})})]}),(0,l.jsx)("div",{className:"flex justify-end mt-4",children:(0,l.jsx)(c.default,{onChange:e=>{b(t=>({...t,year:e})),k(t=>({...t,year:e}))},options:er,className:"w-[100px] h-[36px] mr-2"})}),(null==s?void 0:s.RoleId)==1||(null==s?void 0:s.RoleId)==4||(null==s?void 0:s.RoleId)==7?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-6 gap-4",children:[(0,l.jsx)(d.Z,{className:"col-span-3 mt-tw-4 ",title:(0,l.jsx)("h1",{className:"text-2xl font-medium",children:"Lớp mới mỗi th\xe1ng"}),children:(0,l.jsx)(K,{data:Y,titleBar:"Lớp mới mỗi th\xe1ng",type:1})}),(0,l.jsx)(d.Z,{className:"col-span-3 mt-tw-4",title:(0,l.jsx)("h1",{className:"text-2xl font-medium",children:"Kh\xe1ch mới mỗi th\xe1ng"}),children:(0,l.jsx)(K,{data:H,titleBar:"Kh\xe1ch mới mỗi th\xe1ng",type:2})})]}),(0,l.jsx)(d.Z,{className:"mt-tw-4",title:(0,l.jsx)("h1",{className:"text-2xl font-medium",children:"Top 5 nguồn kh\xe1ch h\xe0ng"}),children:(0,l.jsx)(ee,{data:V,titleBar:"Kh\xe1ch h\xe0ng",type:2})}),(0,l.jsx)(d.Z,{className:"mt-tw-4",title:(0,l.jsx)("h1",{className:"text-2xl font-medium",children:"Top 5 c\xf4ng việc của học vi\xean "}),children:(0,l.jsx)(ee,{data:L,titleBar:"Học vi\xean ",type:2})}),(0,l.jsx)(d.Z,{className:"mt-tw-4",title:(0,l.jsx)("h1",{className:"text-2xl font-medium",children:"Thống k\xea học vi\xean theo độ tuổi"}),children:(0,l.jsx)(Q,{data:A,titleBar:"Độ tuổi học vi\xean "})}),7!=s.RoleId?(0,l.jsx)(d.Z,{className:"mt-tw-4",title:(0,l.jsx)("h1",{className:"text-2xl font-medium",children:"Tỉ lệ đ\xe1nh gi\xe1 phản hồi"}),children:(0,l.jsx)(M,{data:q})}):""]}):(null==s?void 0:s.RoleId)==2?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"grid grid-cols-6 gap-tw-4",children:[(0,l.jsx)(d.Z,{className:"col-span-3 mt-tw-4",title:(0,l.jsx)("h1",{className:"text-2xl font-medium",children:"Tỉ lệ đ\xe1nh gi\xe1"}),children:(0,l.jsx)(_,{data:U})}),(0,l.jsx)(d.Z,{className:"col-span-3 mt-tw-4",title:(0,l.jsx)("h1",{className:"text-2xl font-medium",children:"Tổng số buổi dạy trong từng th\xe1ng"}),children:(0,l.jsx)(W,{data:es,titleBar:"Buổi dạy trong từng th\xe1ng",type:1})})]})}):(null==s?void 0:s.RoleId)==3||(null==s?void 0:s.RoleId)==8?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mt-tw-4",children:(0,l.jsx)(I,{totalFeedback:ep,initialFeedback:ex,dataTable:ev,setTodo:eg,todo:em})}),(0,l.jsx)(d.Z,{className:"mt-tw-4",title:(0,l.jsx)("h1",{className:"text-2xl font-medium",children:"Tổng số buổi học trong từng th\xe1ng"}),children:(0,l.jsx)(W,{data:eu,titleBar:"Buổi học trong từng th\xe1ng",type:1})})]}):(null==s?void 0:s.RoleId)==5?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"grid grid-cols-6 gap-tw-4",children:[(0,l.jsx)(d.Z,{className:"col-span-3 mt-tw-4",title:(0,l.jsx)("h1",{className:"text-2xl font-medium",children:"Kh\xe1ch mới mỗi th\xe1ng"}),children:(0,l.jsx)(K,{data:X,titleBar:"Kh\xe1ch mới mỗi th\xe1ng",type:1})}),(0,l.jsx)(d.Z,{className:"col-span-3 mt-tw-4",title:(0,l.jsx)("h1",{className:"text-2xl font-medium",children:"Kiểm tra đầu v\xe0o trong th\xe1ng"}),children:(0,l.jsx)(K,{data:el,titleBar:"Kiểm tra đầu v\xe0o trong th\xe1ng",type:2})})]})}):(null==s?void 0:s.RoleId)==6?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"grid grid-cols-6 gap-tw-4",children:[(0,l.jsx)(d.Z,{className:"col-span-3 mt-tw-4 ",title:(0,l.jsx)("h1",{className:"text-2xl font-medium",children:"Lớp mới mỗi th\xe1ng"}),children:(0,l.jsx)(K,{data:Y,titleBar:"Lớp mới mỗi th\xe1ng",type:1})}),(0,l.jsx)(d.Z,{className:"col-span-3 mt-tw-4",title:(0,l.jsx)("h1",{className:"text-2xl font-medium",children:"Kh\xe1ch mới mỗi th\xe1ng"}),children:(0,l.jsx)(K,{data:H,titleBar:"Kh\xe1ch mới mỗi th\xe1ng",type:2})})]})}):""]})};eo.CardItem=e=>{let{item:t}=e;return(0,l.jsxs)("div",{className:"col-span-3 p-3 rounded-md shadow-md bg-tw-white",children:[(0,l.jsx)("p",{className:"text-[24px] ",children:t.Name}),(0,l.jsxs)("div",{className:"flex justify-between mt-3",children:[(0,l.jsx)("span",{className:"text-lg font-bold",children:t.Value}),(0,l.jsx)("div",{className:"icon ",children:(0,l.jsx)(g.Azd,{size:30})})]})]})};let eu=()=>(0,l.jsx)(eo,{});eu.Layout=s.C;var eh=eu}}]);