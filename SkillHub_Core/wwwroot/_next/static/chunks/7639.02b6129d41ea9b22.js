"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7639],{37639:function(e,t,a){a.r(t);var n=a(85893),s=a(96361),r=a(96369),l=a(77024),i=a(30381),d=a.n(i),c=a(67294),o=a(77725),x=a(32332),h=a(74206),u=a(42154),f=a(34283),m=a(96910),p=a(48933),v=a(60759),j=a(42006),y=a(92088),b=a(11828);let g=e=>{let{x:t,y:a,stroke:s,value:r}=e;return(0,n.jsxs)("text",{x:t,y:a,fill:s,fontSize:10,textAnchor:"middle",className:"font-[600]",children:[(0,j.HP)(r),"đ"]})},N=e=>{let{x:t,y:a,payload:s}=e;return(0,n.jsx)("g",{transform:"translate(".concat(t,",").concat(a,")"),children:(0,n.jsxs)("text",{className:"text-[12px] font-[500]",x:0,y:0,dy:16,textAnchor:"end",fill:"#666",transform:"rotate(-40)",children:["Th ",s.value]})})};t.default=()=>{let[e,t]=(0,c.useState)([]),[a,i]=(0,c.useState)({branchIds:"",year:d()().year()});(0,c.useEffect)(()=>{w()},[a]);let w=async()=>{try{let e=await o.a.getRevenue(a);if(200==e.status){let a=[];e.data.data.forEach(e=>{a.push({name:"".concat(e.Name),current:e.Value,prev:null==e?void 0:e.PreValue})}),t(a)}else t([])}catch(e){}},[k,E]=(0,c.useState)(!0),[C,K]=(0,c.useState)(!1);async function S(){E(!1),await (0,j.Dc)(10),E(!0)}(0,c.useEffect)(()=>{S()},[C]);let D=Math.min(...e.map(e=>e.value)),M=Math.max(...e.map(e=>e.value));return(0,n.jsx)(s.Z,{className:"mt-4 shadow-sm w3-animate-right min-h-[450px]",title:(0,n.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,n.jsx)("div",{className:"font-[500] mt-[2px]",children:"Biểu đồ doanh thu"}),(0,n.jsxs)("div",{className:"flex items-center none-selection",children:[(0,n.jsx)(r.default,{defaultValue:d()(new Date),onChange:e=>{i(t=>({...t,year:Number(d()(e).format("YYYY"))}))},picker:"year",allowClear:!1,className:"primary-input w-[100px]"}),(0,n.jsx)(l.Z,{placement:"right",id:"the-revenue",title:C?"Bỏ so s\xe1nh":"So s\xe1nh với năm trước",children:C?(0,n.jsx)("div",{onClick:()=>K(!C),className:"bg-[#f51d92] hover:bg-[#e01983] active:bg-[#f51d92] cursor-pointer h-[36px] w-[36px] flex items-center justify-center rounded-[6px] ml-[8px] text-[#fff]",children:(0,n.jsx)(b.QAE,{size:20})}):(0,n.jsx)("div",{onClick:()=>K(!C),className:"bg-[#1b73e8] hover:bg-[#1566cf] active:bg-[#1b73e8] cursor-pointer h-[36px] w-[36px] flex items-center justify-center rounded-[6px] ml-[8px] text-[#fff]",children:(0,n.jsx)(y.GKy,{size:20})})})]})]}),children:(0,n.jsx)("div",{className:"w-full fucking-chart",id:"revenue-body",children:k&&(0,n.jsxs)(x.w,{width:function(){let e=document.getElementById("revenue-body");return e?null==e?void 0:e.offsetWidth:0}(),height:400,data:[...e],margin:{top:20,right:20,left:0,bottom:0},children:[(0,n.jsx)(h.q,{strokeDasharray:"3 3"}),(0,n.jsx)(u.K,{dataKey:"name",height:60,tick:(0,n.jsx)(N,{})}),(0,n.jsx)(f.B,{tickFormatter:e=>Math.abs(e)>=1e6?"".concat((e/1e6).toFixed(0),"M"):Math.abs(e)>=9e3?"".concat((e/1e3).toFixed(0),"K"):e,domain:[D,M]}),(0,n.jsx)(m.u,{content:(0,n.jsx)(e=>{let{active:t,payload:a,label:s}=e;if(t&&a&&a.length){var r,l,i,d,c,o;return(0,n.jsxs)("div",{className:"bg-[#fff] p-[16px] rounded-[4px] shadow-md border-[#dadada] border-[1px]",children:[(0,n.jsxs)("div",{className:"text-[16px] font-[600]",children:["Th\xe1ng ",null===(l=a[0])||void 0===l?void 0:null===(r=l.payload)||void 0===r?void 0:r.name]}),(0,n.jsxs)("p",{className:"text-[14px] font-[500] text-[#1b73e8]",children:["Doanh thu hiện tại: ",(0,j.HP)(null===(d=a[0])||void 0===d?void 0:null===(i=d.payload)||void 0===i?void 0:i.current)]}),C&&(0,n.jsxs)("p",{className:"text-[14px] font-[500] text-[#f51d92]",children:["Doanh thu năm trước: ",(0,j.HP)(null===(o=a[0])||void 0===o?void 0:null===(c=o.payload)||void 0===c?void 0:c.prev)]})]})}return null},{})}),(0,n.jsx)(p.x,{type:"monotone",dataKey:"current",stroke:"#1b73e8",strokeWidth:1.5,children:(0,n.jsx)(v.e,{content:(0,n.jsx)(g,{})})}),C&&(0,n.jsx)(p.x,{type:"monotone",dataKey:"prev",stroke:"#f51d92",strokeWidth:1.5,children:(0,n.jsx)(v.e,{content:(0,n.jsx)(g,{})})})]})})})}}}]);