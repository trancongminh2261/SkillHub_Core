(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5817],{78452:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/options/term-of-service",function(){return a(65517)}])},79930:function(e,t,a){"use strict";a.d(t,{X:function(){return i}});var n=a(59178);let i={uploadImage(e){let t=new FormData;return t.append("file",e),n.e.post("".concat("/api/Base","/Upload"),t,{})}}},82979:function(e,t,a){"use strict";a.d(t,{A:function(){return o}});let n="undo redo",i="bold italic underline strikethrough",r="forecolor backcolor",s="alignleft aligncenter alignright alignjustify";t.Z="".concat(n," | customInsertButton | link | ").concat(i," | ").concat(r," | image | ").concat("fontfamily fontsize blocks"," | ").concat(s," | lineheight | numlist bullist | table tabledelete | tableprops tablerowprops tablecellprops | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol'");let o="".concat(n," | fontsize | ").concat(i," | ").concat(s," | ").concat(r," | code | link media image")},55128:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var n=a(85893),i=a(31379),r=a(67294),s=a(90918),o=a(79930),l=a(58416),c=a(82979),u=e=>{let{initialValue:t,value:a,placeholder:i,handleChangeDataEditor:u,customFieldProps:d,disableButton:f,height:p,disabled:m}=e,h=(0,r.useRef)(null),g=e=>{u&&u(e)};(0,r.useEffect)(()=>{let e=e=>{null!==e.target.closest(".tox-tinymce-aux, .moxman-window, .tam-assetmanager-root")&&e.stopImmediatePropagation()};return document.addEventListener("focusin",e),()=>document.removeEventListener("focusin",e)},[]);let[b,v]=(0,r.useState)(!0);async function y(){await (0,l.Dc)(1e3),v(!1)}return(0,r.useEffect)(()=>{y()},[]),(0,n.jsx)("div",{className:"w-full h-fit",children:!b&&(0,n.jsx)(s.M,{id:(null==e?void 0:e.id)?null==e?void 0:e.id:"editor",onInit:(e,t)=>h.current=t,initialValue:t,onChange:e=>{},disabled:m,value:a,onEditorChange:e=>{g(e)},init:{images_file_types:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",paste_preprocess:function(e,t){t.content.indexOf("<img ")>-1&&(t.content=t.content.replace(/<img[^>\"']*(((\"[^\"]*\")|('[^']*'))[^\"'>]*)*>/g,""))},inline:!1,plugins:"preview importcss searchreplace autolink autosave save directionality visualblocks visualchars fullscreen image link media template codesample table charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help charmap quickbars emoticons image code",placeholder:i,toolbar:c.A,height:p||600,content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",menubar:!1,toolbar_mode:"sliding",toolbar_location:"top",toolbar_sticky:!0,font_family_formats:"Arial=arial,helvetica,sans-serif;Comic Sans MS=comic sans ms,sans-serif; Georgia=georgia,palatino; Helvetica=helvetica;Tahoma=tahoma,arial,helvetica,sans-serif; Verdana=verdana,geneva;",image_title:!0,file_picker_types:"image",images_upload_handler:async function(e){new FormData().append("files[]",e.blob()),f&&f(!0);try{let t=await o.X.uploadImage(e.blob());if(200==t.status)return new Promise((e,a)=>{e(t.data.data)})}catch(e){(0,l.fr)("error",e.message);return}finally{f&&f(!1)}},relative_urls:0,remove_script_host:0,convert_urls:!1,...d}})})},d=function(e){let{customFieldProps:t,onChangeEditor:a,disableButton:s,id:o,height:l,className:c}=e,{label:d,name:f,isRequired:p,disabled:m,rules:h,initialValue:g,placeholder:b}=e,[v,y]=(0,r.useState)("");return(0,n.jsx)(i.Z.Item,{className:c,name:f,required:p,rules:h,label:d,children:(0,n.jsx)(u,{initialValue:g,value:v,placeholder:b,handleChangeDataEditor:e=>{a&&(a(e),y(e))},customFieldProps:t,disabled:m,disableButton:s,id:o,height:l||300})})}},65517:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var n=a(85893),i=a(67294),r=a(26674),s=a(96361),o=a(69361),l=a(55128),c=a(59178);let u="/api/Rules",d={getAll:e=>c.e.get(u,{params:e}),update:e=>c.e.put(u,e,{})};var f=a(92088),p=a(58416),m=()=>{let[e,t]=(0,i.useState)(null),[a,r]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),m=async()=>{try{let e=await d.getAll({});200===e.status?"object"==typeof e.data.data&&t(e.data.data):204===e.status&&t([])}catch(e){(0,p.fr)("error",e.message)}},h=async()=>{if(!a){(0,p.fr)("error","Bạn chưa sửa đổi");return}u(!0);try{let t=await d.update({...e,RulesContent:a});(0,p.fr)("success",t.data.message)}catch(e){(0,p.fr)("error",e.message)}finally{r(""),u(!1)}};return(0,i.useEffect)(()=>{m()},[]),(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-12",children:(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(l.Z,{onChangeEditor:e=>{r(e)},name:"RulesContent"}),(0,n.jsx)("div",{className:"row pt-3",children:(0,n.jsx)("div",{className:"col-12 d-flex justify-content-center",children:(0,n.jsx)("div",{style:{paddingRight:5},children:(0,n.jsxs)("button",{className:"btn btn-primary",onClick:h,children:[(0,n.jsx)(f.tfk,{size:18,className:"mr-2"}),"X\xe1c nhận",c&&(0,n.jsx)(o.Z,{className:"loading-base"})]})})})})]})})})};let h=()=>(0,n.jsx)(m,{});h.Layout=r.C;var g=h},92703:function(e,t,a){"use strict";var n=a(50414);function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,t,a,i,r,s){if(s!==n){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return a.PropTypes=a,a}},45697:function(e,t,a){e.exports=a(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},function(e){e.O(0,[6130,4838,7909,5970,8460,9915,6565,653,6655,1607,6361,5009,9872,1379,918,6954,2888,9774,179],function(){return e(e.s=78452)}),_N_E=e.O()}]);