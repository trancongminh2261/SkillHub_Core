(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3046],{46758:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/options/district",function(){return n(73813)}])},13709:function(e,t,n){"use strict";var r=n(1413),a=n(67294),s=n(70213),l=n(881),i=function(e,t){return a.createElement(l.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:s.Z}))};i.displayName="EyeOutlined",t.Z=a.forwardRef(i)},21826:function(e,t,n){"use strict";var r=n(1413),a=n(67294),s=n(96606),l=n(881),i=function(e,t){return a.createElement(l.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:s.Z}))};i.displayName="SearchOutlined",t.Z=a.forwardRef(i)},8123:function(e,t,n){"use strict";var r=n(85893),a=n(34223),s=n(66946);n(67294),t.Z=function(e){return(0,r.jsxs)("div",{className:"pt-5 pb-5",children:[(null==e?void 0:e.loading)&&(0,r.jsx)("div",{style:{width:"90%"},children:(0,r.jsx)(a.Z,{round:!0,active:!0})}),!(null==e?void 0:e.loading)&&(0,r.jsx)(s.Z,{description:!1,children:(0,r.jsx)("div",{className:"disable",children:"Kh\xf4ng c\xf3 dữ liệu"})})]})}},74471:function(e,t,n){"use strict";var r=n(85893),a=n(21826),s=n(96369),l=n(16655),i=n(74253),o=n(77889),c=n(51095),u=n(30381),d=n.n(u),h=n(67294);t.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text",m=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];arguments.length>5&&void 0!==arguments[5]&&arguments[5];let[f,p]=(0,h.useState)(!1),[x,g]=(0,h.useState)(null),{RangePicker:y}=s.default,v=(0,h.useRef)(null),{Option:b}=l.default,j=e=>{g(e)},w=n=>{if(t&&null!=x){switch(u){case"text":case"select":t(n,e);break;case"date":t(n=d()(x.toDate()).format("YYYY/MM/DD"),e);break;case"date-range":t({fromDate:d()(x[0].toDate()).format("YYYY/MM/DD"),toDate:d()(x[1].toDate()).format("YYYY/MM/DD")},e)}p(!1)}},N=()=>{n&&(n(),j(null),p(!1))},O=()=>{let e;switch(u){case"text":e=(0,r.jsx)(i.default,{ref:v,value:x,placeholder:"T\xecm kiếm",onPressEnter:e=>w(x),onChange:e=>j(e.target.value),style:{marginBottom:8,display:"block"}});break;case"select":e=(0,r.jsx)(l.default,{ref:v,value:x,onChange:e=>j(e),style:{marginBottom:8,display:"block"},placeholder:"Lọc",optionFilterProp:"children",showSearch:!0,children:m.map((e,t)=>(0,r.jsx)(b,{value:e.value,children:e.title},t))});break;case"date":e=(0,r.jsx)(s.default,{style:{marginBottom:8,display:"block"},autoFocus:!0,format:"DD/MM/YYYY",onChange:(e,t)=>j(e)});break;case"date-range":e=(0,r.jsx)("div",{style:{marginBottom:8,display:"block"},children:(0,r.jsx)(y,{format:"DD/MM/YYYY",autoFocus:!0,ranges:{Today:[d()(),d()()],"This Month":[d()().startOf("month"),d()().endOf("month")]},onChange:(e,t)=>j(e)})})}return e};return(0,h.useEffect)(()=>{f&&setTimeout(()=>{var e,t;null===(t=v.current)||void 0===t||null===(e=t.select)||void 0===e||e.call(t)},100)},[f]),{filterDropdown:()=>(0,r.jsxs)("div",{style:{padding:8},children:[O(),(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(c.Z,{type:"primary",onClick:()=>w(x),icon:(0,r.jsx)(a.Z,{}),size:"small",style:{width:90},children:"T\xecm"}),(0,r.jsx)(c.Z,{onClick:N,size:"small",style:{width:90},children:"Kh\xf4i phục"})]})]}),filterDropdownVisible:f,filterIcon:e=>(0,r.jsx)(a.Z,{}),onFilterDropdownVisibleChange:e=>{e?p(!0):p(!1)}}}},44315:function(e,t,n){"use strict";var r=n(85893),a=n(31379),s=n(74253);n(67294),t.Z=e=>{let{style:t,label:n,isRequired:l,className:i,allowClear:o,placeholder:c,disabled:u,name:d,rules:h,onChange:m,value:f}=e;return(0,r.jsx)(a.Z.Item,{name:d,style:t,label:n,className:"".concat(i),required:l,rules:h,children:(0,r.jsx)(s.default,{className:"primary-input ".concat(i),allowClear:o,placeholder:c,disabled:u,onChange:e=>{m&&m(e)},value:f,defaultValue:f})})}},48895:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(85893),a=n(96361),s=n(28210),l=n(67294),i=n(8123),o=e=>{let{record:t,visible:n,x:a,y:s,menuContext:i}=e,o=(0,l.useMemo)(()=>i.map(e=>{let t=e.components;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t,{}),e.text]})}),[i]);return n&&(0,r.jsx)("ul",{className:"context-menu-table",style:{left:"".concat(a,"px"),top:"".concat(s,"px")},children:o.map(e=>(0,r.jsx)("li",{className:"menu-context-item",children:e}))})},c=e=>{let t;let{columns:n,children:c,TitleCard:u,Extra:d,className:h,rowSelection:m,keySelection:f="",loading:p,bordered:x}=e,{total:g,current:y,expand:v,data:b,onExpand:j,onChangePage:w,menuContext:N,pageSize:O}=e,[D,k]=(0,l.useState)([]),[Z,E]=(0,l.useState)([{currentPage:1,listKeys:[]}]),[C,S]=(0,l.useState)(1),[T,I]=(0,l.useState)(null),[R,Y]=(0,l.useState)({record:null,visible:!1,x:0,y:0}),_=(e,t)=>{if(S(e),Z.some(t=>t.currentPage==e)||Z.push({currentPage:e,listKeys:[]}),E([...Z]),void 0===w)return e;w(e,t)};return(0,l.useEffect)(()=>{if(b){let e=JSON.parse(JSON.stringify(b));e.forEach((e,t)=>{let n=t.toString();f&&(n=(null==e?void 0:e[f])||"NOT_FOUND"),e.key=n}),k(e)}},[b]),(0,r.jsx)("div",{className:"wrap-table",children:(0,r.jsxs)(a.Z,{className:"".concat(h&&h),title:u,extra:d,children:[c,0==D.length&&(0,r.jsx)(i.Z,{loading:p}),D.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{loading:p,bordered:x,rowSelection:m,scroll:{x:"max-content",y:window.innerHeight-295},columns:n,dataSource:D,size:"middle",pagination:{pageSize:O||30,pageSizeOptions:["30"],total:g&&g,current:y&&y,showTotal:()=>g&&(0,r.jsxs)("div",{className:"font-weight-black",children:["Tổng cộng: ",g]}),onChange:(e,t)=>_(e,t)},rowClassName:(e,t)=>t==T?"active":t%2==0?"row-light":"row-dark",onRow:(e,t)=>({onContextMenu:t=>{if(!N)return null;t.preventDefault(),R.visible||document.addEventListener("click",function e(){Y({...R,visible:!1}),document.removeEventListener("click",e)}),Y({...R,record:e,visible:!0,x:t.clientX,y:t.clientY})},onClick:()=>I(t)}),expandable:Z[0].listKeys.length>0&&v,expandedRowRender:v?(e,t,n,r)=>r?v:null:void 0,onExpandedRowsChange:e=>{if(I(parseInt(e[e.length-1])),Z.some(e=>e.currentPage==C)){let t=Z.findIndex(e=>e.currentPage==C);Z[t].listKeys=e}E([...Z])},onExpand:(e,t)=>{void 0!==j&&j(t)},expandedRowKeys:(t=null,(t=Z.some(e=>e.currentPage==C)?Z.find(e=>e.currentPage===C).listKeys:[]).length>1&&t.splice(t.length-2,1),t)}),N&&(0,r.jsx)(o,{...R,menuContext:N})]})]})})}},39292:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});let r=30},73813:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(85893),a=n(67294),s=n(26674),l=n(13709),i=n(77024),o=n(30381),c=n.n(o),u=n(11163),d=n.n(u),h=n(33361),m=n(48895),f=n(74471),p=n(31379),x=n(69361),g=n(32655),y=n(92088),v=n(63237),b=n(44315),j=n(58416),w=e=>{let{fetchDistrictList:t,dataRow:n}=e,[s,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1);(0,u.useRouter)();let[d]=p.Z.useForm(),m=()=>{n&&(d.setFieldValue("ID",n.ID),d.setFieldValue("DistrictName",n.DistrictName),d.setFieldValue("Enable",n.Enable),d.setFieldValue("AreaID",n.AreaID),d.setFieldValue("AreaName",n.AreaName)),l(!0)},f=async e=>{if(c(!0),e.ID)try{let t=await h.AO.update(e);200===t.status&&(0,j.fr)("success",t.data.message)}catch(e){(0,j.fr)("error",e.message)}else try{let t=await h.AO.add(e);200===t.status&&(0,j.fr)("success",t.data.message)}catch(e){(0,j.fr)("error",e.message)}d.resetFields(),t(),c(!1),l(!1)};return(0,r.jsxs)(r.Fragment,{children:[n?(0,r.jsx)("button",{className:"btn btn-icon edit",onClick:m,children:(0,r.jsx)(i.Z,{title:"Cập nhật",children:(0,r.jsx)(g.Z,{})})}):(0,r.jsxs)("button",{className:"btn btn-warning add-new",onClick:m,children:[(0,r.jsx)(y.OrI,{size:18,className:"mr-2"})," Th\xeam mới"]}),(0,r.jsx)(v.Z,{title:"Th\xeam Quận/Huyện",visible:s,onCancel:()=>{l(!1)},footer:null,children:(0,r.jsxs)(p.Z,{layout:"vertical",onFinish:f,children:[(0,r.jsx)(b.Z,{name:"AreaName",label:"Tỉnh/Th\xe0nh phố",disabled:!0}),(0,r.jsx)(b.Z,{placeholder:"T\xean Quận/Huyện",name:"DistrictName",label:"Quận/Huyện"}),(0,r.jsxs)("button",{className:"btn btn-primary w-100",type:"submit",disabled:o,children:[!o&&(0,r.jsx)(y.tfk,{size:18,className:"mr-2"})," Lưu ",o&&(0,r.jsx)(x.Z,{className:"loading-base"})]})]})})]})},N=n(92633),O=e=>{let{dataRow:t,fetchDistrictList:n,fetchList:s}=e,[l,o]=(0,a.useState)(!1),c=async()=>{try{let e=await h.AO.delete({...t,Enable:!1});200===e.status&&(0,j.fr)("success",e.data.message)}catch(e){(0,j.fr)("error",e.message)}finally{n(),o(!1)}},u=()=>{o(!1)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"btn btn-icon delete",onClick:()=>{o(!0)},children:(0,r.jsx)(i.Z,{title:"X\xf3a",children:(0,r.jsx)(N.Z,{})})}),(0,r.jsx)(v.Z,{title:(0,r.jsx)("span",{children:"X\xf3a Quận/Huyện ?"}),visible:l,onCancel:u,footer:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:u,className:"btn btn-outline mr-2",children:"Hủy"}),(0,r.jsx)("button",{onClick:c,className:"btn btn-danger",children:"X\xf3a"})]}),children:(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-base mb-4",children:"Bạn muốn x\xf3a Quận/Huyện: "}),(0,r.jsx)("span",{className:"text-base mb-4",style:{color:"#f25767"},children:t.DistrictName})]})})]})},D=n(39292),k=n(9473),Z=()=>{var e;let[t,n]=(0,a.useState)([]),[s,o]=(0,a.useState)({type:"",status:!1}),[u,p]=(0,a.useState)(null),{information:x}=(0,k.v9)(e=>e.user),[g,y]=(0,a.useState)(""),v={pageIndex:1,pageSize:D.I,sort:-1,sortType:!1,AreaName:"",AreaID:null,DistrictName:""},b=(0,a.useRef)({pageIndex:1,pageSize:30,sort:-1,sortType:!1}),[N,Z]=(0,a.useState)(v),E=async()=>{o({type:"GET_ALL",status:!0});try{var e;let t=await h.AO.getAll({...N,areaID:null===(e=d().query)||void 0===e?void 0:e.area});200===t.status?(n(t.data.data),p(t.data.totalRow)):204===t.status&&n([])}catch(e){(0,j.fr)("error",e.message)}finally{o({type:"GET_ALL",status:!1})}};(0,a.useEffect)(()=>{E()},[N]);let C=[{title:"Quận / Huyện",dataIndex:"DistrictName",...(0,f.Z)("DistrictName",(e,t)=>{y(t),Z({...v,...b.current,pageIndex:1,[t]:e})},()=>{y(""),Z({...v,pageSize:b.current.pageSize})},"text"),className:"DistrictName"===g?"active-column-search":"",render:e=>(0,r.jsx)("p",{className:"text-primary weight-600",children:e})},{title:"Ng\xe0y khởi tạo",dataIndex:"CreatedOn",render:e=>c()(e).format("DD/MM/YYYY")},{title:"Được tạo bởi",dataIndex:"CreatedBy",width:100,align:"center"},{align:"center",render:(e,t,n)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{title:"Xem danh s\xe1ch phường / x\xe3",children:(0,r.jsx)("button",{onClick:()=>d().push({pathname:"/options/ward",query:{dis:null==t?void 0:t.ID,name:null==t?void 0:t.DistrictName}}),type:"button",className:"btn btn-icon exchange",children:(0,r.jsx)(l.Z,{})})}),(0,r.jsx)(w,{dataRow:t,fetchDistrictList:E}),(0,r.jsx)(O,{dataRow:t,fetchDistrictList:E})]})}];return(0,a.useEffect)(()=>{x&&(null==x?void 0:x.RoleId)!=1&&(null==x?void 0:x.RoleId)!=2&&(null==x?void 0:x.RoleId)!=5&&d().push("/")},[x]),(0,r.jsx)(r.Fragment,{children:!!x&&((null==x?void 0:x.RoleId)==1||(null==x?void 0:x.RoleId)==2||(null==x?void 0:x.RoleId)==5)&&(0,r.jsx)(m.Z,{TitleCard:"Danh s\xe1ch quận / huyện thuộc: ".concat(null===(e=d().query)||void 0===e?void 0:e.name),Extra:(0,r.jsx)(w,{fetchDistrictList:E}),data:t,columns:C})})};let E=()=>(0,r.jsx)(Z,{});E.Layout=s.C;var C=E},92703:function(e,t,n){"use strict";var r=n(50414);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,s,l){if(l!==r){var i=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},32655:function(e,t,n){"use strict";var r=n(67294),a=n(45697),s=n.n(a);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=(0,r.forwardRef)(function(e,t){var n=e.color,a=e.size,s=void 0===a?24:a,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["color","size"]);return r.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:void 0===n?"currentColor":n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),r.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});i.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},i.displayName="Edit",t.Z=i},92633:function(e,t,n){"use strict";var r=n(67294),a=n(45697),s=n.n(a);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=(0,r.forwardRef)(function(e,t){var n=e.color,a=e.size,s=void 0===a?24:a,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["color","size"]);return r.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:void 0===n?"currentColor":n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),r.createElement("polyline",{points:"3 6 5 6 21 6"}),r.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))});i.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},i.displayName="Trash",t.Z=i}},function(e){e.O(0,[6130,4838,7909,5970,8460,9915,6565,653,6655,1607,6361,5009,4253,9872,1379,861,8675,8210,6369,6954,2888,9774,179],function(){return e(e.s=46758)}),_N_E=e.O()}]);