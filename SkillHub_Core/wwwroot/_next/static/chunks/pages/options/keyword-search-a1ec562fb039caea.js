(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[992],{51472:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/options/keyword-search",function(){return n(48428)}])},21826:function(e,t,n){"use strict";var r=n(1413),a=n(67294),s=n(96606),l=n(881),o=function(e,t){return a.createElement(l.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:s.Z}))};o.displayName="SearchOutlined",t.Z=a.forwardRef(o)},8123:function(e,t,n){"use strict";var r=n(85893),a=n(34223),s=n(66946);n(67294),t.Z=function(e){return(0,r.jsxs)("div",{className:"pt-5 pb-5",children:[(null==e?void 0:e.loading)&&(0,r.jsx)("div",{style:{width:"90%"},children:(0,r.jsx)(a.Z,{round:!0,active:!0})}),!(null==e?void 0:e.loading)&&(0,r.jsx)(s.Z,{description:!1,children:(0,r.jsx)("div",{className:"disable",children:"Kh\xf4ng c\xf3 dữ liệu"})})]})}},74471:function(e,t,n){"use strict";var r=n(85893),a=n(21826),s=n(96369),l=n(16655),o=n(74253),i=n(77889),c=n(51095),u=n(30381),d=n.n(u),h=n(67294);t.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text",p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];arguments.length>5&&void 0!==arguments[5]&&arguments[5];let[m,f]=(0,h.useState)(!1),[x,g]=(0,h.useState)(null),{RangePicker:y}=s.default,v=(0,h.useRef)(null),{Option:b}=l.default,j=e=>{g(e)},w=n=>{if(t&&null!=x){switch(u){case"text":case"select":t(n,e);break;case"date":t(n=d()(x.toDate()).format("YYYY/MM/DD"),e);break;case"date-range":t({fromDate:d()(x[0].toDate()).format("YYYY/MM/DD"),toDate:d()(x[1].toDate()).format("YYYY/MM/DD")},e)}f(!1)}},k=()=>{n&&(n(),j(null),f(!1))},O=()=>{let e;switch(u){case"text":e=(0,r.jsx)(o.default,{ref:v,value:x,placeholder:"T\xecm kiếm",onPressEnter:e=>w(x),onChange:e=>j(e.target.value),style:{marginBottom:8,display:"block"}});break;case"select":e=(0,r.jsx)(l.default,{ref:v,value:x,onChange:e=>j(e),style:{marginBottom:8,display:"block"},placeholder:"Lọc",optionFilterProp:"children",showSearch:!0,children:p.map((e,t)=>(0,r.jsx)(b,{value:e.value,children:e.title},t))});break;case"date":e=(0,r.jsx)(s.default,{style:{marginBottom:8,display:"block"},autoFocus:!0,format:"DD/MM/YYYY",onChange:(e,t)=>j(e)});break;case"date-range":e=(0,r.jsx)("div",{style:{marginBottom:8,display:"block"},children:(0,r.jsx)(y,{format:"DD/MM/YYYY",autoFocus:!0,ranges:{Today:[d()(),d()()],"This Month":[d()().startOf("month"),d()().endOf("month")]},onChange:(e,t)=>j(e)})})}return e};return(0,h.useEffect)(()=>{m&&setTimeout(()=>{var e,t;null===(t=v.current)||void 0===t||null===(e=t.select)||void 0===e||e.call(t)},100)},[m]),{filterDropdown:()=>(0,r.jsxs)("div",{style:{padding:8},children:[O(),(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(c.Z,{type:"primary",onClick:()=>w(x),icon:(0,r.jsx)(a.Z,{}),size:"small",style:{width:90},children:"T\xecm"}),(0,r.jsx)(c.Z,{onClick:k,size:"small",style:{width:90},children:"Kh\xf4i phục"})]})]}),filterDropdownVisible:m,filterIcon:e=>(0,r.jsx)(a.Z,{}),onFilterDropdownVisibleChange:e=>{e?f(!0):f(!1)}}}},44315:function(e,t,n){"use strict";var r=n(85893),a=n(31379),s=n(74253);n(67294),t.Z=e=>{let{style:t,label:n,isRequired:l,className:o,allowClear:i,placeholder:c,disabled:u,name:d,rules:h,onChange:p,value:m}=e;return(0,r.jsx)(a.Z.Item,{name:d,style:t,label:n,className:"".concat(o),required:l,rules:h,children:(0,r.jsx)(s.default,{className:"primary-input ".concat(o),allowClear:i,placeholder:c,disabled:u,onChange:e=>{p&&p(e)},value:m,defaultValue:m})})}},48895:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(85893),a=n(96361),s=n(28210),l=n(67294),o=n(8123),i=e=>{let{record:t,visible:n,x:a,y:s,menuContext:o}=e,i=(0,l.useMemo)(()=>o.map(e=>{let t=e.components;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t,{}),e.text]})}),[o]);return n&&(0,r.jsx)("ul",{className:"context-menu-table",style:{left:"".concat(a,"px"),top:"".concat(s,"px")},children:i.map(e=>(0,r.jsx)("li",{className:"menu-context-item",children:e}))})},c=e=>{let t;let{columns:n,children:c,TitleCard:u,Extra:d,className:h,rowSelection:p,keySelection:m="",loading:f,bordered:x}=e,{total:g,current:y,expand:v,data:b,onExpand:j,onChangePage:w,menuContext:k,pageSize:O}=e,[N,C]=(0,l.useState)([]),[S,T]=(0,l.useState)([{currentPage:1,listKeys:[]}]),[Z,E]=(0,l.useState)(1),[D,P]=(0,l.useState)(null),[Y,_]=(0,l.useState)({record:null,visible:!1,x:0,y:0}),z=(e,t)=>{if(E(e),S.some(t=>t.currentPage==e)||S.push({currentPage:e,listKeys:[]}),T([...S]),void 0===w)return e;w(e,t)};return(0,l.useEffect)(()=>{if(b){let e=JSON.parse(JSON.stringify(b));e.forEach((e,t)=>{let n=t.toString();m&&(n=(null==e?void 0:e[m])||"NOT_FOUND"),e.key=n}),C(e)}},[b]),(0,r.jsx)("div",{className:"wrap-table",children:(0,r.jsxs)(a.Z,{className:"".concat(h&&h),title:u,extra:d,children:[c,0==N.length&&(0,r.jsx)(o.Z,{loading:f}),N.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{loading:f,bordered:x,rowSelection:p,scroll:{x:"max-content",y:window.innerHeight-295},columns:n,dataSource:N,size:"middle",pagination:{pageSize:O||30,pageSizeOptions:["30"],total:g&&g,current:y&&y,showTotal:()=>g&&(0,r.jsxs)("div",{className:"font-weight-black",children:["Tổng cộng: ",g]}),onChange:(e,t)=>z(e,t)},rowClassName:(e,t)=>t==D?"active":t%2==0?"row-light":"row-dark",onRow:(e,t)=>({onContextMenu:t=>{if(!k)return null;t.preventDefault(),Y.visible||document.addEventListener("click",function e(){_({...Y,visible:!1}),document.removeEventListener("click",e)}),_({...Y,record:e,visible:!0,x:t.clientX,y:t.clientY})},onClick:()=>P(t)}),expandable:S[0].listKeys.length>0&&v,expandedRowRender:v?(e,t,n,r)=>r?v:null:void 0,onExpandedRowsChange:e=>{if(P(parseInt(e[e.length-1])),S.some(e=>e.currentPage==Z)){let t=S.findIndex(e=>e.currentPage==Z);S[t].listKeys=e}T([...S])},onExpand:(e,t)=>{void 0!==j&&j(t)},expandedRowKeys:(t=null,(t=S.some(e=>e.currentPage==Z)?S.find(e=>e.currentPage===Z).listKeys:[]).length>1&&t.splice(t.length-2,1),t)}),k&&(0,r.jsx)(i,{...Y,menuContext:k})]})]})})}},39292:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});let r=30},48428:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(85893),a=n(67294),s=n(26674),l=n(31379),o=n(77024),i=n(32655),c=n(92088),u=n(63237),d=n(44315),h=e=>{let{onSubmit:t,form:n,dataRow:s}=e,[h,p]=(0,a.useState)(!1),m=()=>{p(!1)},f=()=>{p(!0)};return(0,a.useEffect)(()=>{h&&(s?n.setFieldsValue({Keyword:s.Keyword}):n.resetFields())},[h]),(0,r.jsxs)(r.Fragment,{children:[s?(0,r.jsx)("button",{onClick:f,className:"btn btn-icon edit",children:(0,r.jsx)(o.Z,{title:"Cập nhật",children:(0,r.jsx)(i.Z,{size:18})})}):(0,r.jsxs)("button",{onClick:f,className:"btn btn-warning",children:[(0,r.jsx)(c.OrI,{size:18,className:"mr-2"}),"Th\xeam từ kh\xf3a"]}),(0,r.jsx)(u.Z,{title:"Th\xeam từ kh\xf3a t\xecm kiếm",visible:h,onCancel:m,className:"antd-custom-wrap",footer:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"btn btn-outline mr-2",onClick:m,children:"Hủy"}),(0,r.jsxs)("button",{className:"btn btn-primary",onClick:n.submit,children:[(0,r.jsx)(c.tfk,{size:18,className:"mr-2"}),"Lưu"]})]}),children:(0,r.jsx)(l.Z,{form:n,layout:"vertical",onFinish:t,children:(0,r.jsx)(d.Z,{isRequired:!0,rules:[{required:!0,message:"Bạn kh\xf4ng được để trống"}],label:"Từ kh\xf3a",name:"Keyword",placeholder:"Nhập từ kh\xf3a t\xecm kiếm"})})})]})},p=n(92633),m=e=>{let{dataRow:t,onDelete:n}=e,[s,l]=(0,a.useState)(!1),i=()=>{l(!1)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"btn btn-icon delete",onClick:()=>{l(!0)},children:(0,r.jsx)(o.Z,{title:"X\xf3a",children:(0,r.jsx)(p.Z,{size:18})})}),(0,r.jsx)(u.Z,{title:"X\xf3a từ kh\xf3a",visible:s,onCancel:i,footer:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:i,className:"btn btn-outline mr-2",children:"Hủy"}),(0,r.jsx)("button",{onClick:()=>n(t),className:"btn btn-danger",children:"X\xf3a"})]}),children:(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-base mb-4",children:"Bạn muốn x\xf3a từ kh\xf3a: "}),(0,r.jsx)("span",{className:"text-base mb-4",style:{color:"#f25767"},children:t.Keyword})]})})]})},f=n(48895),x=n(74471),g=n(39292),y=()=>{let[e]=l.Z.useForm(),t={pageIndex:1,pageSize:g.I,sort:1,sortType:!0},n=(0,a.useRef)({pageIndex:1,pageSize:30,sort:-1,sortType:!1}),[s,o]=(0,a.useState)(""),[i,c]=(0,a.useState)(t),[u,d]=(0,a.useState)(!1),p=e=>{console.log("Data: ",e)},y=e=>{console.log("Delete: ",e)},v=[{title:"Từ kh\xf3a",dataIndex:"Keyword",key:"Keyword",width:350,sorter:!0,...(0,x.Z)("Keyword",(e,r)=>{o(r),c({...t,...n.current,pageIndex:1,[r]:e})},()=>{o(""),c({...t,pageSize:n.current.pageSize})},"text"),className:"Keyword"===s?"active-column-search":"",render:e=>(0,r.jsx)("a",{children:e})},{title:"Thao t\xe1c",dataIndex:"",width:100,render:(t,n)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h,{dataRow:n,onSubmit:p,form:e}),(0,r.jsx)(m,{dataRow:n,onDelete:y})]})}];return(0,r.jsx)("div",{className:"wrap-search-table",children:(0,r.jsx)(f.Z,{TitleCard:"D\xe1nh s\xe1ch từ kh\xf3a",Extra:(0,r.jsx)(h,{onSubmit:p,form:e}),columns:v,data:[{Keyword:"Demo"}]})})};let v=()=>(0,r.jsx)(y,{});v.Layout=s.C;var b=v},92703:function(e,t,n){"use strict";var r=n(50414);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,s,l){if(l!==r){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},32655:function(e,t,n){"use strict";var r=n(67294),a=n(45697),s=n.n(a);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=(0,r.forwardRef)(function(e,t){var n=e.color,a=e.size,s=void 0===a?24:a,o=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["color","size"]);return r.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:void 0===n?"currentColor":n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),r.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});o.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},o.displayName="Edit",t.Z=o},92633:function(e,t,n){"use strict";var r=n(67294),a=n(45697),s=n.n(a);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=(0,r.forwardRef)(function(e,t){var n=e.color,a=e.size,s=void 0===a?24:a,o=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["color","size"]);return r.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:void 0===n?"currentColor":n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),r.createElement("polyline",{points:"3 6 5 6 21 6"}),r.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))});o.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},o.displayName="Trash",t.Z=o}},function(e){e.O(0,[6130,4838,7909,5970,8460,9915,6565,653,6655,1607,6361,5009,4253,9872,1379,861,8675,8210,6369,6954,2888,9774,179],function(){return e(e.s=51472)}),_N_E=e.O()}]);