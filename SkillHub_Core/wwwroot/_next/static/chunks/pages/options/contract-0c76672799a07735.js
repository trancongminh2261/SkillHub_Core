(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5516],{29010:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/options/contract",function(){return a(69891)}])},79930:function(e,t,a){"use strict";a.d(t,{X:function(){return i}});var n=a(59178);let i={uploadImage(e){let t=new FormData;return t.append("file",e),n.e.post("".concat("/api/Base","/Upload"),t,{})}}},15892:function(e,t,a){"use strict";a.d(t,{f:function(){return l}});var n=a(59178);let i="/api/Contract/",l={getAll:e=>n.e.get(i,{params:e}),getByStudentID:e=>n.e.get("".concat(i,"template/").concat(e)),update:e=>n.e.put(i,e),addContract:e=>n.e.post(i,e)}},82979:function(e,t,a){"use strict";a.d(t,{A:function(){return c}});let n="undo redo",i="bold italic underline strikethrough",l="forecolor backcolor",s="alignleft aligncenter alignright alignjustify";t.Z="".concat(n," | customInsertButton | link | ").concat(i," | ").concat(l," | image | ").concat("fontfamily fontsize blocks"," | ").concat(s," | lineheight | numlist bullist | table tabledelete | tableprops tablerowprops tablecellprops | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol'");let c="".concat(n," | fontsize | ").concat(i," | ").concat(s," | ").concat(l," | code | link media image")},55128:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var n=a(85893),i=a(31379),l=a(67294),s=a(90918),c=a(79930),o=a(58416),r=a(82979),d=e=>{let{initialValue:t,value:a,placeholder:i,handleChangeDataEditor:d,customFieldProps:u,disableButton:h,height:p,disabled:f}=e,m=(0,l.useRef)(null),b=e=>{d&&d(e)};(0,l.useEffect)(()=>{let e=e=>{null!==e.target.closest(".tox-tinymce-aux, .moxman-window, .tam-assetmanager-root")&&e.stopImmediatePropagation()};return document.addEventListener("focusin",e),()=>document.removeEventListener("focusin",e)},[]);let[g,y]=(0,l.useState)(!0);async function v(){await (0,o.Dc)(1e3),y(!1)}return(0,l.useEffect)(()=>{v()},[]),(0,n.jsx)("div",{className:"w-full h-fit",children:!g&&(0,n.jsx)(s.M,{id:(null==e?void 0:e.id)?null==e?void 0:e.id:"editor",onInit:(e,t)=>m.current=t,initialValue:t,onChange:e=>{},disabled:f,value:a,onEditorChange:e=>{b(e)},init:{images_file_types:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",paste_preprocess:function(e,t){t.content.indexOf("<img ")>-1&&(t.content=t.content.replace(/<img[^>\"']*(((\"[^\"]*\")|('[^']*'))[^\"'>]*)*>/g,""))},inline:!1,plugins:"preview importcss searchreplace autolink autosave save directionality visualblocks visualchars fullscreen image link media template codesample table charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help charmap quickbars emoticons image code",placeholder:i,toolbar:r.A,height:p||600,content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",menubar:!1,toolbar_mode:"sliding",toolbar_location:"top",toolbar_sticky:!0,font_family_formats:"Arial=arial,helvetica,sans-serif;Comic Sans MS=comic sans ms,sans-serif; Georgia=georgia,palatino; Helvetica=helvetica;Tahoma=tahoma,arial,helvetica,sans-serif; Verdana=verdana,geneva;",image_title:!0,file_picker_types:"image",images_upload_handler:async function(e){new FormData().append("files[]",e.blob()),h&&h(!0);try{let t=await c.X.uploadImage(e.blob());if(200==t.status)return new Promise((e,a)=>{e(t.data.data)})}catch(e){(0,o.fr)("error",e.message);return}finally{h&&h(!1)}},relative_urls:0,remove_script_host:0,convert_urls:!1,...u}})})},u=function(e){let{customFieldProps:t,onChangeEditor:a,disableButton:s,id:c,height:o,className:r}=e,{label:u,name:h,isRequired:p,disabled:f,rules:m,initialValue:b,placeholder:g}=e,[y,v]=(0,l.useState)("");return(0,n.jsx)(i.Z.Item,{className:r,name:h,required:p,rules:m,label:u,children:(0,n.jsx)(d,{initialValue:b,value:y,placeholder:g,handleChangeDataEditor:e=>{a&&(a(e),v(e))},customFieldProps:t,disabled:f,disableButton:s,id:c,height:o||300})})}},69891:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var n=a(85893),i=a(67294),l=a(26674),s=a(96361),c=a(36070),o=a(77024),r=a(69361),d=a(92088),u=a(15892),h=a(55128),p=a(58416),f=()=>{let[e,t]=(0,i.useState)(null),[a,l]=(0,i.useState)(""),[f,m]=(0,i.useState)(!1),b=async()=>{m(!0);try{let e=await u.f.getAll({});200===e.status?"object"==typeof e.data.data&&null!==e.data.data&&t(e.data.data):204===e.status&&t({})}catch(e){(0,p.fr)("error",e.message)}finally{m(!1)}};(0,i.useEffect)(()=>{b()},[]);let g=async()=>{if(!a){(0,p.fr)("error","Bạn chưa sưa đổi");return}m(!0);try{let t=await u.f.update({...e,ContractContent:a});200===t.status&&(0,p.fr)("success",t.data.message)}catch(e){(0,p.fr)("error",e.message)}finally{l(""),m(!1)}};return(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-12",children:(0,n.jsxs)(s.Z,{className:"".concat(f?"custom-loading":""),style:{position:"relative"},extra:(0,n.jsx)(c.Z,{placement:"bottomRight",content:(0,n.jsx)("div",{className:"invoice-editor-list",children:[{label:"{khoahoc}",desc:" Lớp học"},{label:"{chuongtrinh}",desc:" Chương tr\xecnh"},{label:"{batdau}",desc:" Thời gian bắt đầu"},{label:"{ketthuc}",desc:" Thời gian kết th\xfac"},{label:"{hinhthucthanhtoan}",desc:"H\xecnh thức thanh to\xe1n"},{label:"{hovaten}",desc:" Họ v\xe0 t\xean"},{label:"{sodienthoai}",desc:" Số điện thoại"},{label:"{email}",desc:"Email kh\xe1ch h\xe0ng"},{label:"{cmnd}",desc:" CMND"},{label:"{ngaycap}",desc:" Ng\xe0y cấp"},{label:"{noicap}",desc:" Nơi cấp"},{label:"{diachi}",desc:" Địa chỉ"},{label:"{lydo}",desc:" L\xfd do xuất phiếu"},{label:"{dachi}",desc:" Số tiền chi ra"},{label:"{dathu}",desc:" Số tiền thu v\xe0o"},{label:"{nguoinhanphieu}",desc:" Người nhận phiếu k\xfd t\xean"},{label:"{nhanvienxuat}",desc:" Nh\xe2n vi\xean xuất phiếu k\xfd t\xean"},{label:"{ngay}",desc:" Ng\xe0y"},{label:"{thang}",desc:" Th\xe1ng"},{label:"{nam}",desc:" Năm"}].map((e,t)=>(0,n.jsx)(o.Z,{title:"Nhấn để sao ch\xe9p",placement:"left",className:"invoice-editor-item",children:(0,n.jsxs)("p",{onClick:()=>{navigator.clipboard.writeText(e.label),(0,p.fr)("success","Sao ch\xe9p th\xe0nh c\xf4ng")},children:[(0,n.jsxs)("span",{children:[e.label,":"]}),"".concat(e.desc)]},t)}))}),children:(0,n.jsx)("a",{className:"btn-code-editor",style:{position:"relative"},type:"primary",children:"M\xe3 hướng dẫn"})}),children:[(0,n.jsx)(h.Z,{name:"ContractContent",onChangeEditor:e=>{l(e)}}),(0,n.jsx)("div",{className:"pt-3 d-flex justify-content-center",children:(0,n.jsx)("div",{style:{paddingRight:5},children:(0,n.jsxs)("button",{type:"submit",className:"btn btn-primary",disabled:f,onClick:g,children:[(0,n.jsx)(d.tfk,{size:18,className:"mr-2"}),"X\xe1c nhận",f&&(0,n.jsx)(r.Z,{className:"loading-base"})]})})}),(0,n.jsx)(r.Z,{className:"custom-loading-icon",size:"large"})]})})})};let m=()=>(0,n.jsx)(f,{});m.Layout=l.C;var b=m},92703:function(e,t,a){"use strict";var n=a(50414);function i(){}function l(){}l.resetWarningCache=i,e.exports=function(){function e(e,t,a,i,l,s){if(s!==n){var c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:i};return a.PropTypes=a,a}},45697:function(e,t,a){e.exports=a(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},function(e){e.O(0,[6130,4838,7909,5970,8460,9915,6565,653,6655,1607,6361,5009,9872,1379,918,6954,2888,9774,179],function(){return e(e.s=29010)}),_N_E=e.O()}]);