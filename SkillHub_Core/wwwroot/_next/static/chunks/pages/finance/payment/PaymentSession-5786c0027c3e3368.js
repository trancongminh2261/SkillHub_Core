(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2958],{58188:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/finance/payment/PaymentSession",function(){return n(11780)}])},36831:function(e,t,n){"use strict";n.d(t,{J:function(){return c}});var s=n(30381),r=n.n(s);class a{secondToHHMMSS(e){var t=parseInt(e,10).toString(),n=Math.floor(parseInt(t)/3600).toString(),s=Math.floor((parseInt(t)-3600*parseInt(n))/60).toString();return t=(parseInt(t)-3600*parseInt(n)-60*parseInt(s)).toString(),10>parseInt(n)&&(n="0"+n),10>parseInt(s)&&(s="0"+s),10>parseInt(t)&&(t="0"+t),n+":"+s+":"+t}constructor(){this.toDDMMYYYY=e=>r()(e).format("DD/MM/YYYY"),this.toDDMMYYYHHmm=e=>r()(e).format("DD/MM/YYYY HH:mm"),this.toHHmm=e=>r()(e).format("HH:mm"),this.toHHmmss=e=>r()(e).format("HH:mm:ss"),this.numberToPrice=e=>{let t=(e+="").split("."),n=t[0],s=t.length>1?"."+t[1]:"",r=/(\d+)(\d{3})/;for(;r.test(n);)n=n.replace(r,"$1,$2");return n+s},this.priceToNumber=e=>parseInt(e.toString().replace(/\D/g,""))||0}}let c=new a},58416:function(e,t,n){"use strict";n.d(t,{Gu:function(){return o.Z},fr:function(){return i.Z},Zv:function(){return c},Jy:function(){return r.J},cM:function(){return l.c},aj:function(){return s.aj},Dc:function(){return s.Dc}});var s=n(42006),r=n(36831);class a{checkURL(e){return null==e?void 0:e.match(/\.(jpeg|jpg|gif|png)$/)}constructor(){this.isNumber=e=>!!e.match(/^-?[0-9]\d*([,.]\d+)?$/)}}let c=new a;var i=n(65146),l=n(83436),o=n(68821)},68821:function(e,t,n){"use strict";var s=n(65146);class r{constructor(){this.success=e=>{(0,s.Z)("success",e)},this.error=e=>{(0,s.Z)("error",e)},this.warning=e=>{(0,s.Z)("warning",e)}}}let a=new r;t.Z=a},11780:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var s=n(85893),r=n(78559),a=n(30381),c=n.n(a),i=n(67294),l=n(8285),o=n(78773),d=n(84295),u=n(9732),h=n(48506),m=e=>{let{Icon:t,className:n=""}=e;return(0,s.jsx)("div",{className:"p-2 bg-[rgb(243 244 246)] hover:bg-[rgb(229 231 235)] cursor-pointer w-fit rounded-full border border-gray-400 ".concat(n),children:t})},p=e=>{let{myIconFillProps:t,className:n="",Title:r,Description:a}=e;return(0,s.jsxs)("div",{className:"flex gap-2 items-center ".concat(n),children:[(0,s.jsx)(m,{...t}),(0,s.jsxs)("div",{children:[r&&(0,s.jsx)("p",{style:{fontSize:14,fontWeight:500,lineHeight:"16px",letterSpacing:"0.02em",color:"#777777"},children:r}),(0,s.jsx)("p",{className:"text-sm text-gray-800",children:a})]})]})},g=n(34223),x=n(66946),f=n(58533),j=n(72833),I=e=>{let{data:t,setData:n,scrollId:r,fetchApiFunction:a,fetchParams:c,children:l,maxHeight:o,endMessage:d}=e,[u,h]=(0,i.useState)({pageIndex:1,pageSize:10}),[m,p]=(0,i.useState)(0),[I,N]=(0,i.useState)(!1),[v,y]=(0,i.useState)(!1),w=document.getElementById(r);async function D(){try{N(!0);let e=await a({pageIndex:1,pageSize:u.pageSize,...c});200==e.status?(n(e.data.data),p(e.data.totalRow),console.log(e.data.totalRow,"hehehuu"),h({...u,pageIndex:1}),null==w||w.scroll({top:0})):n([])}catch(e){(0,j.xZ)(e)}finally{N(!1)}}async function S(){try{let e=await a({...u,...c});200==e.status?(n([...t,...e.data.data]),p(e.data.totalRow)):n([])}catch(e){(0,j.xZ)(e)}finally{y(!1)}}return(0,i.useEffect)(()=>{h({...u,pageIndex:1}),D()},[]),console.log(t.length,m,"length"),(0,i.useEffect)(()=>{1!==u.pageIndex&&S()},[u]),(0,s.jsxs)("div",{id:r,style:{maxHeight:o||"calc(100vh - 300px)"},className:"scrollable pr-2",children:[(null==t?void 0:t.length)>0&&!I&&(0,s.jsx)(f.Z,{dataLength:null==t?void 0:t.length,next:function(){console.log("length run n\xe8"),I||v||0===t.length||(y(!0),h({...u,pageIndex:u.pageIndex+1}))},hasMore:(null==t?void 0:t.length)<m,loader:(0,s.jsx)("div",{className:"w-full mt-[16px] mb-[32px] text-center flex items-center gap-2",children:(0,s.jsx)(g.Z,{active:!0})}),endMessage:(0,s.jsx)("div",{className:"",children:d}),scrollableTarget:r,children:(0,s.jsx)("div",{className:"my-2",children:l})}),(null==t?void 0:t.length)==0&&!I&&(0,s.jsx)("div",{className:"my-2",children:(0,s.jsx)(x.Z,{description:(0,s.jsx)("p",{className:"text-center",children:"Kh\xf4ng t\xecm thấy dữ liệu."})})}),I&&(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(g.Z,{})})]})},N=n(58416),v=e=>{let{data:t,getPaymentSessions:n,defaultGetPaymentSessionsParams:a}=e,[m,g]=(0,i.useState)([]);return(0,s.jsx)("div",{className:"pt-1",children:(0,s.jsx)(I,{data:m,setData:g,fetchApiFunction:n,fetchParams:a,scrollId:"paymentSessionScroll_".concat(null==t?void 0:t.Id),children:(0,s.jsx)(r.Z,{mode:"left",children:m.map(e=>(0,s.jsxs)(r.Z.Item,{children:[(0,s.jsxs)("p",{children:["Thanh to\xe1n l\xfac: ",c()(e.CreatedOn).format("DD/MM/YYYY HH:mm")]}),(0,s.jsxs)("div",{className:"grid border shadow-sm grid-cols-2 gap-2 p-3 bg-[#fff] rounded-2xl",children:[(0,s.jsx)(p,{className:"",Title:"Gi\xe1 trị",myIconFillProps:{Icon:(0,s.jsx)(d.IsJ,{size:20})},Description:(0,s.jsxs)("div",{className:"font-[600] ".concat((null==e?void 0:e.Type)==1?"text-tw-green":"text-tw-red"),children:[(null==e?void 0:e.Type)==1?"+":"-",N.Jy.numberToPrice(e.Value)," VND"]})}),(0,s.jsx)(p,{className:"",Title:"Loại",myIconFillProps:{Icon:(0,s.jsx)(l.Qns,{size:20})},Description:e.TypeName}),(0,s.jsx)(p,{className:"",Title:"Phương thức",myIconFillProps:{Icon:(0,s.jsx)(h.lTV,{size:20})},Description:e.PaymentMethodName}),(0,s.jsx)(p,{className:"",Title:"Người tạo",myIconFillProps:{Icon:(0,s.jsx)(o.BKo,{size:20})},Description:e.CreatedBy}),(0,s.jsx)(p,{className:"col-span-2 !items-start",Title:"Ghi ch\xfa",myIconFillProps:{Icon:(0,s.jsx)(u.y_C,{size:20})},Description:(0,s.jsx)("p",{className:"whitespace-pre-wrap",children:e.Note||"Kh\xf4ng c\xf3"})})]})]}))})})})}}},function(e){e.O(0,[8391,4396,4817,3365,1698,6254,2888,9774,179],function(){return e(e.s=58188)}),_N_E=e.O()}]);