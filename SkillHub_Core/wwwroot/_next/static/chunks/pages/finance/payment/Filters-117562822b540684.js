(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4892],{9378:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/finance/payment/Filters",function(){return n(13722)}])},59178:function(e,t,n){"use strict";n.d(t,{e:function(){return d}});var o=n(9669),a=n.n(o),l=n(53265),r=n(97396);function s(e){return(null==e?void 0:e.baseURL)?e.url.replace(e.baseURL,"").split("?")[0]:e.url}console.log("%cSWIMMING API:","color: #00BCD4; font-weight: bold",l.Z.hostURL);let i=async()=>{let e=await JSON.parse(localStorage.getItem("userData"));return e&&e.token?{token:e.token}:{}};function c(e){return(e/1e3).toFixed(1)}let d=a().create({baseURL:l.Z.hostURL,headers:{Accept:"application/json"}});d.interceptors.request.use(async e=>{if(!s(e).toString().includes("/auth/")){let t=await i();e.headers={...e.headers,...t},e.startCall=new Date().getTime()}return e},e=>{var t,n;return console.log("%c ".concat(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.status,"  :"),"color: red; font-weight: bold",null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.data),Promise.reject(e)});let p=!1;d.interceptors.response.use(e=>{var t;let n="".concat(null==e?void 0:e.status," - ").concat(s(null==e?void 0:e.config)),o=new Date().getTime()-(null==e?void 0:null===(t=e.config)||void 0===t?void 0:t.startCall),a=o<1e3?"Rất nhanh":o>2e3?"Rất chậm":"Hơi nhanh",l="".concat(o,"ms --> ").concat(c(o),"s");return console.log(" %c ".concat(n,":"),"color: #008000; font-weight: bold",{timeSpend:l,rate:a,...e}),e},async function(e){var t,n,o,a,l,i,d,u,g,f,h,v;if((null==e?void 0:e.response)&&(console.log("error?.response",null==e?void 0:e.response),(null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.status)!=401||p||(p=!0,(0,r.ni)()),(null==e?void 0:null===(o=e.response)||void 0===o?void 0:o.status)==403&&(0,r.ni)()),s(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.config),(null==e?void 0:e.name)=="AbortError")console.log("Request canceled",e.message);else{if(null==e?void 0:e.response){(null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.status)!=401||p||(p=!0,(0,r.ni)());let t="".concat(null==e?void 0:null===(l=e.response)||void 0===l?void 0:l.status," - ").concat(s(null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.config)),n=new Date().getTime()-(null==e?void 0:null===(u=e.response)||void 0===u?void 0:null===(d=u.config)||void 0===d?void 0:d.startCall),o=n<1e3?"Rất nhanh":n>2e3?"Rất chậm":"Hơi nhanh",f="".concat(n,"ms --> ").concat(c(n),"s");return console.log(" %c ".concat(t,":"),"color: red; font-weight: bold",{timeSpend:f,rate:o,...null==e?void 0:e.response}),(null==e?void 0:null===(g=e.response)||void 0===g?void 0:g.data)?Promise.reject(e.response.data):Promise.reject(e)}return e.request?(console.log("%c ".concat(JSON.stringify(e),"  :"),"color: red; font-weight: bold",null==e?void 0:null===(f=e.response)||void 0===f?void 0:f.data),(null==e?void 0:null===(h=e.response)||void 0===h?void 0:h.data)?Promise.reject(e.response.data):Promise.reject(e)):(console.log("%c ".concat(JSON.stringify(e),"  :"),"color: red; font-weight: bold","H\xecnh như l\xe0 setting sai"),(null==e?void 0:null===(v=e.response)||void 0===v?void 0:v.data)?Promise.reject(e.response.data):Promise.reject(e))}})},25773:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var o=n(59178);let a="/api/Branch",l={getAll:e=>o.e.get(a,{params:e}),add:e=>o.e.post(a,e),update:e=>o.e.put(a,e,{}),delete:e=>o.e.delete("".concat(a,"/").concat(e))}},88291:function(e,t,n){"use strict";n.d(t,{GT:function(){return p},Tx:function(){return s},ar:function(){return d},nA:function(){return i},qL:function(){return r},rR:function(){return c},sy:function(){return l}});var o=n(59178);let a="/api/UserInformation",l={getAllRole:e=>o.e.get("/api/UserInformation",{params:{RoleID:e}}),getByRole:e=>o.e.get("".concat(a,"/user-available"),{params:e}),getAvailableUser:e=>o.e.get("".concat(a,"/user-available"),{params:e}),getName:e=>o.e.get("/api/Staff",{params:e}),getRole:e=>o.e.get("/api/GetRole",{params:{style:e}}),addTestAppointment:e=>o.e.post("".concat(a,"/test-appointment"),e),keyGetAll:"GET api/UserInformation",getAll:e=>o.e.get(a,{params:e}),keyGetByID:"GET api/UserInformation/{userInformationId}",getByID:e=>o.e.get("".concat(a,"/").concat(e)),getAllParams:e=>o.e.get("/api/UserInformation",{params:e}),add:e=>o.e.post(a,e),update:e=>o.e.put(a,e),delete:e=>o.e.delete("".concat(a,"/").concat(e)),importUser(e){let t=new FormData;return t.append("File",e),o.e.post("".concat(a,"/ImportStudent"),t,{headers:{"Content-Type":"multipart/form-data"}})},export:e=>o.e.get("".concat(a,"/ExportExcel"),{params:e}),checkExistUserName:e=>o.e.post("/api/check-exist-username",e),viewImportStudent(e,t){let n=new FormData;return n.append("file",t),n.append("BranchIds",String(e)),o.e.post("".concat(a,"/view-student-excel"),n,{headers:{"Content-Type":"multipart/form-data"}})},viewImportStaff(e){let t=new FormData;return t.append("file",e),o.e.post("".concat(a,"/view-employee-excel"),t,{headers:{"Content-Type":"multipart/form-data"}})},exportSampleExcel:e=>o.e.get("".concat(a,"/export-student-template/").concat(null==e?void 0:e.branchId),{params:e}),exportStaffSampleExcel:()=>o.e.get("".concat(a,"/export-employee-template/")),insertAfterImport:(e,t)=>o.e.post("".concat(a,"/insert-student-excel/").concat(t),e),keyGetParentUser:"GET /api/UserInformation/get-parent-user/{userInformationId}",getParentUser:e=>o.e.get("".concat(a,"/get-parent-user/").concat(e)),keyInsertParent:"POST /api/UserInformation/InsertParent",insertParent:e=>o.e.post("".concat(a,"/InsertParent"),e),insertStaffAfterImport:(e,t)=>o.e.post("".concat(a,"/insert-employee-excel/").concat(t),e),keyGetAllSaler:"GET /api/UserInformation/get-all-saler/{branchId}",getAllSaler:e=>o.e.get("".concat(a,"/get-all-saler"),{params:e})},r={changeRegister:e=>o.e.post("/api/ChangeRegister/"+e,{}),getAllowRegister:()=>o.e.get("/api/AllowRegister",{}),register:e=>o.e.post("/api/Register/",e,{})},s={verify:e=>o.e.post("api/ConfirmOTP?userId=".concat(e.userId,"&Otp=").concat(e.Otp),{}),reSenOPT:e=>o.e.post("api/ReSendOTP?userId=".concat(e),{})},i={changePassword:e=>o.e.post("/api/ChangePassword",e,{}),forgotPassword:e=>o.e.post("/api/KeyForgotPassword",e,{}),resetPassword:e=>o.e.post("/api/ResetPassword",e,{})},c={getAll:e=>o.e.get("/api/ChangeInfo",{params:e}),getByID:e=>o.e.get("/api/ChangeInfo".concat(e)),add:e=>o.e.post("/api/ChangeInfo",e),update:e=>o.e.put("/api/ChangeInfo",e),acceptUpdate:e=>o.e.put("/api/ChangeInfo/".concat(e,"/Status/Approve")),delete:e=>o.e.delete("/api/ChangeInfo/"+e)},d={getRole:e=>o.e.get("/api/GetRole",{params:{style:e}})},p={getAllUserInRoom:e=>o.e.get("/api/UserInNewsFeedGroup",{params:e}),addMember:e=>o.e.post("/api/UserInNewsFeedGroup",e),getUserNotIn:e=>o.e.get("/api/UserInNewsFeedGroup/user-not-in-group/".concat(e),{}),deleteMember:e=>o.e.delete("/api/UserInNewsFeedGroup/".concat(e),{})}},13722:function(e,t,n){"use strict";n.r(t);var o=n(85893),a=n(67294),l=n(16655),r=n(11163),s=n(9473),i=n(25773),c=n(88291),d=n(72833);t.default=e=>{let{filters:t,setFilter:n,statusSelected:p,handleSelecStatus:u,billStatus:g}=e;(0,s.v9)(e=>e.user.information),(0,r.useRouter)();let f=(0,s.v9)(e=>e.user.currentBranch),[h,v]=(0,a.useState)([]),[m,I]=(0,a.useState)([]);(0,a.useEffect)(()=>{x(),w()},[]);let x=async()=>{try{let e=await i.Z.getAll({pageIndex:1,pageSize:99999});200==e.status?v(e.data.data):v([])}catch(e){(0,d.xZ)(e)}},w=async()=>{try{let e=await c.sy.getByRole({roleId:3,branchId:f});200==e.status?I(e.data.data):I([])}catch(e){(0,d.xZ)(e)}};return(0,o.jsxs)("div",{className:"grid grid-cols-2 w900:grid-cols-4 gap-[12px] w400:gap-[16px] w-full",children:[(0,o.jsxs)("div",{className:"col-span-2 w600:col-span-1 flex flex-col",children:[(0,o.jsx)("div",{className:"mb-[4px] mt-[-3px] font-[600]",children:"Loại thanh to\xe1n"}),(0,o.jsx)(l.default,{className:"primay-input w-full !h-[36px]",placeholder:"Loại thanh to\xe1n",value:p,optionLabelProp:"children",onChange:e=>u(e),children:g.map((e,t)=>(0,o.jsx)(l.default.Option,{value:null==e?void 0:e.id,children:null==e?void 0:e.title},null==e?void 0:e.id))})]}),(0,o.jsxs)("div",{className:"col-span-2 w600:col-span-1 flex flex-col",children:[(0,o.jsx)("div",{className:"mb-[4px] mt-[-3px] font-[600]",children:"Học vi\xean"}),(0,o.jsxs)(l.default,{value:t.studentIds,showSearch:!0,placeholder:"Chọn học vi\xean",className:"primay-input !h-[36px] w-full",optionFilterProp:"children",onChange:e=>n({...t,studentIds:e}),children:[(0,o.jsx)(l.default.Option,{value:null,children:"Tất cả"},null),m.map(e=>(0,o.jsxs)(l.default.Option,{value:e.UserInformationId,children:["[",null==e?void 0:e.UserCode,"] - ",null==e?void 0:e.FullName]},e.UserInformationId))]})]}),(0,o.jsxs)("div",{className:"col-span-1 flex flex-col",children:[(0,o.jsx)("div",{className:"mb-[4px] mt-[-3px] font-[600]",children:"Trạng th\xe1i"}),(0,o.jsxs)(l.default,{value:t.status,placeholder:"Chọn trạng th\xe1i",className:"primay-input !h-[36px] w-full",onChange:e=>n({...t,status:e}),children:[(0,o.jsx)(l.default.Option,{value:null,children:"Tất cả"},null),(0,o.jsx)(l.default.Option,{value:1,children:"Chưa thanh to\xe1n hết"},"1"),(0,o.jsx)(l.default.Option,{value:2,children:"Đ\xe3 thanh to\xe1n hết"},"2")]})]})]})}}},function(e){e.O(0,[8460,6655,2888,9774,179],function(){return e(e.s=9378)}),_N_E=e.O()}]);