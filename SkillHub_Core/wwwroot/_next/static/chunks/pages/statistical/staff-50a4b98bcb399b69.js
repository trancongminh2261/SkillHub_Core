(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4148],{38233:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/statistical/staff",function(){return s(10012)}])},82373:function(e,t,s){"use strict";var n=s(85893),r=s(67294),l=s(63237);t.Z=e=>{let{uri:t,className:s,disabled:o,isThumbnail:a,alt:i,resizedImage:c}=e,[d,h]=(0,r.useState)(""),[u,p]=(0,r.useState)(!1);function m(){!o&&(d||t)&&p(!u)}let f=a?"/default-thumbnail.png":"/default-avatar.png";return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{onClick:m,onError:()=>h(f),alt:"avatar",src:d||c||t||f,className:s,style:{cursor:d||t?"pointer":"default",borderStyle:t?"solid":"none"}}),(0,n.jsx)(l.Z,{closable:!1,title:null,width:700,open:u,onCancel:m,footer:null,children:(0,n.jsx)("img",{onError:()=>h(f),alt:i||"avatar",src:d||t||f,style:{width:"100%",maxHeight:"70vh",objectFit:"cover"}})})]})}},35254:function(e,t,s){"use strict";var n=s(85893),r=s(36070),l=s(41664),o=s.n(l);s(67294);var a=s(65890);t.Z=e=>{let{content:t,link:s,noDetails:l}=e;return(0,n.jsx)(r.Z,{content:(0,n.jsxs)("div",{className:"w-[250px]",children:[t,". ",!l&&(0,n.jsx)("span",{children:"Chi tiết"})," ",!l&&(0,n.jsx)(o(),{href:s,children:(0,n.jsx)("a",{children:"xem tại đ\xe2y"})})]}),children:(0,n.jsx)(a.O$D,{className:"text-[#f39c12]"})})}},55330:function(e,t,s){"use strict";var n=s(85893),r=s(96361);s(67294),t.Z=e=>{let{title:t,subTitle:s,children:l,...o}=e;return(0,n.jsx)(r.Z,{className:"shadow-sm h-full",title:(0,n.jsxs)("div",{className:"text-wrap",children:[(0,n.jsx)("p",{className:"font-[600] text-[18px]",children:t}),(0,n.jsx)("p",{className:"text-[#616161] font-[400] text-[14px]",children:s})]}),...o,children:l})}},75499:function(e,t,s){"use strict";var n=s(85893),r=s(96361),l=s(34223);s(67294),t.Z=()=>(0,n.jsx)(r.Z,{className:"shadow-sm",children:(0,n.jsxs)("div",{className:"p-[8px]",children:[(0,n.jsx)(l.Z,{active:!0,paragraph:!1,round:!0,className:"w-[70%]"}),(0,n.jsx)(l.Z,{active:!0,paragraph:!1,round:!0,style:{marginTop:30},className:"w-[60%]"}),(0,n.jsx)(l.Z,{active:!0,paragraph:!1,round:!0,style:{marginTop:14},className:"w-[40%]"})]})})},86563:function(e,t,s){"use strict";var n=s(85893),r=s(96361),l=s(77024);s(67294);var o=s(58416),a=s(41622),i=s.n(a),c=s(35254);t.Z=e=>{let{diffValue:t,status:s,title:a,value:d,lastMonth:h,detailDifference:u,infoContent:p}=e;return(0,n.jsxs)(r.Z,{className:"shadow-sm font-inter",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,n.jsx)("p",{className:"font-[600] text-[18px]",children:a}),p&&(0,n.jsx)(c.Z,{content:p,noDetails:!0})]}),(0,n.jsx)("p",{className:"font-[600] text-[30px] tracking-tighter",children:o.Jy.numberToPrice(d||0)}),(0,n.jsxs)("div",{children:[1==s&&(0,n.jsxs)("div",{className:"grid grid-cols-4 gap-1 font-medium",children:[(0,n.jsxs)("div",{className:"col-span-3 flex flex-wrap items-center gap-1",children:[(0,n.jsx)("div",{className:"".concat(i().arrowUp)}),(0,n.jsx)(l.Z,{title:"Tăng ".concat(o.Jy.numberToPrice(null==u?void 0:u.toFixed(2))," so với th\xe1ng ").concat(h),children:(0,n.jsxs)("p",{className:"text-[#027A48]",children:[t,"%"]})}),(0,n.jsxs)("p",{className:"text-[#475467] ml-1",children:["so với th\xe1ng ",h]})]}),(0,n.jsx)("div",{className:"col-span-1 flex justify-end w-full",children:(0,n.jsx)("div",{className:"".concat(i().chartUp," fadeInUp")})})]}),2==s&&(0,n.jsxs)("div",{className:"grid grid-cols-4 gap-1 font-medium",children:[(0,n.jsxs)("div",{className:"col-span-3 flex flex-wrap items-center gap-1",children:[(0,n.jsx)("div",{className:"".concat(i().arrowDown)}),(0,n.jsx)(l.Z,{title:"Giảm ".concat(o.Jy.numberToPrice(null==u?void 0:u.toFixed(2))," so với th\xe1ng ").concat(h),children:(0,n.jsxs)("p",{className:"text-[#E51F1F]",children:[t,"%"]})}),(0,n.jsxs)("p",{className:"text-[#475467] ml-1",children:["so với th\xe1ng ",h]})]}),(0,n.jsx)("div",{className:"col-span-1 flex justify-end w-full",children:(0,n.jsx)("div",{className:"".concat(i().chartDown," fadeInUp")})})]}),3==s&&(0,n.jsxs)("div",{className:"grid grid-cols-4 gap-1 font-medium",children:[(0,n.jsx)("div",{className:"col-span-3 flex flex-wrap items-center gap-1",children:(0,n.jsxs)("p",{className:"text-[#475467] ml-1",children:["Kh\xf4ng đổi so với th\xe1ng ",h]})}),(0,n.jsx)("div",{className:"col-span-1 flex justify-end w-full"})]})]})]})}},10012:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return L}});var n=s(85893),r=s(9008),l=s.n(r),o=s(67294),a=s(53265),i=s(36054),c=s(96369),d=s(30381),h=s.n(d),u=s(86563),p=s(9473),m=s(78551),f=s(59178);let x="/api/Statistical",v={getStaffOverview:e=>f.e.get(x+"/StaffOverview",{params:e}),getStaffCompareOverview:e=>f.e.get(x+"/StaffCompareOverview",{params:e}),getConsultingRevenue:e=>f.e.get(x+"/ConsultingRevenue",{params:e}),getCustomerConversion:e=>f.e.get(x+"/CustomerConversion",{params:e})};var g=s(75499),j=()=>{var e,t,s,r;let l=(0,p.v9)(e=>e.user.currentBranch),[a,i]=(0,o.useState)(h()()),{data:d,isLoading:f,isFetching:x}=(0,m.a)({queryKey:["STAFF-OVERVIEW",l,a],queryFn:()=>v.getStaffOverview({branchIds:l,month:Number(h()(a).format("MM")),year:Number(h()(a).format("YYYYY"))}).then(e=>e.data),enabled:!!l&&!!a,staleTime:1/0}),{data:j,isLoading:w,isFetching:y}=(0,m.a)({queryKey:["STAFF-COMPARE",l,a],queryFn:()=>v.getStaffCompareOverview({branchIds:l,month:Number(h()(a).format("MM")),year:Number(h()(a).format("YYYYY"))}).then(e=>e.data),enabled:!!l&&!!a,staleTime:1/0});return(0,n.jsxs)("div",{children:[((null==d?void 0:null===(e=d.data)||void 0===e?void 0:e.length)>0||(null==j?void 0:null===(t=j.data)||void 0===t?void 0:t.length)>0)&&(0,n.jsx)(c.default,{className:"primary-input mb-[10px]",picker:"month",placeholder:"Chọn th\xe1ng",defaultValue:a,format:"MMM YYYY",allowClear:!1,onChange:e=>{i(e)},disabled:x||y}),(0,n.jsxs)("div",{className:"grid gap-3 w1400:grid-cols-6 w700:grid-cols-3 w500:grid-cols-2 grid-cols-1 mb-3",children:[(x||f)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.Z,{}),(0,n.jsx)(g.Z,{}),(0,n.jsx)(g.Z,{}),(0,n.jsx)(g.Z,{}),(0,n.jsx)(g.Z,{}),(0,n.jsx)(g.Z,{})]}),!!d&&!x&&(null===(s=d.data)||void 0===s?void 0:s.map(e=>(0,n.jsx)(u.Z,{title:null==e?void 0:e.Type,status:4,value:null==e?void 0:e.Value})))]}),(0,n.jsxs)("div",{className:"grid gap-3 w1400:grid-cols-4 w700:grid-cols-2 grid-cols-1",children:[(y||w)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.Z,{}),(0,n.jsx)(g.Z,{}),(0,n.jsx)(g.Z,{}),(0,n.jsx)(g.Z,{})]}),!!j&&!y&&(null===(r=j.data)||void 0===r?void 0:r.map(e=>(0,n.jsx)(u.Z,{title:null==e?void 0:e.Type,status:null==e?void 0:e.Status,value:null==e?void 0:e.Value,diffValue:null==e?void 0:e.DifferenceValue,detailDifference:null==e?void 0:e.DifferenceQuantity,lastMonth:h()(a).subtract(1,"months").format("MM/YYYY")})))]})]})},w=s(55330),y=s(28853),N=s(26334),b=s(58533),T=s(82373),S=s(97867),Y=s.n(S),E=s(58416),_=s(72833),M=()=>{let e=(0,p.v9)(e=>e.user.currentBranch),[t,s]=(0,o.useState)(h()()),[r,l]=(0,o.useState)({pageIndex:1,pageSize:5}),[a,i]=(0,o.useState)([]),[d,u]=(0,o.useState)(!1),[m,f]=(0,o.useState)(!1),[x,g]=(0,o.useState)(0),j=document.getElementById("rank-scroll");async function S(){try{f(!0);let s=await v.getConsultingRevenue({branchIds:e,month:Number(h()(t).format("MM")),year:Number(h()(t).format("YYYYY")),pageIndex:1,pageSize:r.pageSize});200==s.status?(i(s.data.data),g(s.data.totalRow),null==j||j.scroll({top:0})):i([])}catch(e){(0,_.xZ)(e)}finally{f(!1)}}async function M(){try{let s=await v.getConsultingRevenue({branchIds:e,month:Number(h()(t).format("MM")),year:Number(h()(t).format("YYYYY")),...r});200==s.status?(i([...a,...s.data.data]),g(s.data.totalRow)):i([])}catch(e){(0,_.xZ)(e)}finally{u(!1)}}function C(e){switch(e){case 1:return{icon:Y().rank1,textColor:"text-[#f2ac00]"};case 2:return{icon:Y().rank2,textColor:"text-[#487dd7]"};case 3:return{icon:Y().rank3,textColor:"text-[#f3902e]"};default:return{icon:"",textColor:""}}}return(0,o.useEffect)(()=>{1!==r.pageIndex&&M()},[r]),(0,o.useEffect)(()=>{S()},[e,t]),(0,n.jsx)(w.Z,{title:"Doanh thu tư vấn vi\xean",subTitle:"Xếp hạng doanh thu của tư vấn vi\xean",extra:(0,n.jsx)(c.default,{className:"primary-input max-w-[110px]",picker:"month",placeholder:"Chọn th\xe1ng",defaultValue:h()(),format:"MM/YYYY",allowClear:!1,onChange:e=>{s(e),l({...r,pageIndex:1})},disabled:m}),children:(0,n.jsx)("div",{id:"rank-scroll",className:"max-h-[350px] scrollable pr-2",children:(0,n.jsx)(b.Z,{dataLength:a.length,next:function(){m||d||0===a.length||(u(!0),l({...r,pageIndex:r.pageIndex+1}))},hasMore:a.length<x,loader:(0,n.jsx)("div",{className:"w-full mt-[16px] mb-[32px]"}),endMessage:(0,n.jsx)("div",{className:"h-[36px]"}),scrollableTarget:"rank-scroll",className:"mx-[-8px] w1000:mx-0",children:(0,n.jsx)(y.ZP,{dataSource:a||[],renderItem:(e,t)=>(0,n.jsx)(y.ZP.Item,{children:(0,n.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[t+1>3?(0,n.jsx)("p",{className:"font-[500] w-[30px] text-center",children:t+1}):(0,n.jsx)("div",{className:C(t+1).icon}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(T.Z,{className:"h-[40px] w-[40px] rounded-full shadow-sm object-cover",uri:null==e?void 0:e.Avatar}),(0,n.jsxs)("div",{className:"ml-[8px]",children:[(0,n.jsx)("div",{className:"text-[16px] font-[600]",children:null==e?void 0:e.FullName}),(0,n.jsx)(N.Z,{color:"blue",className:"rounded",children:null==e?void 0:e.UserCode})]})]})]}),(0,n.jsx)("p",{className:"font-[600] ".concat(C(t+1).textColor),children:E.Jy.numberToPrice(null==e?void 0:e.TotalRevenue)})]})},t+e.UserCode)})})})})},C=()=>{let e=(0,p.v9)(e=>e.user.currentBranch),[t,s]=(0,o.useState)(h()()),[r,l]=(0,o.useState)({pageIndex:1,pageSize:5}),[a,i]=(0,o.useState)([]),[d,u]=(0,o.useState)(!1),[m,f]=(0,o.useState)(!1),[x,g]=(0,o.useState)(0),j=document.getElementById("customer-conversion-scroll");async function N(){try{f(!0);let s=await v.getCustomerConversion({branchIds:e,month:Number(h()(t).format("MM")),year:Number(h()(t).format("YYYYY")),pageIndex:1,pageSize:r.pageSize});200==s.status?(i(s.data.data),g(s.data.totalRow),null==j||j.scroll({top:0})):i([])}catch(e){(0,_.xZ)(e)}finally{f(!1)}}async function S(){try{let s=await v.getCustomerConversion({branchIds:e,month:Number(h()(t).format("MM")),year:Number(h()(t).format("YYYYY")),...r});200==s.status?(i([...a,...s.data.data]),g(s.data.totalRow)):i([])}catch(e){(0,_.xZ)(e)}finally{u(!1)}}return(0,o.useEffect)(()=>{1!==r.pageIndex&&S()},[r]),(0,o.useEffect)(()=>{N()},[e,t]),(0,n.jsx)(w.Z,{title:"Tỉ lệ hẹn test",subTitle:"Thể hiện năng suất l\xe0m việc của tư vấn vi\xean",extra:(0,n.jsx)(c.default,{className:"primary-input max-w-[110px]",picker:"month",placeholder:"Chọn th\xe1ng",defaultValue:h()(),format:"MM/YYYY",allowClear:!1,onChange:e=>{s(e),l({...r,pageIndex:1})},disabled:m}),children:(0,n.jsx)("div",{id:"customer-conversion-scroll",className:"max-h-[350px] scrollable pr-2",children:(0,n.jsx)(b.Z,{dataLength:a.length,next:function(){m||d||0===a.length||(u(!0),l({...r,pageIndex:r.pageIndex+1}))},hasMore:a.length<x,loader:(0,n.jsx)("div",{className:"w-full mt-[16px] mb-[32px]"}),endMessage:(0,n.jsx)("div",{className:"h-[36px]"}),scrollableTarget:"customer-conversion-scroll",className:"mx-[-8px] w1000:mx-0",children:(0,n.jsx)(y.ZP,{dataSource:a||[],renderItem:(e,s)=>(0,n.jsx)(y.ZP.Item,{children:(0,n.jsxs)("div",{className:"font-inter grid grid-cols-5 gap-2 w-full",children:[(0,n.jsxs)("div",{className:"col-span-1",children:[(0,n.jsx)(T.Z,{className:"h-[60px] w-[60px] rounded-full shadow-sm object-cover mx-auto mb-2",uri:null==e?void 0:e.Avatar}),(0,n.jsx)("p",{className:"font-[600] text-[16px] font-inter text-center",children:null==e?void 0:e.FullName})]}),(0,n.jsxs)("div",{className:"text-[#616161] col-span-4",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"font-[600]",children:null==e?void 0:e.TestInMonth})," hẹn test trong ",h()(t).format("MMMM")]}),(0,n.jsxs)("p",{children:["Trong ",(0,n.jsx)("span",{className:"font-[600]",children:null==e?void 0:e.CustomerInMonth})," kh\xe1ch mới của ",h()(t).format("MMMM")," c\xf3"," ",(0,n.jsx)("span",{className:"font-[600]",children:null==e?void 0:e.TestByCustomerInMonth})," kh\xe1ch đ\xe3 hẹn test."]}),(0,n.jsxs)("div",{className:" flex-wrap items-center gap-4",children:[(0,n.jsx)("div",{className:"flex items-center gap-1",children:(0,n.jsxs)("p",{children:["Cần ",(0,n.jsxs)("span",{className:"font-[600] text-[#3498db]",children:["\xedt nhất ",(0,_.rJ)(null==e?void 0:e.MinTimeConversion,"hours")]})," để kh\xe1ch hẹn test"]})}),(0,n.jsx)("div",{className:"flex items-center gap-1",children:(0,n.jsxs)("p",{children:["Cần ",(0,n.jsxs)("span",{className:"font-[600] text-[#e74c3c]",children:["nhiều nhất ",(0,_.rJ)(null==e?void 0:e.MaxTimeConversion,"hours")]})," ","để kh\xe1ch hẹn test"]})})]})]})]})},s+e.UserCode)})})})})},Z=()=>(0,n.jsxs)("div",{className:"fotn-inter",children:[(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsx)(j,{})}),(0,n.jsxs)("div",{className:"mb-3 gap-3 grid w1400:grid-cols-8 w700:grid-cols-2 grid-cols-1",children:[(0,n.jsx)("div",{className:"w1400:col-span-5 col-span-2",children:(0,n.jsx)(C,{})}),(0,n.jsx)("div",{className:"w1400:col-span-3 col-span-2",children:(0,n.jsx)(M,{})})]})]});let D=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l(),{children:(0,n.jsxs)("title",{children:[a.Z.appName," - Thống k\xea nh\xe2n vi\xean"]})}),(0,n.jsx)(Z,{})]});D.Layout=i.Zn;var L=D},97867:function(e){e.exports={rank1:"styles_rank1__BMHrK",rank2:"styles_rank2__eR4dO",rank3:"styles_rank3__wp9dn"}},41622:function(e){e.exports={arrowUp:"styles_arrowUp__DQdSF",arrowDown:"styles_arrowDown__cgqyB",chartUp:"styles_chartUp__hUvCH",chartDown:"styles_chartDown__Zljb_"}},58533:function(e,t,s){"use strict";var n=s(67294),r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},l=function(){return(l=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++)for(var r in t=arguments[s])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},o={Pixel:"Pixel",Percent:"Percent"},a={unit:o.Percent,value:.8};function i(e){return"number"==typeof e?{unit:o.Percent,value:100*e}:"string"==typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:o.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:o.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),a):(console.warn("scrollThreshold should be string or number"),a)}var c=function(e){function t(t){var s=e.call(this,t)||this;return s.lastScrollTop=0,s.actionTriggered=!1,s.startY=0,s.currentY=0,s.dragging=!1,s.maxPullDownDistance=0,s.getScrollableTarget=function(){return s.props.scrollableTarget instanceof HTMLElement?s.props.scrollableTarget:"string"==typeof s.props.scrollableTarget?document.getElementById(s.props.scrollableTarget):(null===s.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},s.onStart=function(e){!s.lastScrollTop&&(s.dragging=!0,e instanceof MouseEvent?s.startY=e.pageY:e instanceof TouchEvent&&(s.startY=e.touches[0].pageY),s.currentY=s.startY,s._infScroll&&(s._infScroll.style.willChange="transform",s._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},s.onMove=function(e){s.dragging&&(e instanceof MouseEvent?s.currentY=e.pageY:e instanceof TouchEvent&&(s.currentY=e.touches[0].pageY),s.currentY<s.startY||(s.currentY-s.startY>=Number(s.props.pullDownToRefreshThreshold)&&s.setState({pullToRefreshThresholdBreached:!0}),s.currentY-s.startY>1.5*s.maxPullDownDistance||!s._infScroll||(s._infScroll.style.overflow="visible",s._infScroll.style.transform="translate3d(0px, "+(s.currentY-s.startY)+"px, 0px)")))},s.onEnd=function(){s.startY=0,s.currentY=0,s.dragging=!1,s.state.pullToRefreshThresholdBreached&&(s.props.refreshFunction&&s.props.refreshFunction(),s.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){s._infScroll&&(s._infScroll.style.overflow="auto",s._infScroll.style.transform="none",s._infScroll.style.willChange="unset")})},s.onScrollListener=function(e){"function"==typeof s.props.onScroll&&setTimeout(function(){return s.props.onScroll&&s.props.onScroll(e)},0);var t=s.props.height||s._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;s.actionTriggered||((s.props.inverse?s.isElementAtTop(t,s.props.scrollThreshold):s.isElementAtBottom(t,s.props.scrollThreshold))&&s.props.hasMore&&(s.actionTriggered=!0,s.setState({showLoader:!0}),s.props.next&&s.props.next()),s.lastScrollTop=t.scrollTop)},s.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},s.throttledOnScrollListener=(function(e,t,s,n){var r,l=!1,o=0;function a(){r&&clearTimeout(r)}function i(){var i=this,c=Date.now()-o,d=arguments;function h(){o=Date.now(),s.apply(i,d)}l||(n&&!r&&h(),a(),void 0===n&&c>e?h():!0!==t&&(r=setTimeout(n?function(){r=void 0}:h,void 0===n?e-c:e)))}return"boolean"!=typeof t&&(n=s,s=t,t=void 0),i.cancel=function(){a(),l=!0},i})(150,s.onScrollListener).bind(s),s.onStart=s.onStart.bind(s),s.onMove=s.onMove.bind(s),s.onEnd=s.onEnd.bind(s),s}return!function(e,t){function s(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}(t,e),t.prototype.componentDidMount=function(){if(void 0===this.props.dataLength)throw Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"==typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!=typeof this.props.refreshFunction))throw Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?l(l({},t),{prevDataLength:e.dataLength}):null},t.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var s=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,n=i(t);return n.unit===o.Pixel?e.scrollTop<=n.value+s-e.scrollHeight+1:e.scrollTop<=n.value/100+s-e.scrollHeight+1},t.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var s=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,n=i(t);return n.unit===o.Pixel?e.scrollTop+s>=e.scrollHeight-n.value:e.scrollTop+s>=n.value/100*e.scrollHeight},t.prototype.render=function(){var e=this,t=l({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),s=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),r=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return n.createElement("div",{style:r,className:"infinite-scroll-component__outerdiv"},n.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&n.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},n.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!s&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(n.Component);t.Z=c}},function(e){e.O(0,[6130,4838,7909,8391,5970,6660,4396,3365,4321,2961,4738,8460,9915,6565,653,6655,1607,6361,5009,9872,3604,6369,6954,391,2888,9774,179],function(){return e(e.s=38233)}),_N_E=e.O()}]);