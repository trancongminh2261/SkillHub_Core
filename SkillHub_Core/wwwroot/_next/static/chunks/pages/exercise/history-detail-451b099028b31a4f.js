(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[261],{31303:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/exercise/history-detail",function(){return n(38768)}])},59178:function(e,s,n){"use strict";n.d(s,{e:function(){return d}});var t=n(9669),l=n.n(t),i=n(53265),c=n(97396);function a(e){return(null==e?void 0:e.baseURL)?e.url.replace(e.baseURL,"").split("?")[0]:e.url}console.log("%cSWIMMING API:","color: #00BCD4; font-weight: bold",i.Z.hostURL);let o=async()=>{let e=await JSON.parse(localStorage.getItem("userData"));return e&&e.token?{token:e.token}:{}};function r(e){return(e/1e3).toFixed(1)}let d=l().create({baseURL:i.Z.hostURL,headers:{Accept:"application/json"}});d.interceptors.request.use(async e=>{if(!a(e).toString().includes("/auth/")){let s=await o();e.headers={...e.headers,...s},e.startCall=new Date().getTime()}return e},e=>{var s,n;return console.log("%c ".concat(null==e?void 0:null===(s=e.response)||void 0===s?void 0:s.status,"  :"),"color: red; font-weight: bold",null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.data),Promise.reject(e)});let u=!1;d.interceptors.response.use(e=>{var s;let n="".concat(null==e?void 0:e.status," - ").concat(a(null==e?void 0:e.config)),t=new Date().getTime()-(null==e?void 0:null===(s=e.config)||void 0===s?void 0:s.startCall),l=t<1e3?"Rất nhanh":t>2e3?"Rất chậm":"Hơi nhanh",i="".concat(t,"ms --> ").concat(r(t),"s");return console.log(" %c ".concat(n,":"),"color: #008000; font-weight: bold",{timeSpend:i,rate:l,...e}),e},async function(e){var s,n,t,l,i,o,d,x,m,v,h,p;if((null==e?void 0:e.response)&&(console.log("error?.response",null==e?void 0:e.response),(null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.status)!=401||u||(u=!0,(0,c.ni)()),(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.status)==403&&(0,c.ni)()),a(null==e?void 0:null===(s=e.response)||void 0===s?void 0:s.config),(null==e?void 0:e.name)=="AbortError")console.log("Request canceled",e.message);else{if(null==e?void 0:e.response){(null==e?void 0:null===(l=e.response)||void 0===l?void 0:l.status)!=401||u||(u=!0,(0,c.ni)());let s="".concat(null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.status," - ").concat(a(null==e?void 0:null===(o=e.response)||void 0===o?void 0:o.config)),n=new Date().getTime()-(null==e?void 0:null===(x=e.response)||void 0===x?void 0:null===(d=x.config)||void 0===d?void 0:d.startCall),t=n<1e3?"Rất nhanh":n>2e3?"Rất chậm":"Hơi nhanh",v="".concat(n,"ms --> ").concat(r(n),"s");return console.log(" %c ".concat(s,":"),"color: red; font-weight: bold",{timeSpend:v,rate:t,...null==e?void 0:e.response}),(null==e?void 0:null===(m=e.response)||void 0===m?void 0:m.data)?Promise.reject(e.response.data):Promise.reject(e)}return e.request?(console.log("%c ".concat(JSON.stringify(e),"  :"),"color: red; font-weight: bold",null==e?void 0:null===(v=e.response)||void 0===v?void 0:v.data),(null==e?void 0:null===(h=e.response)||void 0===h?void 0:h.data)?Promise.reject(e.response.data):Promise.reject(e)):(console.log("%c ".concat(JSON.stringify(e),"  :"),"color: red; font-weight: bold","H\xecnh như l\xe0 setting sai"),(null==e?void 0:null===(p=e.response)||void 0===p?void 0:p.data)?Promise.reject(e.response.data):Promise.reject(e))}})},57259:function(e,s,n){"use strict";n.d(s,{m:function(){return i}});var t=n(59178);let l="/api/ExamResult/",i={get:e=>t.e.get(l,{params:e}),getByID:e=>t.e.get("".concat(l,"Detail/").concat(e)),submit:e=>t.e.post(l+"Submit",e)}},346:function(e,s,n){"use strict";var t=n(85893);n(67294),s.Z=function(e){let{item:s,type:n}=e;return(0,t.jsxs)("div",{className:"text-16-600 mb-[8px] ".concat("section"==n?"text-[#1c76ec]":"text-[#0f9f2e]"),children:["section"==n?"Phần":"Nh\xf3m"," ",null==s?void 0:s.Index,"group"==n?": C\xe2u ".concat(s.SIndexInExam," - ").concat(s.EIndexInExam):""," ","section"==n?(null==s?void 0:s.Name)&&": ".concat(null==s?void 0:s.Name):""]})}},78577:function(e,s,n){"use strict";n.d(s,{Z:function(){return d}});var t=n(85893),l=n(67294),i=n(41570),c=n(58416);let a=0;var o=e=>{let{time:s,onEnded:n}=e,[i,o]=(0,l.useState)(0);function r(e){return e<10?"0"+e:e}function d(e){return{hours:~~(e/3600),mins:~~(e%3600/60),secs:~~e%60}}function u(){return 0==d(i).hours&&0==d(i).mins&&d(i).secs<60?(1==a&&((0,c.fr)("warning","Thời gian l\xe0m b\xe0i chỉ c\xf2n 1 ph\xfat"),a=2),"#F44336"):0==d(i).hours&&d(i).mins<10?(0==a&&(~~(s/3600)>10&&(0,c.fr)("warning","Thời gian l\xe0m b\xe0i chỉ c\xf2n 10 ph\xfat"),a=1),"#FB8C00"):"#000"}return(0,l.useEffect)(()=>{var e;let t;t=60*s,e=setInterval(function(){o(t),(t-=1)<0&&(clearInterval(e),n&&n())},1e3)},[s]),(0,t.jsx)(t.Fragment,{children:0!==i&&(0,t.jsxs)("div",{className:"text-[16px] font-[700] ".concat(!!s&&"#F44336"==u()&&"shake-y"),style:{color:u()},children:[d(i).hours>0&&(0,t.jsxs)("span",{children:[r(d(i).hours),":"]}),(0,t.jsxs)("span",{children:[r(d(i).mins),":"]}),(0,t.jsx)("span",{children:r(d(i).secs)})]})})},r=n(64735),d=e=>{let{title:s,totalPoint:n,time:l,onEnded:c,onClickMenu:a,passPoint:d,hideTime:u}=e;return(0,t.jsxs)("div",{id:"the-fica-header",className:"cc-testing-header",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"text-16-700",children:s+""}),(0,t.jsxs)("div",{className:"text-15-500 text-[#0074e4]",children:["Tổng điểm: ",n,d?" - Điểm đạt: "+d:""]})]}),!u&&(0,t.jsxs)("div",{className:"cc-testing-clock",children:[(0,t.jsx)(i.I9C,{size:28,className:"hidden w800:!block"}),(0,t.jsx)("div",{children:l?(0,t.jsx)(o,{time:l,onEnded:c}):(0,t.jsx)("div",{className:"text-[16px] font-[700]",children:(0,t.jsx)("span",{children:"Loading.."})})})]}),(0,t.jsx)("div",{className:"cc-test-icon-menu",children:(0,t.jsx)(r.Z,{onClick:function(){a&&a()},color:"black",type:"button",icon:"menu"})})]})}},58759:function(e,s,n){"use strict";var t=n(85893);n(67294),s.Z=e=>{let{id:s,children:n,content:l,className:i}=e;return(0,t.jsx)("a",{className:i||"","data-tooltip-id":"primary-tooltip","data-tooltip-content":l,children:n},s)}},64735:function(e,s,n){"use strict";var t=n(85893),l=n(67294),i=n(32655),c=n(62944),a=n(30833),o=n(78268),r=n(31181),d=n(80181),u=n(32941),x=n(49367),m=n(8285),v=n(65890),h=n(62914),p=n(78773),f=n(92594),j=n(85340),g=n(92088),N=n(54425),b=n(48506),I=n(43291),w=n(11583),y=n(58759);s.Z=e=>{let{tooltip:s,background:n,icon:E,type:k,onClick:C,className:z,color:S,size:R,disabled:Z,placementTooltip:A}=e;return(0,l.useRef)(null),(0,t.jsx)(y.Z,{className:"z-[100]",place:A||"top",content:s,id:"".concat(crypto.randomUUID()),children:(0,t.jsx)("button",{type:k,onClick:!Z&&(e=>{"button"==k&&C&&C(e)}),className:"none-selection rounded-lg w-auto inline-flex items-center btn-icon cursor-pointer ".concat("green"==n?"bg-[#4CAF50] hover:bg-[#449a48] focus:bg-[#38853b]":"blue"==n?"bg-[#0A89FF] hover:bg-[#157ddd] focus:bg-[#1576cf]":"red"==n?"bg-[#C94A4F] hover:bg-[#b43f43] focus:bg-[#9f3136]":"yellow"==n?"bg-[#FFBA0A] hover:bg-[#e7ab11] focus:bg-[#d19b10]":"black"==n?"bg-[#000] hover:bg-[#191919] focus:bg-[#313131]":"primary"==n?"bg-[#ab1d38] hover:bg-[#9a1b33] focus:bg-[#85172c]":"purple"==n?"bg-[#800080] hover:bg-[#660066] focus:bg-[#4c004c]":"disabled"==n?"bg-[#cacaca] hover:bg-[#bababa] focus:bg-[#acacac] cursor-not-allowed":"bg-transparent"," ").concat("purple"==S?"text-[#800080] hover:text-[#660066] focus:text-[#4c004c]":"white"==S?"text-[#fff] hover:text-[#fff] focus:text-[#fff]":"green"==S?"text-[#4CAF50] hover:text-[#449a48] focus:text-[#38853b]":"blue"==S?"text-[#0A89FF] hover:text-[#157ddd] focus:text-[#1576cf]":"red"==S?"text-[#C94A4F] hover:text-[#b43f43] focus:text-[#9f3136]":"yellow"==S?"text-[#FFBA0A] hover:text-[#e7ab11] focus:text-[#d19b10]":"black"==S?"text-[#000] hover:text-[#191919] focus:text-[#313131]":"primary"==S?"text-[#ab1d38] hover:text-[#9a1b33] focus:text-[#85172c]":"disabled"==S?"text-[#cacaca] hover:text-[#bababa] focus:text-[#acacac] cursor-not-allowed":"transparent"==S?"text-transparent":void 0," ").concat(z),children:!!E&&("add"==E?(0,t.jsx)(h.DFN,{size:R||22}):"edit"==E?(0,t.jsx)(i.Z,{size:20}):"warning"==E?(0,t.jsx)(I.fB,{size:R||22}):"edit3"==E?(0,t.jsx)(c.Z,{size:20}):"remove"==E?(0,t.jsx)(a.Z,{size:20}):"check"==E?(0,t.jsx)(x.KP3,{size:R||22}):"eye"==E?(0,t.jsx)(x.Zju,{size:R||22}):"exchange"==E?(0,t.jsx)(N.F7l,{size:R||24}):"more"==E?(0,t.jsx)(f.$Pu,{size:R||22}):"document"==E?(0,t.jsx)(h.K46,{size:R||22}):"download"==E?(0,t.jsx)(b.HXz,{size:R||22}):"filter"==E?(0,t.jsx)(j.Yv7,{size:R||22}):"menu"==E?(0,t.jsx)(f.cur,{}):"upload"==E?(0,t.jsx)(b.S7F,{size:R||22}):"cancel"==E?(0,t.jsx)(g.xg7,{size:R||22}):"x"==E?(0,t.jsx)(o.Z,{className:"mt-[0.5px] mb-[-1px]",size:R||22}):"login"==E?(0,t.jsx)(r.Z,{className:"mt-[0.5px] mb-[-1px]",size:R||22}):"send"==E?(0,t.jsx)(f.LbG,{size:22}):"file"==E?(0,t.jsx)(d.Z,{className:"mt-[0.5px] mb-[-1px]",size:R||22}):"print"==E?(0,t.jsx)(f.ViN,{className:"mt-[0.5px] mb-[-1px]",size:R||22}):"user-group"==E?(0,t.jsx)(x.Zev,{size:R||22}):"book"==E?(0,t.jsx)(u.Z,{size:R||20}):"info"==E?(0,t.jsx)(x.ocf,{size:R||20}):"save"==E?(0,t.jsx)(f.mW3,{size:R||20}):"up-arrow"==E?(0,t.jsx)(f.OeJ,{size:R||20}):"down-arrow"==E?(0,t.jsx)(f.UJB,{size:R||20}):"tutoring"==E?(0,t.jsx)(p.FcZ,{size:R||20}):"reset"==E?(0,t.jsx)(m.oAZ,{size:R||20}):"study"==E?(0,t.jsx)(b.EW2,{size:R||20}):"note"==E?(0,t.jsx)(p.KPP,{size:R||19}):"hide"==E?(0,t.jsx)(w.m$g,{size:R||20}):"salary"==E?(0,t.jsx)(b.b2g,{size:R||20}):"history"==E?(0,t.jsx)(v.NbQ,{size:R||20}):void 0)})})}},74776:function(e,s,n){"use strict";n.d(s,{j:function(){return t}});var t=n(30306)},36831:function(e,s,n){"use strict";n.d(s,{J:function(){return c}});var t=n(30381),l=n.n(t);class i{secondToHHMMSS(e){var s=parseInt(e,10).toString(),n=Math.floor(parseInt(s)/3600).toString(),t=Math.floor((parseInt(s)-3600*parseInt(n))/60).toString();return s=(parseInt(s)-3600*parseInt(n)-60*parseInt(t)).toString(),10>parseInt(n)&&(n="0"+n),10>parseInt(t)&&(t="0"+t),10>parseInt(s)&&(s="0"+s),n+":"+t+":"+s}constructor(){this.toDDMMYYYY=e=>l()(e).format("DD/MM/YYYY"),this.toDDMMYYYHHmm=e=>l()(e).format("DD/MM/YYYY HH:mm"),this.toHHmm=e=>l()(e).format("HH:mm"),this.toHHmmss=e=>l()(e).format("HH:mm:ss"),this.numberToPrice=e=>{let s=(e+="").split("."),n=s[0],t=s.length>1?"."+s[1]:"",l=/(\d+)(\d{3})/;for(;l.test(n);)n=n.replace(l,"$1,$2");return n+t},this.priceToNumber=e=>parseInt(e.toString().replace(/\D/g,""))||0}}let c=new i},58416:function(e,s,n){"use strict";n.d(s,{Gu:function(){return r.Z},fr:function(){return a.Z},Zv:function(){return c},Jy:function(){return l.J},cM:function(){return o.c},aj:function(){return t.aj},Dc:function(){return t.Dc}});var t=n(42006),l=n(36831);class i{checkURL(e){return null==e?void 0:e.match(/\.(jpeg|jpg|gif|png)$/)}constructor(){this.isNumber=e=>!!e.match(/^-?[0-9]\d*([,.]\d+)?$/)}}let c=new i;var a=n(65146),o=n(83436),r=n(68821)},68821:function(e,s,n){"use strict";var t=n(65146);class l{constructor(){this.success=e=>{(0,t.Z)("success",e)},this.error=e=>{(0,t.Z)("error",e)},this.warning=e=>{(0,t.Z)("warning",e)}}}let i=new l;s.Z=i},38768:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return X}});var t=n(85893),l=n(67294),i=n(16222),c=n(58416),a=n(9473),o=n(4644),r=n(11163),d=n(30653),u=n(41818),x=n(77889),m=n(33653),v=n(49367),h=n(65890),p=n(11828),f=n(54425),j=n(48506),g=n(36946),N=e=>{var s;let n,l;let{data:i}=e,c=(0,a.I0)();function o(){let e=0;return(null==i||i.AnswerResults.forEach(s=>{(null==s?void 0:s.IsTrue)&&e++}),e>1)?"multiple":"single"}function r(){let e="";return null==i||i.AnswerResults.forEach((s,n)=>{(null==s?void 0:s.MyResult)&&(e=e?e+" - "+b(n):e+b(n))}),e}function N(){let e="";return null==i||i.AnswerResults.forEach((s,n)=>{(null==s?void 0:s.IsTrue)&&(e=e?e+" - "+b(n):e+b(n))}),e}function b(e){return["A","B","C","D","E","F","G","H","I"][e]}let I=(0,a.v9)(e=>e.testingState.activating)==i.Id?"quest-activated":"",w=r()==N()?"!bg-[#4ad54e1f]":"",y=r()!==N()?"false-quest":"";return(0,t.jsxs)("div",{onClick:()=>c((0,g.w0)(i.Id)),id:"question-"+i.Id,className:"ex-res-section ".concat(I," ").concat(y," ").concat(w),children:[(0,t.jsxs)("div",{className:"exam-quest-wrapper none-selection pr-[16px]",children:[(0,t.jsxs)("header",{className:"cc-choice-number w-full flex flex-col !items-start",children:[(0,t.jsxs)("span",{children:["C\xe2u ",null==i?void 0:i.IndexInExam]}),(0,t.jsxs)("div",{className:"w-full flex mt-[4px]",children:[(0,t.jsxs)("div",{className:"cc-choice-orange",children:[(0,t.jsx)(j.w0c,{size:12,className:"mr-1"}),(0,t.jsxs)("span",{className:"mt-[1px]",children:[null==i?void 0:i.Point," điểm"]})]}),!!r()&&(0,t.jsxs)("div",{className:"cc-choice-point",children:[(0,t.jsx)(j.w0c,{size:12,className:"mr-1"}),(0,t.jsxs)("span",{className:"mt-[1px]",children:["Đ\xe3 chọn ",r()]})]}),(0,t.jsxs)("div",{className:"cc-choice-correct-number",children:[(0,t.jsx)(v.x0b,{size:12,className:"mr-1"}),(0,t.jsxs)("span",{className:"mt-[1px]",children:["Đ\xfang: ",N()]})]})]})]}),(0,d.ZP)(null==i?void 0:i.Content)]}),"single"==o()&&(0,t.jsx)(u.ZP.Group,{disabled:!0,className:"mt-2 none-selection",value:(s=i.AnswerResults,n=[],l=[],s.forEach(e=>{(null==e?void 0:e.Enable)!==!1&&(n.push({value:e.Id?e.Id:e.ficaID,label:e.AnswerContent}),(null==e?void 0:e.MyResult)==!0&&l.push(e.Id?e.Id:e.ficaID))}),{option:n,checked:l}).checked[0],children:(0,t.jsx)(x.Z,{direction:"vertical",children:i.AnswerResults.map((e,s)=>{let n=(null==e?void 0:e.IsTrue)&&(null==e?void 0:e.MyResult);return(0,t.jsx)(u.ZP,{className:"none-selection",value:parseInt(e.Id+""),children:(0,t.jsxs)("div",{className:"inline-flex items-center ".concat(n?"true-answer":(null==e?void 0:e.MyResult)?"false-answer":""),children:[b(s)," - ",e.AnswerContent,n&&(0,t.jsx)(h.oFd,{className:"ml-1",size:24}),!n&&(null==e?void 0:e.MyResult)&&(0,t.jsx)(p.QAE,{className:"ml-1 mb-[-2px]",size:20})]})},"choice-"+(null==i?void 0:i.Id)+"-"+e.Id)})})}),"single"!==o()&&(0,t.jsx)("div",{className:"custom-check-group none-selection",children:i.AnswerResults.map((e,s)=>{let n=(null==e?void 0:e.IsTrue)&&(null==e?void 0:e.MyResult);return(0,t.jsx)("div",{className:"custom-check-group",children:(0,t.jsx)(m.Z,{className:"custom-check-group",checked:null==e?void 0:e.MyResult,disabled:!0,children:(0,t.jsxs)("div",{className:"inline-flex items-center ".concat(n?"true-answer":(null==e?void 0:e.MyResult)?"false-answer":""),children:[b(s)," - ",e.AnswerContent,n&&(0,t.jsx)(h.oFd,{className:"ml-1",size:24}),!n&&(null==e?void 0:e.MyResult)&&(0,t.jsx)(p.QAE,{className:"ml-1 mb-[-2px]",size:20})]})})})})}),!r()&&(0,t.jsxs)("div",{className:"none-answer",children:[(0,t.jsx)(f.j6O,{size:20,className:"mr-2"})," Kh\xf4ng chọn đ\xe1p \xe1n"]}),"single"!==o()&&r().length!==N().length&&(0,t.jsxs)("div",{className:"none-answer",children:[(0,t.jsx)(f.j6O,{size:20,className:"mr-2"})," Số c\xe2u bạn chọn kh\xf4ng đ\xfang với số c\xe2u đ\xfang"]})]},"question-"+i.Id)},b=n(74776),I=e=>{let{data:s,children:n,isNoneSelect:l}=e;return(0,t.jsxs)("div",{className:"cc-qh-tf-container pr-[16px]",children:[(0,t.jsxs)("div",{className:"cc-qh-tf-title",children:[(0,t.jsxs)("div",{children:["C\xe2u ",null==s?void 0:s.IndexInExam,":"]}),(0,t.jsxs)("div",{className:"cc-choice-orange ml-[8px]",children:[(0,t.jsx)(j.w0c,{size:12,className:"mr-1"}),(0,t.jsxs)("span",{className:"mt-[1px]",children:[null==s?void 0:s.Point," điểm"]})]}),!!n&&n]}),(0,d.ZP)(null==s?void 0:s.Content),(0,t.jsx)("div",{children:!!l&&(0,t.jsxs)("div",{className:"none-answer",children:[(0,t.jsx)(f.j6O,{size:20,className:"mr-2"})," Kh\xf4ng chọn đ\xe1p \xe1n"]})})]})},w=n(58759),y=e=>(0,t.jsx)("div",{className:"cc-q-tf-mobile-content mr-[16px]",children:null==e?void 0:e.content}),E=e=>{let{data:s,checked:n,onChange:l,content:i,isTrue:c}=e;return(0,t.jsxs)("div",{className:"tf-check-box-wrapper",children:[(0,t.jsx)("div",{className:"cc-q-tf-checkbox ".concat(c?"is-true-answer":" "," ").concat("Not given"==i?"w500:w-[80px]":"w500:w-[50px]"),children:(0,t.jsx)(w.Z,{id:"".concat(i.replace(/ /g,""),"-").concat(null==s?void 0:s.Id),content:i,place:"left",children:(0,t.jsx)(m.Z,{checked:n,onChange:function(e){l&&l(e)}})})}),(0,t.jsx)(y,{content:i})]})},k=e=>{let{data:s}=e;function n(e){let n=!1;return s.AnswerResults.forEach(t=>{var l;(null===(l=s.Answers[e])||void 0===l?void 0:l.Id)==(null==t?void 0:t.MyAnswerId)&&(n=!0)}),n}function l(e){return!!s.Answers[e].IsTrue}function i(){let e=!1;return s.Answers.forEach(n=>{var t;(null==n?void 0:n.Id)==(null==s?void 0:null===(t=s.AnswerResults[0])||void 0===t?void 0:t.MyAnswerId)&&(null==n?void 0:n.IsTrue)&&(e=!0)}),e}return(0,t.jsxs)("div",{id:"question-"+s.Id,className:"cc-tf-question py-[8px] !pl-[16px] rounded-[6px] ".concat(i()?"cc-tf-qu-true":"cc-tf-qu-false"),children:[(0,t.jsx)(I,{data:s,isNoneSelect:!i()&&!n(0)&&!n(1)&&!n(2),children:!1}),(0,t.jsxs)("div",{className:"true-false-container",children:[(0,t.jsx)(E,{content:"True",data:s,isTrue:l(0),checked:n(0)||l(0)}),(0,t.jsx)(E,{content:"False",data:s,isTrue:l(1),checked:n(1)||l(1)}),(0,t.jsx)(E,{content:"Not given",data:s,isTrue:l(2),checked:n(2)||l(2)})]})]},"question-"+s.Id)},C=e=>{var s;let{data:n}=e,i=(0,a.I0)(),c=(0,a.v9)(e=>e.testingState.activating);function o(){let e="";return null==n||n.AnswerResults.forEach((s,n)=>{(null==s?void 0:s.MyAnswerContent)&&(e=e?e+" - "+r(n):e+r(n))}),e}function r(e){return["A","B","C","D","E","F","G","H","I"][e]}(0,a.v9)(e=>e.user.information);let u=c==n.Id?"quest-activated":"",x=o()?"":"false-quest",[m,v]=(0,l.useState)(!1);return(0,t.jsxs)("div",{onClick:()=>i((0,g.w0)(n.Id)),id:"question-"+n.Id,className:"ex-res-section mb-[8px] ".concat(u," ").concat(x),children:[(0,t.jsxs)("div",{className:"exam-quest-wrapper none-selection pr-[16px]",children:[(0,t.jsxs)("span",{className:"cc-choice-number",children:["C\xe2u ",null==n?void 0:n.IndexInExam]}),(0,d.ZP)(null==n?void 0:n.Content),o()&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mt-[8px]",children:"- - - - -"}),(0,t.jsx)("div",{className:"writing-ans-title",children:"C\xe2u trả lời"}),(0,t.jsx)("div",{className:" whitespace-pre-wrap",children:(0,d.ZP)(null==n?void 0:null===(s=n.AnswerResults[0])||void 0===s?void 0:s.MyAnswerContent)})]})]}),!o()&&(0,t.jsxs)("div",{className:"none-answer",children:[(0,t.jsx)(f.j6O,{size:20,className:"mr-2"})," Kh\xf4ng trả lời"]}),!!(null==n?void 0:n.Explain)&&(0,t.jsxs)("div",{className:"inline-flex flex-col pb-3 mt-[-16px]",children:[(0,t.jsx)("div",{className:"mt-[8px]",children:"- - - - -"}),(0,t.jsxs)("div",{className:"w-fit flex flex-row items-center none-selection cursor-pointer text-[#10a708]",children:[(0,t.jsx)("div",{className:"pr-2",onClick:()=>v(!m),children:m?"Ẩn đ\xe1p \xe1n mẫu":"Xem đ\xe1p \xe1n mẫu"}),(0,t.jsx)(p.Vmf,{className:m?"rotate-0 duration-300":"rotate-180 duration-300",size:16})]}),m&&(0,t.jsx)("div",{className:"slide-down-text whitespace-pre-wrap",children:(0,d.ZP)(null==n?void 0:n.Explain)})]})]},"question-"+n.Id)},z=e=>{let{data:s}=e;return(0,t.jsxs)(t.Fragment,{children:[(null==s?void 0:s.Type)==b.j.MultipleChoice&&(null==s?void 0:s.ExerciseResults.map((e,s)=>(0,t.jsx)(N,{data:e},s))),(null==s?void 0:s.Type)==b.j.Write&&(null==s?void 0:s.ExerciseResults.map((e,s)=>(0,t.jsx)(C,{data:e},s))),(null==s?void 0:s.Type)==b.j.TrueOrFalse&&(0,t.jsxs)("div",{className:"mb-[16px]",children:[(0,t.jsxs)("div",{className:"w-full mb-[8px] hidden w500:flex",children:[(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsxs)("div",{className:"h-[30px] flex items-center",children:[(0,t.jsx)("div",{className:"w-[50px]",children:"True"}),(0,t.jsx)("div",{className:"w-[50px]",children:"False"}),(0,t.jsx)("div",{className:"w-[74px]",children:"Not given"})]})]}),null==s?void 0:s.ExerciseResults.map((e,s)=>(0,t.jsx)(k,{data:e},s))]})]})},S=n(18644);let R=e=>{let{item:s}=e,n=(0,a.I0)(),l=(0,a.v9)(e=>e.globalState.currentGroup),i=(null==l?void 0:l.Id)==(null==s?void 0:s.Id);return(0,t.jsxs)("div",{id:"group-"+s.Id,className:"mt-3",children:[(0,t.jsx)("div",{className:"iflex-full sec-header",children:(0,t.jsx)("div",{className:"exam-group-number",children:s.SIndexInExam!==s.EIndexInExam&&"C\xe2u ".concat(s.SIndexInExam," - ").concat(s.EIndexInExam)})}),(0,t.jsxs)("div",{className:"exam-controller",children:[!!(null==s?void 0:s.Content)&&(0,t.jsxs)("div",{onClick:function(){(null==l?void 0:l.Id)!=s.Id?n((0,o.g6)(s)):n((0,o.g6)(null))},className:"xuka-button xuka-1 ".concat(i?"active":""),children:[i?(0,t.jsx)(S.Lp2,{size:20}):(0,t.jsx)(f.SX$,{size:20}),(0,t.jsx)("div",{className:"ex-ctr-text flex-shrink-0",children:"Xem đoạn văn"})]}),(0,t.jsxs)("div",{className:"xuka-button xuka-2",children:[(0,t.jsx)(f.izL,{}),(0,t.jsx)("div",{className:"ex-ctr-text flex-shrink-0",children:"Ph\xe1t audio"})]})]}),(0,t.jsxs)("div",{className:"".concat(s.SIndexInExam==s.EIndexInExam&&"mt-[-35px]"),children:[!!(null==s?void 0:s.Content)&&!l&&(0,t.jsx)("div",{className:"group-content none-selection",children:(0,d.ZP)(s.Content)}),(0,t.jsx)("div",{className:"mt-[16px]",children:(0,t.jsx)(z,{data:s})})]})]})};var Z=e=>{let{data:s}=e;return(0,t.jsx)("div",{className:"mt-3",children:s.map((e,s)=>(0,t.jsx)(R,{item:e},"group-"+s))})},A=n(72833);let T=e=>{let{item:s}=e,n=(0,a.I0)(),i=(0,a.v9)(e=>e.globalState.currentGroup),c=(0,a.v9)(e=>e.globalState.currentSection);(0,l.useEffect)(()=>{(0,A.Ao)(c,i)},[c,i]);let r=(null==c?void 0:c.Id)==(null==s?void 0:s.Id);return(0,t.jsxs)("div",{id:"section-"+s.Id,children:[(0,t.jsx)("div",{className:"iflex-full",children:(0,t.jsx)("div",{className:"exam-section-name",children:null==s?void 0:s.Name})}),(0,t.jsxs)("div",{className:"exam-controller",children:[!!(null==s?void 0:s.Explanations)&&(0,t.jsxs)("div",{onClick:function(){(null==c?void 0:c.Id)!=s.Id?n((0,o.oC)(s)):n((0,o.oC)(null))},className:"xuka-button xuka-1 ".concat(r?"active":""),children:[r?(0,t.jsx)(S.Lp2,{size:20}):(0,t.jsx)(f.SX$,{size:20}),(0,t.jsx)("div",{className:"ex-ctr-text flex-shrink-0",children:"Xem đoạn văn"})]}),(0,t.jsxs)("div",{className:"xuka-button xuka-2",children:[(0,t.jsx)(f.izL,{}),(0,t.jsx)("div",{className:"ex-ctr-text flex-shrink-0",children:"Ph\xe1t audio"})]})]}),!!(null==s?void 0:s.Explanations)&&!c&&(0,t.jsx)("div",{className:"exam-explan",children:null==s?void 0:s.Explanations}),(0,t.jsx)(Z,{data:s.ExerciseResultGroups})]})};var M=e=>{let s=(0,a.v9)(e=>e.globalState.currentPackage);return(0,t.jsx)("div",{className:"drag-list mt-3 ml-[-25px]",children:(0,t.jsx)("div",{className:"drag-section",children:(0,t.jsx)("div",{id:"scroll-main",className:"mx-4 px-3 inner-testing scrollable chau-custom-scrollbar !mr-[-5px] !pr-[10px]",children:s.map((e,s)=>(0,t.jsx)(T,{item:e},"section"+s))},"wrap-section")})})},D=n(28853);let F="";var P=e=>{let{section:s}=e,n=(0,a.I0)(),i=(0,a.v9)(e=>e.testingState.listQuestionID),c=(0,a.v9)(e=>e.testingState.activating),o=(0,a.v9)(e=>e.testingState.answered),[r,d]=(0,l.useState)([]);async function u(){console.time("-- getAllQuest");let e=[];null==s||s.ExerciseResultGroups.forEach(s=>{null==s||s.ExerciseResults.forEach(n=>{var t;let l,c,a;let o=(null==s?void 0:s.Type)==b.j.Write?null!=n&&null!==(t=n.AnswerResults[0])&&void 0!==t&&!!t.MyAnswerContent:(l=!0,c=0,a=0,null==n||n.AnswerResults.forEach(e=>{if(e.IsTrue!==e.MyResult)return l=!1,!1;e.IsTrue&&c++,e.MyResult&&a++}),a!==c&&(l=!1),l),r=i.indexOf(null==n?void 0:n.Id);e.push({Id:null==n?void 0:n.Id,Index:r+1,isTrue:o})})}),d(e),console.timeEnd("-- getAllQuest")}(0,l.useEffect)(()=>{F=document.getElementById("scroll-main"),u()},[s]);let x=async e=>{let s=await document.getElementById("question-".concat(i[0])),n=await document.getElementById("question-".concat(e)),t=await n.getBoundingClientRect(),l=await s.getBoundingClientRect(),c=await (t.top-l.top);F.scroll({top:c+100,left:0,behavior:"smooth"})};return(0,t.jsxs)("div",{className:"w-full mt-[0px]",children:[(0,t.jsx)("div",{className:"font-[600] text-[16px] mb-3",children:null==s?void 0:s.Name}),(0,t.jsx)(D.ZP,{grid:{gutter:16,xs:8,sm:8,md:4,lg:6,xl:8,xxl:8},pagination:!1,dataSource:r,renderItem:(e,s)=>{let l=o.indexOf(null==e?void 0:e.Id),i=c==(null==e?void 0:e.Id);function a(){var s;s=null==e?void 0:e.Id,n((0,g.w0)(s)),x(s)}return(0,t.jsxs)(D.ZP.Item,{className:"none-selection",children:[-1==l&&i&&(0,t.jsxs)(t.Fragment,{children:[(null==e?void 0:e.isTrue)&&(0,t.jsx)("div",{onClick:a,className:"exam-nav-item nav-active",children:e.Index}),!(null==e?void 0:e.isTrue)&&(0,t.jsx)("div",{onClick:a,className:"exam-nav-item nav-red",children:e.Index})]}),-1==l&&!i&&(0,t.jsxs)(t.Fragment,{children:[(null==e?void 0:e.isTrue)&&(0,t.jsx)("div",{onClick:a,className:"exam-nav-item nav-default",children:e.Index}),!(null==e?void 0:e.isTrue)&&(0,t.jsx)("div",{onClick:a,className:"exam-nav-item nav-red none-border",children:e.Index})]})]})}})]})},q=()=>{let e=(0,a.v9)(e=>e.globalState.currentPackage);return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"p-3 inner-testing-navigator scrollable",children:(0,t.jsx)(D.ZP,{pagination:!1,dataSource:e,renderItem:(e,s)=>(0,t.jsx)(D.ZP.Item,{className:"w-full inline-flex flex-col",children:(0,t.jsx)(P,{section:e,index:s})},"key-sec-".concat(e.Id))})})})},B=n(57259),H=n(30381),L=n.n(H),Y=n(31339),O=n(78577),_=n(346);let G=!1;var J=function(){var e;let s=(0,r.useRouter)(),{exam:n}=null==s?void 0:s.query,d=(0,a.I0)(),[u,x]=(0,l.useState)({point:0,pass:0});async function m(e){console.time("-- Init Submit Data");let s=[],n=[];e.forEach(e=>{((null==e?void 0:e.ExerciseResultGroups)||[]).forEach(e=>{((null==e?void 0:e.ExerciseResults)||[]).forEach(e=>{s.push({ExerciseId:null==e?void 0:e.Id,Answers:[]}),n.push(null==e?void 0:e.Id)})})}),d((0,g.YX)(n)),d((0,g.w0)(n.length>0?n[0]:null)),console.timeEnd("-- Init Submit Data")}async function v(e){try{console.time("-- get api/Exam/Detail mất");let s=await B.m.getByID(parseInt(e));console.timeEnd("-- get pi/Exam/Detail mất"),200===s.status?(d((0,o.QC)(s.data.data)),m(s.data.data)):(d((0,o.QC)([])),d((0,o.W$)(0)),m([]))}catch(e){(0,c.fr)("error",null==e?void 0:e.message)}}(0,l.useEffect)(()=>{if(n){let e=JSON.parse((0,Y.Jx)(n));x({point:null==e?void 0:e.point,pass:null==e?void 0:e.pass}),v(null==e?void 0:e.exam)}},[n]);let[h,p]=(0,l.useState)(!1),f=(0,a.v9)(e=>e.globalState.currentSection),j=(0,a.v9)(e=>e.globalState.currentGroup);return(0,l.useEffect)(()=>{var e=document.getElementById("content-container"),s=document.getElementById("container"),n=document.getElementById("left_panel"),t=document.getElementById("right_panel"),l=document.getElementById("testing-content");document.onmousemove=function(i){if(G){var c=i.clientX-s.offsetLeft;c<50&&l?e.style.display="none":l&&(e.style.display="block"),c<s.clientWidth/1.5&&(t.style.left=c+"px",n.style.width=c+"px")}},n&&(document.onmouseup=function(e){G=!1,document.getElementById("left_panel").style.transitionDuration="300ms"})},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"h-[100vh]",children:(0,t.jsxs)("div",{className:"h-full flex flex-col items-stretch",children:[(0,t.jsx)(O.Z,{title:"Thời gian l\xe0m: ".concat(L()(null===(e=s.query)||void 0===e?void 0:e.CreatedOn).format("HH:mm - DD/MM/YYYY")),totalPoint:null==u?void 0:u.point,passPoint:null==u?void 0:u.pass,onClickMenu:()=>p(!0),hideTime:!0}),(0,t.jsxs)("div",{className:"flex flex-row flex-auto min-h-0",children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch min-h-0 cc-custom-flex",children:(0,t.jsx)("div",{className:"chau-resizer min-h-0",children:(0,t.jsxs)("div",{id:"container",className:"relative",children:[(0,t.jsxs)("div",{id:"left_panel",children:[(0,t.jsx)("div",{className:"flex-1 flex flex-col relative min-h-0 overflow-x-hidden py-[8px] overflow-y-auto chau-custom-scrollbar",children:(0,t.jsxs)("div",{id:"content-container",className:"px-[16px] duration-300",children:[!!f&&(0,t.jsx)(_.Z,{item:f,type:"section"}),(0,t.jsx)("div",{id:"testing-content",className:"flex flex-col mb-[16px]"}),!!j&&(0,t.jsx)(_.Z,{item:j,type:"group"}),(0,t.jsx)("div",{id:"testing-group-content",className:"flex flex-col mb-[16px]"})]})}),(0,t.jsxs)("div",{id:"drag",onMouseDown:function(e){G=!0,document.getElementById("left_panel").style.transitionDuration="0ms"},children:[(0,t.jsx)("div",{className:"bg-[#000] w-[1px] h-[14px]"}),(0,t.jsx)("div",{className:"bg-[#000] w-[1px] h-[14px] ml-[2px]"})]})]}),(0,t.jsx)("div",{id:"right_panel",children:(0,t.jsx)("div",{className:"flex-initial px-[16px] min-h-0 overflow-x-hidden overflow-y-auto chau-custom-scrollbar",children:(0,t.jsx)(M,{onRefresh:v})})})]})})}),(0,t.jsx)("div",{className:"cc-right-nav",children:(0,t.jsx)("div",{className:"flex-initial min-h-0 overflow-x-hidden overflow-y-auto h-full",children:(0,t.jsx)("div",{className:"min-h-[100%] flex-col bg-[#fff] ml-[4px] hidden w800:!flex",children:(0,t.jsx)(q,{})})})})]})]})},"card-testing"),(0,t.jsx)(i.Z,{width:350,className:"block w800:!hidden",title:"Danh s\xe1ch c\xe2u hỏi",placement:"right",onClose:()=>p(!1),open:h,children:(0,t.jsx)("div",{className:"mx-[-10px]",children:(0,t.jsx)(q,{})})})]})},X=()=>(0,t.jsx)(J,{})},50247:function(){},30306:function(e){"use strict";e.exports=JSON.parse('{"MultipleChoice":1,"MultipleChoiceLabel":"Trắc nghiệm","DragDrop":2,"DragDropLabel":"Chọn từ v\xe0o \xf4 trống","FillInTheBlank":3,"FillInTheBlankLabel":"Điền v\xe0o \xf4 trống","Mindmap":4,"MindmapLabel":"Mindmap","TrueOrFalse":5,"TrueOrFalseLabel":"True/False/Not Given","Sort":6,"SortLabel":"Sắp xếp c\xe2u","Write":7,"WriteLabel":"Viết","Speak":8,"SpeakLabel":"N\xf3i"}')}},function(e){e.O(0,[6130,4838,7909,8391,6660,4817,594,3365,4321,2961,4738,648,8127,509,8460,653,6655,6178,5145,2888,9774,179],function(){return e(e.s=31303)}),_N_E=e.O()}]);