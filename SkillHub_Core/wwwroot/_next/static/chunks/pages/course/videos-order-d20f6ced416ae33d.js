(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1140],{1754:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/videos-order",function(){return n(28951)}])},13709:function(e,t,n){"use strict";var a=n(1413),i=n(67294),o=n(70213),r=n(881),l=function(e,t){return i.createElement(r.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:o.Z}))};l.displayName="EyeOutlined",t.Z=i.forwardRef(l)},46556:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var a=n(87462),i=n(97685),o=n(73899),r=n(93967),l=n.n(r),s=n(54043),c=n(28778),d=n(67294),u=n(93565),m=n(36070),h=n(26901),y=n(51095),g=n(61939),p=n(81094),f=n(91130),P=n(37681),v=n(54252),x=function(e){var t=e.prefixCls,n=e.okButtonProps,i=e.cancelButtonProps,o=e.title,r=e.cancelText,l=e.okText,s=e.okType,c=e.icon,m=e.showCancel,h=void 0===m||m,x=e.close,C=e.onConfirm,T=e.onCancel,N=d.useContext(u.E_).getPrefixCls;return d.createElement(f.Z,{componentName:"Popconfirm",defaultLocale:P.Z.Popconfirm},function(e){return d.createElement("div",{className:"".concat(t,"-inner-content")},d.createElement("div",{className:"".concat(t,"-message")},c&&d.createElement("span",{className:"".concat(t,"-message-icon")},c),d.createElement("div",{className:"".concat(t,"-message-title")},(0,v.Z)(o))),d.createElement("div",{className:"".concat(t,"-buttons")},h&&d.createElement(y.Z,(0,a.Z)({onClick:T,size:"small"},i),null!=r?r:e.cancelText),d.createElement(p.Z,{buttonProps:(0,a.Z)((0,a.Z)({size:"small"},(0,g.n)(s)),n),actionFn:C,close:x,prefixCls:N("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!=l?l:e.okText)))})},C=void 0,T=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)0>t.indexOf(a[i])&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n},N=d.forwardRef(function(e,t){var n=e.prefixCls,r=e.placement,y=e.trigger,g=e.okType,p=e.icon,f=void 0===p?d.createElement(o.Z,null):p,P=e.children,v=e.overlayClassName,N=e.onOpenChange,O=e.onVisibleChange,b=T(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),j=d.useContext(u.E_).getPrefixCls,w=(0,s.Z)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),S=(0,i.Z)(w,2),D=S[0],k=S[1],E=function(e,t){k(e,!0),null==O||O(e,t),null==N||N(e,t)},_=function(e){e.keyCode===c.Z.ESC&&D&&E(!1,e)},I=j("popover",n),Z=j("popconfirm",n),L=l()(Z,v);return d.createElement(m.Z,(0,a.Z)({},b,{trigger:void 0===y?"click":y,prefixCls:I,placement:void 0===r?"top":r,onOpenChange:function(t){var n=e.disabled;void 0!==n&&n||E(t)},open:D,ref:t,overlayClassName:L,_overlay:d.createElement(x,(0,a.Z)({okType:void 0===g?"primary":g,icon:f},e,{prefixCls:I,close:function(e){E(!1,e)},onConfirm:function(t){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(C,t)},onCancel:function(t){var n;E(!1,t),null===(n=e.onCancel)||void 0===n||n.call(C,t)}}))}),(0,h.Tm)(P,{onKeyDown:function(e){var t,n;d.isValidElement(P)&&(null===(n=null==P?void 0:(t=P.props).onKeyDown)||void 0===n||n.call(t,e)),_(e)}}))})},39292:function(e,t,n){"use strict";n.d(t,{I:function(){return a}});let a=30},28951:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var a=n(85893),i=n(67294),o=n(26674),r=n(13709),l=n(74253),s=n(77024),c=n(46556),d=n(96361),u=n(28853),m=n(69361);n(5588);var h=n(30381),y=n.n(h),g=n(23939),p=n(8285),f=n(9473),P=n(59178);let v="/api/Order/",x={getAll:e=>P.e.get("".concat(v,"GetListOrder?pageIndex=").concat(e.pageIndex,"&pageSize=").concat(e.pageSize,"&search=").concat(e.search,"&PaymentStatus=").concat(e.PaymentStatus)),update:e=>P.e.put(v+"UpdatePaidPayment",e)},C={getOrderDetail:e=>P.e.get("/api/order/orderdetail/".concat(e))};var T=n(63237),N=n(28210),O=e=>{var t,n;let[o,r]=(0,i.useState)({selectedRowKeys:[]}),[l,s]=(0,i.useState)([]),[c,d]=(0,i.useState)([{currentPage:1,listKeys:[]}]),[u,m]=(0,i.useState)(null),h=e=>{let t=[];t.indexOf(e.key)>=0?t.splice(t.indexOf(e.key),1):t.push(e.key),r({selectedRowKeys:t})},y=(t,n)=>{if(c.some(e=>e.currentPage==t)||c.push({currentPage:t,listKeys:[]}),d([...c]),void 0===e.getPagination)return t;e.getPagination(t,n)},g={selectedRowKeys:o.selectedRowKeys,onChange:e=>{r({selectedRowKeys:e})},hideSelectAll:!0};return(0,i.useEffect)(()=>{if(e.dataSource){let t=[...e.dataSource];t.forEach((e,t)=>{e.key=t.toString()}),s(t)}},[e.dataSource]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"wrap-table table-expand",children:(0,a.jsx)(N.Z,{loading:(null===(t=e.loading)||void 0===t?void 0:t.type)=="GET_ALL"&&(null===(n=e.loading)||void 0===n?void 0:n.status),bordered:!!e.haveBorder&&e.haveBorder,scroll:{x:"max-content",y:window.innerHeight-295},columns:e.columns,dataSource:l,size:"middle",pagination:{pageSize:30,pageSizeOptions:["30"],onShowSizeChange:(t,n)=>{e.onChangePageSize&&e.onChangePageSize(t,n)},total:e.totalPage&&e.totalPage,onChange:(e,t)=>y(e,t),current:e.currentPage&&e.currentPage},rowClassName:(e,t)=>t==u?"table-row-active":t%2==0?"table-row-light":"table-row-dark",rowSelection:g,onRow:(e,t)=>({onClick:()=>{h(e),m(t)}})})})})},b=n(39292),j=n(58416),w=n(42006);let{Search:S}=l.default,D=1;var k=()=>{let{information:e}=(0,f.v9)(e=>e.user),[t,n]=(0,i.useState)([]),[o,l]=(0,i.useState)(!1),[h,P]=(0,i.useState)(""),[v,N]=(0,i.useState)(!1),[k,E]=(0,i.useState)(null),[_,I]=(0,i.useState)(!1),[Z,L]=(0,i.useState)([]),F={pageSize:b.I,pageIndex:D,search:"",PaymentStatus:0},[H,R]=(0,i.useState)(F),U=async()=>{N(!0);try{let e=await x.getAll(H);200==e.status&&(n(e.data.data),E(e.data.totalRow)),204==e.status&&n([]),P(e+"")}catch(e){(0,j.fr)("error",(null==e?void 0:e.message)||"Lỗi kh\xf4ng x\xe1c định")}finally{N(!1)}},z=async e=>{N(!0);try{await x.update({ID:e}),(0,j.fr)("success","Th\xe0nh c\xf4ng")}catch(e){(0,j.fr)("error",e.message)}finally{U()}},V=async e=>{try{let t=await C.getOrderDetail(e);200==t.status&&L(t.data.data)}catch(e){(0,j.fr)("error",e.message)}finally{I(!1)}},A=(e,t)=>(0,a.jsx)("span",{className:"tag ".concat(["yellow","yellow","green","gray"][e-1]),children:t});(0,i.useEffect)(()=>{},[H]);let W=e=>{let t={...F,pageIndex:1,search:e};D=1,R(t)},K=e=>{D=e,R({...H,pageIndex:D})},B=e=>{navigator.clipboard.writeText(e),(0,j.fr)("success","Sao ch\xe9p th\xe0nh c\xf4ng")};return(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Z,{title:(0,a.jsx)("div",{className:"m-0 vc-store_extra-table",children:(0,a.jsx)("div",{className:"m-0 st-fb-100w ",children:(0,a.jsx)(S,{className:"fb-btn-search vc-teach-modal_search",size:"middle",placeholder:"Nhập m\xe3 t\xean h\xe0ng, t\xean người mua",onSearch:e=>{W(e)}})})}),className:"video-course-list",style:{width:"100%"},children:(0,a.jsx)(O,{totalPage:k&&k,getPagination:e=>K(e),currentPage:D,columns:[{title:"M\xe3 đơn h\xe0ng",dataIndex:"OrderCode",key:"OrderCode",align:"center"},{title:"T\xean người mua",width:130,dataIndex:"FullNameUnicode",key:"FullNameUnicode"},{title:"Tổng thanh to\xe1n",width:150,dataIndex:"TotalPayment",key:"TotalPayment",align:"right",render:(e,t,n)=>(0,a.jsxs)("div",{children:[(0,w.HP)(t.TotalPayment),"đ"]})},{title:"Đ\xe3 thanh to\xe1n",width:130,dataIndex:"PaidPayment",key:"PaidPayment",align:"right",render:(e,t,n)=>(0,a.jsxs)("div",{children:[(0,w.HP)(t.PaidPayment),"đ"]})},{title:"Giảm gi\xe1",width:120,dataIndex:"DiscountPrice",key:"DiscountPrice",align:"right",render:(e,t,n)=>(0,a.jsxs)("div",{children:[(0,w.HP)(t.DiscountPrice),"đ"]})},{title:"Ng\xe0y mua",dataIndex:"CreatedOn",key:"CreatedOn",render:(e,t,n)=>(0,a.jsx)(a.Fragment,{children:(null==t?void 0:t.CreatedOn)==null?"":(0,a.jsx)("div",{children:y()(null==t?void 0:t.CreatedOn).format("DD/MM/yyyy")+" "+y()(null==t?void 0:t.CreatedOn).format("hh:mm")})})},{title:"Ng\xe0y x\xe1c nhận",dataIndex:"PaymentDate",key:"PaymentDate",render:(e,t,n)=>(0,a.jsx)(a.Fragment,{children:(null==t?void 0:t.PaymentDate)==null?"":(0,a.jsx)("div",{children:y()(null==t?void 0:t.PaymentDate).format("DD/MM/yyyy")+" "+y()(null==t?void 0:t.PaymentDate).format("hh:mm")})})},{title:"Trạng th\xe1i",dataIndex:"StatusName",key:"StatusName",align:"center",render:(e,t,n)=>A(null==t?void 0:t.Status,null==t?void 0:t.StatusName)},{title:"Thao t\xe1c",dataIndex:"Action",key:"action",align:"center",fixed:"right",width:100,render:(t,n,i)=>(0,a.jsxs)("div",{className:"row",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[e&&(null==e?void 0:e.RoleId)===1?(0,a.jsx)(a.Fragment,{children:(null==n?void 0:n.Status)==2||(null==n?void 0:n.Status)==4?(0,a.jsx)(s.Z,{title:"X\xe1c thực thanh to\xe1n",children:(0,a.jsx)(c.Z,{placement:"right",title:"Lớp học n\xe0y đ\xe3 được thanh to\xe1n?",onConfirm:()=>z(n.ID),okText:(0,a.jsx)("div",{children:"X\xe1c nhận"}),cancelText:(0,a.jsx)("div",{children:"Hủy"}),className:"customPopconfirm",children:(0,a.jsx)("button",{className:"btn btn-icon",children:(0,a.jsx)(g.Z,{style:{color:"#1cc474"}})})})}):(0,a.jsx)("div",{className:"btn btn-icon",children:(0,a.jsx)(g.Z,{style:{color:"#CFD8DC"}})})}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)(s.Z,{title:"Xem th\xf4ng tin",children:(0,a.jsx)("button",{onClick:()=>{I(!0),V(n.ID),l(!0)},className:"btn btn-icon",style:{},children:(0,a.jsx)(r.Z,{})})})]})}],dataSource:[{OrderCode:"DH43122115",FullNameUnicode:"Long",TotalPayment:"999999",PaidPayment:"90909",DiscountPrice:"0",CreatedOn:"2021-12-29T11:55:05.337",PaymentDate:"2022-02-24T17:32:52.92",StatusName:"Đ\xe3 thanh to\xe1n"},{OrderCode:"DH43122115",FullNameUnicode:"Long",TotalPayment:"999,999",PaidPayment:"90909",DiscountPrice:"0",CreatedOn:"2021-12-29T11:55:05.337",PaymentDate:"2022-02-24T17:32:52.92",StatusName:"Đ\xe3 thanh to\xe1n"},{OrderCode:"DH43122115",FullNameUnicode:"Long",TotalPayment:"999,999",PaidPayment:"90909",DiscountPrice:"0",CreatedOn:"2021-12-29T11:55:05.337",PaymentDate:"2022-02-24T17:32:52.92",StatusName:"Đ\xe3 thanh to\xe1n"},{OrderCode:"DH43122115",FullNameUnicode:"Long",TotalPayment:"999,999",PaidPayment:"90909",DiscountPrice:"0",CreatedOn:"2021-12-29T11:55:05.337",PaymentDate:"2022-02-24T17:32:52.92",StatusName:"Đ\xe3 thanh to\xe1n"},{OrderCode:"DH43122115",FullNameUnicode:"Long",TotalPayment:"999,999",PaidPayment:"90909",DiscountPrice:"0",CreatedOn:"2021-12-29T11:55:05.337",PaymentDate:"2022-02-24T17:32:52.92",StatusName:"Đ\xe3 thanh to\xe1n"},{OrderCode:"DH43122115",FullNameUnicode:"Long",TotalPayment:"999,999",PaidPayment:"90909",DiscountPrice:"0",CreatedOn:"2021-12-29T11:55:05.337",PaymentDate:"2022-02-24T17:32:52.92",StatusName:"Đ\xe3 thanh to\xe1n"},{OrderCode:"DH43122115",FullNameUnicode:"Long",TotalPayment:"999,999",PaidPayment:"90909",DiscountPrice:"0",CreatedOn:"2021-12-29T11:55:05.337",PaymentDate:"2022-02-24T17:32:52.92",StatusName:"Đ\xe3 thanh to\xe1n"},{OrderCode:"DH43122115",FullNameUnicode:"Long",TotalPayment:"999,999",PaidPayment:"90909",DiscountPrice:"0",CreatedOn:"2021-12-29T11:55:05.337",PaymentDate:"2022-02-24T17:32:52.92",StatusName:"Đ\xe3 thanh to\xe1n"},{OrderCode:"DH43122115",FullNameUnicode:"Long",TotalPayment:"999,999",PaidPayment:"90909",DiscountPrice:"0",CreatedOn:"2021-12-29T11:55:05.337",PaymentDate:"2022-02-24T17:32:52.92",StatusName:"Đ\xe3 thanh to\xe1n"},{OrderCode:"DH43122115",FullNameUnicode:"Long",TotalPayment:"999,999",PaidPayment:"90909",DiscountPrice:"0",CreatedOn:"2021-12-29T11:55:05.337",PaymentDate:"2022-02-24T17:32:52.92",StatusName:"Đ\xe3 thanh to\xe1n"},{OrderCode:"DH43122115",FullNameUnicode:"Long",TotalPayment:"999,999",PaidPayment:"90909",DiscountPrice:"0",CreatedOn:"2021-12-29T11:55:05.337",PaymentDate:"2022-02-24T17:32:52.92",StatusName:"Đ\xe3 thanh to\xe1n"}],loading:{type:"GET_ALL",status:v},TitleCard:null})}),(0,a.jsx)(T.Z,{title:"Th\xf4ng tin đơn h\xe0ng",visible:o,onCancel:()=>l(!1),className:"modal-vc-details",width:700,okButtonProps:{style:{display:"none"}},cancelText:"Đ\xf3ng",children:_?(0,a.jsx)(m.Z,{}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u.ZP,{dataSource:[{ImageThumbnails:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Image_created_with_a_mobile_phone.png/640px-Image_created_with_a_mobile_phone.png",VideoCourseName:"Kh\xf3a học cơ bản",VideoCoursePrice:"100000",ActiveCode:"WSLUWCIY",Quantity:1,ExpiryDays:1}],renderItem:e=>(0,a.jsx)(u.ZP.Item,{children:(0,a.jsx)("div",{className:"row m-0 item",children:(0,a.jsxs)("div",{className:"row m-0 main",children:[(0,a.jsx)("img",{className:"logo-img",src:void 0===e.ImageThumbnails?"/images/logo.png":e.ImageThumbnails,alt:"logo branch",style:{width:50,height:50,borderRadius:6,marginRight:10}}),(0,a.jsxs)("div",{className:"column",children:[(0,a.jsx)(s.Z,{title:null==e?void 0:e.VideoCourseName,children:(0,a.jsx)("span",{style:{fontWeight:"bold"},className:"limit-text",children:null==e?void 0:e.VideoCourseName})}),(0,a.jsxs)("span",{style:{fontWeight:"bold",color:"#0074e4"},children:[(0,w.HP)(null==e?void 0:e.VideoCoursePrice),"đ"]})]}),(0,a.jsxs)("div",{className:"column",children:[(0,a.jsx)("span",{style:{fontWeight:"bold"},children:"M\xe3 k\xedch hoạt"}),(0,a.jsxs)("span",{className:"active-key",children:[null==e?void 0:e.ActiveCode,(0,a.jsx)("button",{onClick:()=>B(e.ActiveCode),className:"btn btn-icon",children:(0,a.jsx)(p.LhG,{size:18})})]})]}),(0,a.jsxs)("span",{className:"col-3 font-weight-primary",style:{display:"flex",flexDirection:"column"},children:[(0,a.jsxs)("span",{className:" font-weight-primary",children:["Số lượng: ",(0,w.HP)(null==e?void 0:e.Quantity)]}),(0,a.jsxs)("span",{className:" font-weight-primary",children:["Thời hạn: ",null==e?void 0:e.ExpiryDays," ng\xe0y"]})]})]})})})})})})]})};let E=()=>(0,a.jsx)(k,{});E.Layout=o.C;var _=E},92703:function(e,t,n){"use strict";var a=n(50414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,r){if(r!==a){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},23939:function(e,t,n){"use strict";var a=n(67294),i=n(45697),o=n.n(i);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var l=(0,a.forwardRef)(function(e,t){var n=e.color,i=e.size,o=void 0===i?24:i,l=function(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color","size"]);return a.createElement("svg",r({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:void 0===n?"currentColor":n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),a.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),a.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}))});l.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},l.displayName="CheckCircle",t.Z=l}},function(e){e.O(0,[6130,7909,5970,4817,8460,9915,6565,653,6655,1607,6361,5009,4253,9872,861,8675,8210,6954,2888,9774,179],function(){return e(e.s=1754)}),_N_E=e.O()}]);