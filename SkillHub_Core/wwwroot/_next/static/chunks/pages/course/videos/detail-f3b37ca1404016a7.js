(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4343],{95188:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/videos/detail",function(){return s(59684)}])},79930:function(e,t,s){"use strict";s.d(t,{X:function(){return l}});var a=s(59178);let l={uploadImage(e){let t=new FormData;return t.append("file",e),a.e.post("".concat("/api/Base","/Upload"),t,{})}}},51235:function(e,t,s){"use strict";s.d(t,{B:function(){return n}});var a=s(59178);let l="/api/product",n={getAll:e=>a.e.get(l,{params:e}),getByID:e=>a.e.get("".concat(l,"/").concat(e)),add:e=>a.e.post(l,e),update:e=>a.e.put(l,e),delete:e=>a.e.delete("".concat(l,"/").concat(e))}},19256:function(e,t,s){"use strict";s.d(t,{t:function(){return n}});var a=s(59178);let l="/api/Exam",n={getAll:e=>a.e.get(l,{params:e}),getByID:e=>a.e.get("".concat(l,"/").concat(e)),getDetailByID:e=>a.e.get("".concat(l,"/Detail/").concat(e)),post:e=>a.e.post(l,e),addGroup:e=>a.e.post(l+"AddExerciseGroup",e),put:e=>a.e.put(l,e),delete:e=>a.e.delete(l+"/"+e),addRandom:e=>a.e.post("".concat(l,"/").concat(null==e?void 0:e.sectionId,"/addRandom/").concat(null==e?void 0:e.amount,"/type/").concat(null==e?void 0:e.type),e)}},59178:function(e,t,s){"use strict";s.d(t,{e:function(){return d}});var a=s(9669),l=s.n(a),n=s(53265),i=s(97396);function r(e){return(null==e?void 0:e.baseURL)?e.url.replace(e.baseURL,"").split("?")[0]:e.url}console.log("%cSWIMMING API:","color: #00BCD4; font-weight: bold",n.Z.hostURL);let o=async()=>{let e=await JSON.parse(localStorage.getItem("userData"));return e&&e.token?{token:e.token}:{}};function c(e){return(e/1e3).toFixed(1)}let d=l().create({baseURL:n.Z.hostURL,headers:{Accept:"application/json"}});d.interceptors.request.use(async e=>{if(!r(e).toString().includes("/auth/")){let t=await o();e.headers={...e.headers,...t},e.startCall=new Date().getTime()}return e},e=>{var t,s;return console.log("%c ".concat(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.status,"  :"),"color: red; font-weight: bold",null==e?void 0:null===(s=e.response)||void 0===s?void 0:s.data),Promise.reject(e)});let u=!1;d.interceptors.response.use(e=>{var t;let s="".concat(null==e?void 0:e.status," - ").concat(r(null==e?void 0:e.config)),a=new Date().getTime()-(null==e?void 0:null===(t=e.config)||void 0===t?void 0:t.startCall),l=a<1e3?"Rất nhanh":a>2e3?"Rất chậm":"Hơi nhanh",n="".concat(a,"ms --> ").concat(c(a),"s");return console.log(" %c ".concat(s,":"),"color: #008000; font-weight: bold",{timeSpend:n,rate:l,...e}),e},async function(e){var t,s,a,l,n,o,d,m,x,h,p,f;if((null==e?void 0:e.response)&&(console.log("error?.response",null==e?void 0:e.response),(null==e?void 0:null===(s=e.response)||void 0===s?void 0:s.status)!=401||u||(u=!0,(0,i.ni)()),(null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.status)==403&&(0,i.ni)()),r(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.config),(null==e?void 0:e.name)=="AbortError")console.log("Request canceled",e.message);else{if(null==e?void 0:e.response){(null==e?void 0:null===(l=e.response)||void 0===l?void 0:l.status)!=401||u||(u=!0,(0,i.ni)());let t="".concat(null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.status," - ").concat(r(null==e?void 0:null===(o=e.response)||void 0===o?void 0:o.config)),s=new Date().getTime()-(null==e?void 0:null===(m=e.response)||void 0===m?void 0:null===(d=m.config)||void 0===d?void 0:d.startCall),a=s<1e3?"Rất nhanh":s>2e3?"Rất chậm":"Hơi nhanh",h="".concat(s,"ms --> ").concat(c(s),"s");return console.log(" %c ".concat(t,":"),"color: red; font-weight: bold",{timeSpend:h,rate:a,...null==e?void 0:e.response}),(null==e?void 0:null===(x=e.response)||void 0===x?void 0:x.data)?Promise.reject(e.response.data):Promise.reject(e)}return e.request?(console.log("%c ".concat(JSON.stringify(e),"  :"),"color: red; font-weight: bold",null==e?void 0:null===(h=e.response)||void 0===h?void 0:h.data),(null==e?void 0:null===(p=e.response)||void 0===p?void 0:p.data)?Promise.reject(e.response.data):Promise.reject(e)):(console.log("%c ".concat(JSON.stringify(e),"  :"),"color: red; font-weight: bold","H\xecnh như l\xe0 setting sai"),(null==e?void 0:null===(f=e.response)||void 0===f?void 0:f.data)?Promise.reject(e.response.data):Promise.reject(e))}})},57259:function(e,t,s){"use strict";s.d(t,{m:function(){return n}});var a=s(59178);let l="/api/ExamResult/",n={get:e=>a.e.get(l,{params:e}),getByID:e=>a.e.get("".concat(l,"Detail/").concat(e)),submit:e=>a.e.post(l+"Submit",e)}},63237:function(e,t,s){"use strict";var a=s(85893),l=s(46565);s(67294);var n=s(11521),i=s(29090),r=s.n(i);t.Z=e=>{let{children:t,scrollable:s=!0,centered:i=!0,className:o,title:c,...d}=e;return(0,a.jsx)(l.Z,{title:c,className:s?"".concat(r().scrollable," ").concat(o," ").concat(r().wrapper):"",centered:i,...d,closeIcon:(0,a.jsx)(n.Lm,{}),children:t})}},78160:function(e,t,s){"use strict";s.d(t,{Z:function(){return v}});var a=s(85893),l=s(67294),n=s(90918),i=s(34223),r=e=>{let{hidden:t}=e;return t?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)("div",{className:"editor-loading absolute top-0 left-0",children:[(0,a.jsxs)("div",{className:"editor-loading-header",children:[(0,a.jsx)("div",{className:"editor-loading-left-item",children:(0,a.jsx)(i.Z,{active:!0,round:!0,paragraph:!1,style:{width:30}})}),(0,a.jsx)("div",{className:"editor-loading-right-item",children:(0,a.jsx)(i.Z,{active:!0,round:!0,paragraph:!1,style:{width:30}})}),(0,a.jsx)("div",{className:"editor-loading-left-item",children:(0,a.jsx)(i.Z,{active:!0,round:!0,paragraph:!1,style:{width:20}})}),(0,a.jsx)("div",{className:"editor-loading-right-item",children:(0,a.jsx)(i.Z,{active:!0,round:!0,paragraph:!1,style:{width:30}})}),(0,a.jsx)("div",{className:"editor-loading-right-item",style:{paddingLeft:16},children:(0,a.jsx)(i.Z,{active:!0,round:!0,paragraph:!1,style:{width:50}})})]}),(0,a.jsxs)("div",{style:{padding:16},children:[(0,a.jsx)(i.Z,{active:!0,paragraph:!1,style:{width:"30%"}}),(0,a.jsx)(i.Z,{active:!0,paragraph:!1,style:{width:"80%",marginTop:8}}),(0,a.jsx)(i.Z,{active:!0,paragraph:!1,style:{width:"60%",marginTop:8}}),(0,a.jsx)(i.Z,{active:!0,paragraph:!1,style:{width:"90%",marginTop:8}})]})]})},o=["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","help","wordcount","lineheight","lists","table","paste"],c=s(82979),d=s(41480),u=s.n(d),m=s(42474),x=s.n(m),h=s(9473),p=s(68660),f=s(79930),g=s(58416),v=e=>{let{initialValue:t,height:s,id:i,inline:d,skin:m,menubar:v,apiKey:j,init:y,ref:b,noFullscreen:N}=e,{onInit:w,onChange:I,onBlur:C,isFillInBlank:S}=e,Z=(0,l.useRef)(null),[D,T]=(0,l.useState)(!0),E=(0,h.v9)(e=>e.createQuestion.Questions),k=(0,h.I0)();return(0,a.jsxs)("div",{className:u().ccEditor,children:[(0,a.jsx)(r,{hidden:!D}),(0,a.jsx)(n.M,{id:i||"the-cc-editor",onInit:function(e,t){Z.current=t,T(!1),w&&w()},initialValue:t||"",onEditorChange:function(){var e,t;I&&I(Z.current.getContent());let s=null===(e=Z.current)||void 0===e?void 0:e.dom.doc.getElementsByClassName("b-in");if(s.length==E.length)return;if(s&&s.length>0)for(let e=0;e<s.length;e++)s[e].placeholder="(".concat(e+1,")");let a=null===(t=Z.current)||void 0===t?void 0:t.dom.doc.getElementsByClassName("b-in");k((0,p.d9)([...a]))},onBlur:function(){C&&C()},init:{...y,paste_preprocess:function(e,t){t.content.indexOf("<img ")>-1&&(t.content=t.content.replace(/<img[^>\"']*(((\"[^\"]*\")|('[^']*'))[^\"'>]*)*>/g,""))},toolbar_mode:"sliding",skin:m||"oxide",content_css:"writer cc-main-editor",inline:d||!1,height:s||500,menubar:v||!1,plugins:o,toolbar:"fullscreen ".concat(c.Z),quickBar:!1,contextmenu:!1,content_style:"".concat(".b-in {border: 0px; text-align: center; background: #d3d3d3; max-width: 80px; width: auto; border-radius: 6px; font-size: 16px; padding: 2px 8px; outline: none !important; margin: 2px 4px !important;}"," ").concat(".idx-b {color: #fff; margin-left: 4px; width: 20px; height: 20px; display: inline-flex; align-items: center; justify-content: center; background: #1890ff; border-radius: 999px;}"," ").concat("body { font-family: 'Arial'; font-size: 12pt; }"),setup:function(e){S&&e.ui.registry.addButton("customInsertButton",{icon:"comment-add",tooltip:"Th\xeam c\xe2u hỏi",onAction:()=>{let t=new Date().getTime(),s=' <input class="b-in" disabled id="ip-'.concat(x().createHash("md5").update(t.toString()).digest("hex").substring(0,6),'"></input>');e.insertContent(s)}})},image_title:!0,file_picker_types:"file image media",images_upload_handler:async function(e){new FormData().append("files[]",e.blob());try{let t=await f.X.uploadImage(e.blob());if(200==t.status)return new Promise((e,s)=>{e(t.data.data)})}catch(e){(0,g.fr)("error",e.message);return}},relative_urls:0,remove_script_host:0,convert_urls:!1}})]})}},82979:function(e,t,s){"use strict";s.d(t,{A:function(){return r}});let a="undo redo",l="bold italic underline strikethrough",n="forecolor backcolor",i="alignleft aligncenter alignright alignjustify";t.Z="".concat(a," | customInsertButton | link | ").concat(l," | ").concat(n," | image | ").concat("fontfamily fontsize blocks"," | ").concat(i," | lineheight | numlist bullist | table tabledelete | tableprops tablerowprops tablecellprops | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol'");let r="".concat(a," | fontsize | ").concat(l," | ").concat(i," | ").concat(n," | code | link media image")},22292:function(e,t,s){"use strict";var a=s(85893),l=s(67294),n=s(96369),i=s(31379),r=s(16655),o=s(74253),c=s(36070),d=s(64811),u=s(30381),m=s.n(u),x=s(58416),h=s(92088);t.Z=e=>{let{dataFilter:t}=e,{handleFilter:s,handleReset:u}=e,{RangePicker:p}=n.default,[f,g]=(0,l.useState)(t),[v,j]=(0,l.useState)(!1),[y]=i.Z.useForm(),{Option:b}=r.default,N="YYYY/MM/DD",w=()=>{g(f.map(e=>(e.value=null,e)))},I=(e,t)=>{f.every((s,a)=>s.name!=t||(s.value=e,!1)),g([...f])},C=(e,t,s)=>{switch(t){case"date-range":if(e.length>1){let t=m()(e[0].toDate()).format("YYYY/MM/DD"),s=m()(e[1].toDate()).format("YYYY/MM/DD");f.push({name:"fromDate",value:t},{name:"toDate",value:s}),g([...f])}else(0,x.fr)("error","Chưa chọn đầy đủ ng\xe0y");break;case"date-single":I(m()(e.toDate()).format("YYYY/MM/DD"),s);break;default:I(e,s)}},S=(e,t)=>{switch(e.type){case"select":var s;return(0,a.jsx)("div",{className:e.col,children:(0,a.jsx)(i.Z.Item,{name:e.name,label:e.title,children:(0,a.jsx)(r.default,{allowClear:!0,mode:e.mode,style:{width:"100%"},className:"primary-input",showSearch:!0,optionFilterProp:"children",onChange:t=>C(t,"select",e.name),placeholder:e.placeholder,children:null===(s=e.optionList)||void 0===s?void 0:s.map((e,t)=>(0,a.jsx)(b,{value:e.value,children:e.title},t))})})},t);case"text":return(0,a.jsx)("div",{className:e.col,children:(0,a.jsx)(i.Z.Item,{name:e.name,label:e.title,children:(0,a.jsx)(o.default,{placeholder:e.placeholder,className:"primary-input",onChange:t=>C(t.target.value,"text",e.name),allowClear:!0})})},t);case"date-range":return(0,a.jsx)("div",{className:e.col,children:(0,a.jsx)(i.Z.Item,{name:e.name,label:e.title,children:(0,a.jsx)(p,{placeholder:["Bắt đầu","Kết th\xfac"],className:"primary-input",format:N,onChange:t=>C(t,"date-range",e.name)})})},t);case"date-single":return(0,a.jsx)("div",{className:e.col,children:(0,a.jsx)(i.Z.Item,{name:e.name,label:e.title,children:(0,a.jsx)(n.default,{className:"primary-input",format:N,onChange:t=>C(t,"date-single",e.name)})})});default:return""}},Z=(0,a.jsx)("div",{className:"wrap-filter small",children:(0,a.jsx)(i.Z,{form:y,layout:"vertical",onFinish:()=>{s(f),j(!1)},children:(0,a.jsxs)("div",{className:"row",children:[t.map((e,t)=>S(e,t)),(0,a.jsx)("div",{className:"col-md-12",children:(0,a.jsxs)(i.Z.Item,{className:"mb-0",children:[(0,a.jsxs)("button",{type:"button",className:"light btn btn-secondary",style:{marginRight:"10px"},onClick:()=>{u(),j(!1),w(),y.resetFields()},children:[(0,a.jsx)(h.TeN,{size:18,className:"mr-1"}),"Kh\xf4i phục"]}),(0,a.jsxs)("button",{type:"submit",className:"btn btn-primary",style:{marginRight:"10px"},children:[(0,a.jsx)(h.vU7,{size:18,className:"mr-1"}),"T\xecm kiếm"]})]})})]})})});return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(c.Z,{visible:v,placement:"bottomRight",content:Z,trigger:"click",overlayClassName:"filter-popover",onVisibleChange:e=>{j(e)},children:(0,a.jsx)("button",{className:"btn btn-secondary light btn-filter",children:(0,a.jsx)(d.Z,{})})})})}},44315:function(e,t,s){"use strict";var a=s(85893),l=s(31379),n=s(74253);s(67294),t.Z=e=>{let{style:t,label:s,isRequired:i,className:r,allowClear:o,placeholder:c,disabled:d,name:u,rules:m,onChange:x,value:h}=e;return(0,a.jsx)(l.Z.Item,{name:u,style:t,label:s,className:"".concat(r),required:i,rules:m,children:(0,a.jsx)(n.default,{className:"primary-input ".concat(r),allowClear:o,placeholder:c,disabled:d,onChange:e=>{x&&x(e)},value:h,defaultValue:h})})}},5965:function(e,t,s){"use strict";var a=s(85893),l=s(16655),n=s(31379);t.Z=e=>{let{style:t,label:s,onChangeSelect:i,optionList:r,isRequired:o,className:c,placeholder:d,disabled:u,name:m,rules:x,mode:h,isLoading:p,maxTagCount:f}=e,{Option:g}=l.default,v=e=>{i&&i(e)};return(0,a.jsx)(n.Z.Item,{name:m,style:t,label:s,className:"".concat(c),required:o,rules:x,children:(0,a.jsx)(l.default,{mode:h,className:"primary-input ".concat(c),showSearch:!0,allowClear:!0,maxTagCount:f,loading:p,style:t,placeholder:d,optionFilterProp:"children",disabled:u,onChange:e=>{v(e)},children:r&&r.map((e,t)=>(0,a.jsx)(g,{disabled:u,value:e.value,children:e.title},t))})})}},48895:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var a=s(85893),l=s(96361),n=s(28210),i=s(67294),r=s(8123),o=e=>{let{record:t,visible:s,x:l,y:n,menuContext:r}=e,o=(0,i.useMemo)(()=>r.map(e=>{let t=e.components;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t,{}),e.text]})}),[r]);return s&&(0,a.jsx)("ul",{className:"context-menu-table",style:{left:"".concat(l,"px"),top:"".concat(n,"px")},children:o.map(e=>(0,a.jsx)("li",{className:"menu-context-item",children:e}))})},c=e=>{let t;let{columns:s,children:c,TitleCard:d,Extra:u,className:m,rowSelection:x,keySelection:h="",loading:p,bordered:f}=e,{total:g,current:v,expand:j,data:y,onExpand:b,onChangePage:N,menuContext:w,pageSize:I}=e,[C,S]=(0,i.useState)([]),[Z,D]=(0,i.useState)([{currentPage:1,listKeys:[]}]),[T,E]=(0,i.useState)(1),[k,F]=(0,i.useState)(null),[L,M]=(0,i.useState)({record:null,visible:!1,x:0,y:0}),R=(e,t)=>{if(E(e),Z.some(t=>t.currentPage==e)||Z.push({currentPage:e,listKeys:[]}),D([...Z]),void 0===N)return e;N(e,t)};return(0,i.useEffect)(()=>{if(y){let e=JSON.parse(JSON.stringify(y));e.forEach((e,t)=>{let s=t.toString();h&&(s=(null==e?void 0:e[h])||"NOT_FOUND"),e.key=s}),S(e)}},[y]),(0,a.jsx)("div",{className:"wrap-table",children:(0,a.jsxs)(l.Z,{className:"".concat(m&&m),title:d,extra:u,children:[c,0==C.length&&(0,a.jsx)(r.Z,{loading:p}),C.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Z,{loading:p,bordered:f,rowSelection:x,scroll:{x:"max-content",y:window.innerHeight-295},columns:s,dataSource:C,size:"middle",pagination:{pageSize:I||30,pageSizeOptions:["30"],total:g&&g,current:v&&v,showTotal:()=>g&&(0,a.jsxs)("div",{className:"font-weight-black",children:["Tổng cộng: ",g]}),onChange:(e,t)=>R(e,t)},rowClassName:(e,t)=>t==k?"active":t%2==0?"row-light":"row-dark",onRow:(e,t)=>({onContextMenu:t=>{if(!w)return null;t.preventDefault(),L.visible||document.addEventListener("click",function e(){M({...L,visible:!1}),document.removeEventListener("click",e)}),M({...L,record:e,visible:!0,x:t.clientX,y:t.clientY})},onClick:()=>F(t)}),expandable:Z[0].listKeys.length>0&&j,expandedRowRender:j?(e,t,s,a)=>a?j:null:void 0,onExpandedRowsChange:e=>{if(F(parseInt(e[e.length-1])),Z.some(e=>e.currentPage==T)){let t=Z.findIndex(e=>e.currentPage==T);Z[t].listKeys=e}D([...Z])},onExpand:(e,t)=>{void 0!==b&&b(t)},expandedRowKeys:(t=null,(t=Z.some(e=>e.currentPage==T)?Z.find(e=>e.currentPage===T).listKeys:[]).length>1&&t.splice(t.length-2,1),t)}),w&&(0,a.jsx)(o,{...L,menuContext:w})]})]})})}},37642:function(e,t,s){"use strict";var a=s(85893);s(67294),t.Z=e=>{let{color:t,children:s,className:l}=e;return(0,a.jsx)("div",{className:"rounded-lg px-3 py-1 w-auto inline-flex items-center ".concat("green"==t?"bg-[#4CAF50]":"blue"==t?"bg-[#0A89FF]":"red"==t?"bg-[#C94A4F]":"yellow"==t?"bg-[#FFBA0A]":"black"==t?"bg-[#000]":"disabled"==t?"bg-[#CFD8DC]":"orange"==t?"bg-[#ff7c38]":void 0," ").concat("green"==t||"blue"==t||"red"==t?"text-white ":"yellow"==t?"text-black":"black"==t?"text-white":"disabled"==t?"text-gray-800":void 0," ").concat(l),children:s})}},17298:function(e,t,s){"use strict";s.d(t,{i:function(){return a},l:function(){return l}});let a=[{required:!0,message:"Kh\xf4ng được để trống"}],l=[{required:!1}]},36831:function(e,t,s){"use strict";s.d(t,{J:function(){return i}});var a=s(30381),l=s.n(a);class n{secondToHHMMSS(e){var t=parseInt(e,10).toString(),s=Math.floor(parseInt(t)/3600).toString(),a=Math.floor((parseInt(t)-3600*parseInt(s))/60).toString();return t=(parseInt(t)-3600*parseInt(s)-60*parseInt(a)).toString(),10>parseInt(s)&&(s="0"+s),10>parseInt(a)&&(a="0"+a),10>parseInt(t)&&(t="0"+t),s+":"+a+":"+t}constructor(){this.toDDMMYYYY=e=>l()(e).format("DD/MM/YYYY"),this.toDDMMYYYHHmm=e=>l()(e).format("DD/MM/YYYY HH:mm"),this.toHHmm=e=>l()(e).format("HH:mm"),this.toHHmmss=e=>l()(e).format("HH:mm:ss"),this.numberToPrice=e=>{let t=(e+="").split("."),s=t[0],a=t.length>1?"."+t[1]:"",l=/(\d+)(\d{3})/;for(;l.test(s);)s=s.replace(l,"$1,$2");return s+a},this.priceToNumber=e=>parseInt(e.toString().replace(/\D/g,""))||0}}let i=new n},58416:function(e,t,s){"use strict";s.d(t,{Gu:function(){return c.Z},fr:function(){return r.Z},Zv:function(){return i},Jy:function(){return l.J},cM:function(){return o.c},aj:function(){return a.aj},Dc:function(){return a.Dc}});var a=s(42006),l=s(36831);class n{checkURL(e){return null==e?void 0:e.match(/\.(jpeg|jpg|gif|png)$/)}constructor(){this.isNumber=e=>!!e.match(/^-?[0-9]\d*([,.]\d+)?$/)}}let i=new n;var r=s(65146),o=s(83436),c=s(68821)},68821:function(e,t,s){"use strict";var a=s(65146);class l{constructor(){this.success=e=>{(0,a.Z)("success",e)},this.error=e=>{(0,a.Z)("error",e)},this.warning=e=>{(0,a.Z)("warning",e)}}}let n=new l;t.Z=n},11521:function(e,t,s){"use strict";s.d(t,{Lm:function(){return l},SC:function(){return c},TR:function(){return n},WC:function(){return r},bh:function(){return d},tO:function(){return o},uq:function(){return i}});var a=s(85893);let l=e=>{let{color:t="#3A3A3A"}=e;return(0,a.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M15.25 4.75834C14.925 4.43334 14.4 4.43334 14.075 4.75834L10 8.82501L5.92501 4.75001C5.60001 4.42501 5.07501 4.42501 4.75001 4.75001C4.42501 5.07501 4.42501 5.60001 4.75001 5.92501L8.82501 10L4.75001 14.075C4.42501 14.4 4.42501 14.925 4.75001 15.25C5.07501 15.575 5.60001 15.575 5.92501 15.25L10 11.175L14.075 15.25C14.4 15.575 14.925 15.575 15.25 15.25C15.575 14.925 15.575 14.4 15.25 14.075L11.175 10L15.25 5.92501C15.5667 5.60834 15.5667 5.07501 15.25 4.75834V4.75834Z",fill:t})})},n=e=>{let{color:t="#3A3A3A",className:s=""}=e;return(0,a.jsx)("svg",{className:s,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M3 17.46V20.5C3 20.78 3.22 21 3.5 21H6.54C6.67 21 6.8 20.95 6.89 20.85L17.81 9.94L14.06 6.19L3.15 17.1C3.05 17.2 3 17.32 3 17.46ZM20.71 7.04C21.1 6.65 21.1 6.02 20.71 5.63L18.37 3.29C17.98 2.9 17.35 2.9 16.96 3.29L15.13 5.12L18.88 8.87L20.71 7.04Z",fill:t})})},i=e=>{let{color:t="#3A3A3A",className:s=""}=e;return(0,a.jsx)("svg",{className:s,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M3.4 20.4L20.85 12.92C21.66 12.57 21.66 11.43 20.85 11.08L3.4 3.6C2.74 3.31 2.01 3.8 2.01 4.51L2 9.12C2 9.62 2.37 10.05 2.87 10.11L17 12L2.87 13.88C2.37 13.95 2 14.38 2 14.88L2.01 19.49C2.01 20.2 2.74 20.69 3.4 20.4Z",fill:t})})},r=e=>{let{color:t="#3A3A3A",className:s=""}=e;return(0,a.jsx)("svg",{className:s,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M10.79 16.29C11.18 16.68 11.81 16.68 12.2 16.29L15.79 12.7C16.18 12.31 16.18 11.68 15.79 11.29L12.2 7.7C11.81 7.31 11.18 7.31 10.79 7.7C10.4 8.09 10.4 8.72 10.79 9.11L12.67 11H4C3.45 11 3 11.45 3 12C3 12.55 3.45 13 4 13H12.67L10.79 14.88C10.4 15.27 10.41 15.91 10.79 16.29ZM19 3H5C3.89 3 3 3.9 3 5V8C3 8.55 3.45 9 4 9C4.55 9 5 8.55 5 8V6C5 5.45 5.45 5 6 5H18C18.55 5 19 5.45 19 6V18C19 18.55 18.55 19 18 19H6C5.45 19 5 18.55 5 18V16C5 15.45 4.55 15 4 15C3.45 15 3 15.45 3 16V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3Z",fill:t})})},o=e=>{let{color:t="#989EA5",className:s=""}=e;return(0,a.jsx)("svg",{className:s,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M10.8266 5.17334C10.0466 4.39334 9.02659 4.00001 7.99992 4.00001V8.00001L5.17325 10.8267C6.73325 12.3867 9.26659 12.3867 10.8333 10.8267C12.3933 9.26668 12.3933 6.73334 10.8266 5.17334ZM7.99992 1.33334C4.31992 1.33334 1.33325 4.32001 1.33325 8.00001C1.33325 11.68 4.31992 14.6667 7.99992 14.6667C11.6799 14.6667 14.6666 11.68 14.6666 8.00001C14.6666 4.32001 11.6799 1.33334 7.99992 1.33334ZM7.99992 13.3333C5.05325 13.3333 2.66659 10.9467 2.66659 8.00001C2.66659 5.05334 5.05325 2.66668 7.99992 2.66668C10.9466 2.66668 13.3333 5.05334 13.3333 8.00001C13.3333 10.9467 10.9466 13.3333 7.99992 13.3333Z",fill:t})})},c=e=>{let{color:t="#989EA5",className:s=""}=e;return(0,a.jsx)("svg",{className:s,width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M13 0C5.824 0 0 5.824 0 13C0 20.176 5.824 26 13 26C20.176 26 26 20.176 26 13C26 5.824 20.176 0 13 0ZM18.2 14.3H14.3V18.2C14.3 18.915 13.715 19.5 13 19.5C12.285 19.5 11.7 18.915 11.7 18.2V14.3H7.8C7.085 14.3 6.5 13.715 6.5 13C6.5 12.285 7.085 11.7 7.8 11.7H11.7V7.8C11.7 7.085 12.285 6.5 13 6.5C13.715 6.5 14.3 7.085 14.3 7.8V11.7H18.2C18.915 11.7 19.5 12.285 19.5 13C19.5 13.715 18.915 14.3 18.2 14.3Z",fill:t})})},d=e=>{let{color:t="#69727C",className:s=""}=e;return(0,a.jsx)("svg",{className:s,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M10.4092 14.8877L13.6299 11.667H5.21097C4.17596 11.667 3.33691 12.506 3.33691 13.5411V14.3077C3.33691 14.7844 3.48558 15.2492 3.76221 15.6375C4.91868 17.2606 6.73701 18.1466 9.16691 18.3077C9.16349 18.1554 9.18032 17.9987 9.21999 17.84L9.60141 16.3144C9.73641 15.7744 10.0156 15.2812 10.4092 14.8877ZM10.0007 1.6709C12.3018 1.6709 14.1673 3.53638 14.1673 5.83756C14.1673 8.13876 12.3018 10.0042 10.0007 10.0042C7.69944 10.0042 5.83396 8.13876 5.83396 5.83756C5.83396 3.53638 7.69944 1.6709 10.0007 1.6709ZM15.9169 10.5581L10.9982 15.4767C10.7114 15.7635 10.508 16.1228 10.4096 16.5163L10.0282 18.0419C9.86232 18.7053 10.4633 19.3063 11.1267 19.1404L12.6523 18.759C13.0457 18.6607 13.4051 18.4572 13.6919 18.1704L18.6106 13.2517C19.3544 12.5079 19.3544 11.3019 18.6106 10.5581C17.8667 9.81417 16.6607 9.81417 15.9169 10.5581Z",fill:t})})}},59684:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return eH}});var a=s(85893),l=s(11163),n=s(13437),i=s(67294),r=s(49367),o=s(11828),c=s(9473),d=s(51235),u=s(59178);let m="/api/Section",x={getByVideoID:e=>u.e.get("".concat(m,"/GetByVideoCourse/").concat(e)),add:e=>u.e.post(m,e),update:e=>u.e.put(m,e),updateIndex:e=>u.e.put("".concat(m,"/ChangeIndex"),e),delete:e=>u.e.delete("".concat(m,"/").concat(e))};var h=s(69108),p=s(96361),f=s(66946),g=s(54425),v=s(83725),j=s(33653),y=s(34223),b=s(92594),N=s(58416),w=s(64735),I=s(31379),C=s(65890),S=s(63237),Z=s(44315),D=s(3027),T=e=>{let{onSubmit:t,isLoading:s,mode:l,item:n}=e,[r,o]=(0,i.useState)(!1),[c]=I.Z.useForm();(0,i.useEffect)(()=>{n&&c.setFieldsValue(n)},[n]);let d=()=>{o(!0)},u=()=>{o(!1)};return(0,a.jsxs)("div",{className:"antd-custom-wrap",children:["add"==l?(0,a.jsx)("div",{className:"px-1 flex justify-center",children:(0,a.jsxs)("button",{onClick:()=>{d()},className:"w-fit my-4 flex items-center justify-center",children:[(0,a.jsx)(C.yTz,{size:18,className:"text-tw-black font-bold mr-2"})," ",(0,a.jsx)("span",{className:"text-tw-black text-bold text-base ",children:"Th\xeam chương"})]})}):(0,a.jsx)(w.Z,{type:"button",color:"edit"==l?"green":"red",icon:l,onClick:()=>{d()},className:"mt-2",tooltip:"edit"==l?"Sửa chương":"X\xf3a chương"}),(0,a.jsx)(S.Z,{title:"add"==l?"Th\xeam chương":"edit"==l?"Sửa chương":"X\xf3a chương",visible:r,onCancel:()=>{u()},footer:null,children:(0,a.jsx)(I.Z,{className:"antd-custom-wrap",layout:"vertical",form:c,onFinish:e=>{"add"==l?t&&t(e).then(e=>{e&&(o(!1),c.resetFields())}):t&&t({...e,Id:n.Id}).then(e=>{e&&(o(!1),c.resetFields())})},children:(0,a.jsxs)("div",{className:"grid grid-flow-row",children:["remove"==l?(0,a.jsx)("div",{className:"grid-cols-1",children:(0,a.jsx)("p",{className:"text-base mb-4",children:"Bạn c\xf3 chắc muốn x\xf3a chương n\xe0y?"})}):(0,a.jsx)("div",{className:"grid-cols-1",children:(0,a.jsx)(Z.Z,{name:"Name",label:"Chương",placeholder:"Nhập t\xean chương"})}),(0,a.jsx)("div",{className:"grid-cols-1 flex justify-center",children:(0,a.jsx)(D.Z,{disable:"SUBMIT_SECTION"==s.type&&s.status,loading:"SUBMIT_SECTION"==s.type&&s.status,background:"add"==l?"blue":"edit"==l?"blue":"red",type:"submit",children:(0,a.jsx)("span",{children:"remove"==l?"X\xe1c nhận":"Lưu"}),icon:"add"==l?"save":"edit"==l?"save":"remove"})})]})})})]})};let E="/api/LessonVideo",k={getBySectionID:e=>u.e.get("".concat(E,"/GetBySection/").concat(e)),add:e=>u.e.post(E,e),complete:e=>u.e.post("".concat(E,"/Completed/").concat(e)),update:e=>u.e.put(E,e),updateIndex:e=>u.e.put("".concat(E,"/ChangeIndex"),e),delete:e=>u.e.delete("".concat(E,"/").concat(e))};var F=s(41818);let L="/api/FileInVideo",M={getByLessonID:e=>u.e.get("".concat(L,"/GetByLesson/").concat(e)),add:e=>u.e.post(L,e),upload(e){let t=new FormData;return t.append("file",e),u.e.post("".concat(L,"/UploadFile"),t,{headers:{"Content-Type":"multipart/form-data"}})},delete:e=>u.e.delete("".concat(L,"/").concat(e))};var R=s(19256),_=s(5965),A=s(54696),U=s(3804),B=s(22101),O=s(79930);function V(e){let{style:t,label:s,name:l,isRequired:n,className:r,disabled:o,rules:c,multiple:d,onChangeFile:u,form:m,buttonText:x,max:h}=e,[p,f]=(0,i.useState)(!1),[g,v]=(0,i.useState)([]);(0,i.useEffect)(()=>{!1==!!m.getFieldValue(l)&&v([])},[m.getFieldValue(l)]);let j=async e=>{try{let t=await O.X.uploadImage(e.file.originFileObj);if(200==t.status)return(0,N.fr)("success",t.data.message),t}catch(e){(0,N.fr)("error",e.message)}finally{}},y=e=>{f(!0),u?u(e).then(e=>{e&&200==e.status&&(m.setFieldsValue({[l]:e.data.data}),f(!1))}):j(e).then(e=>{e&&200==e.status&&(m.setFieldsValue({[l]:e.data.data}),f(!1))})};return(0,a.jsx)("div",{children:(0,a.jsx)(I.Z.Item,{name:l,style:t,label:s,className:"".concat(r," w-full"),required:n,rules:c,children:(0,a.jsx)(A.default,{maxCount:h,className:"avatar-uploader",showUploadList:!0,disabled:o,multiple:d,itemRender:(e,t,s,l)=>g.map(e=>(console.log("ITem: ",e),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[("xlsx"==e.FileExtension||"xls"==e.FileExtension)&&(0,a.jsx)(B.bBH,{size:24}),("doc"==e.FileExtension||"docx"==e.FileExtension||"txt"==e.FileExtension)&&(0,a.jsx)(U.Mk3,{size:24}),"pdf"==e.FileExtension&&(0,a.jsx)(U.cdp,{size:24}),"zip"==e.FileExtension&&(0,a.jsx)(U.nzh,{size:24}),("ppt"==e.FileExtension||"pps"==e.FileExtension)&&(0,a.jsx)(U.Cw$,{size:24}),("png"==e.FileExtension||"jpg"==e.FileExtension)&&(0,a.jsx)(U.B7O,{size:24}),(0,a.jsx)("p",{className:"mt-",children:e.FileName})]}),(0,a.jsx)("div",{})]}))),name:"file",customRequest:e=>y(e.file),onChange:e=>{let t=[];e.fileList.forEach(e=>{t.push({FileExtension:e.name.split(".")[e.name.split(".").length-1],FileName:e.name})}),v(t)},children:(0,a.jsx)(D.Z,{loading:p,background:"green",type:"button",children:(0,a.jsx)("span",{children:x}),icon:"upload"})})})})}var H=s(72833),P=e=>{let t;let{onSubmit:s,isLoading:l,mode:n,item:r}=e,[o,c]=(0,i.useState)(!1),[d]=I.Z.useForm(),[u,m]=(0,i.useState)(1),[x,h]=(0,i.useState)(1),[p,f]=(0,i.useState)({type:"",status:!1}),g=I.Z.useWatch("VideoUrl",d);(0,i.useEffect)(()=>{r?d.setFieldsValue(r):d.setFieldsValue({Type:1})},[o]);let v=()=>{E(),c(!0)},j=()=>{c(!1)},y=async e=>{f({type:"UPLOAD_VIDEO",status:!0});try{let t=await M.upload(e);if(200==t.status)return(0,N.fr)("success",t.data.message),t}catch(e){(0,H.xZ)(e)}finally{f({type:"UPLOAD_VIDEO",status:!1})}},[b,T]=(0,i.useState)([]);async function E(){try{let e=await R.t.getAll({search:"",pageIndex:1,pageSize:9999});200===e.status&&T(e.data.data)}catch(e){(0,H.xZ)(e)}}return(0,a.jsxs)("div",{className:"antd-custom-wrap",children:["add"==n?(0,a.jsx)("div",{className:"px-1 mt-3 flex justify-center",children:(0,a.jsxs)("button",{onClick:()=>v(),className:"w-fit my-1 flex items-center justify-center",children:[(0,a.jsx)(C.yTz,{size:18,className:"text-tw-black font-bold mr-2"})," ",(0,a.jsx)("span",{className:"text-tw-black text-bold text-base ",children:"Th\xeam b\xe0i học"})]})}):(0,a.jsx)(w.Z,{type:"button",color:"edit"==n?"green":"red",icon:n,onClick:e=>{e.stopPropagation(),v()},className:"mt-2",tooltip:"edit"==n?"Sửa b\xe0i học":(null==r?void 0:r.ExamId)?"X\xf3a b\xe0i tập":"X\xf3a b\xe0i học"}),(0,a.jsx)(S.Z,{className:"antd-custom-wrap",title:"add"==n?"Th\xeam b\xe0i học":"edit"==n?"Sửa b\xe0i học":"X\xf3a b\xe0i học",visible:o,onCancel:j,footer:null,children:(0,a.jsx)(I.Z,{onClick:e=>e.stopPropagation(),layout:"vertical",form:d,onFinish:e=>{let t={...e,VideoUrl:function(e){if("string"!=typeof e)return"";let t="https://www.youtube.com/embed/";if(-1!==e.indexOf("youtube.com/watch")){let s=e.match(/[?&]v=([^&]+)/);if(s)return t+s[1]}if(e.includes("https://youtu.be")){let s=e.match(/youtu\.be\/([^\?]+)/);if(s)return t+s[1]}if(e.includes("<iframe")&&e.includes("youtube.com")){let s=document.createElement("div");s.innerHTML=e;let a=s.querySelector("iframe").getAttribute("src").match(/\/embed\/([^\?]+)/);if(a)return t+a[1]}if(e.includes("youtube.com/embed")){let s=e.split("/").pop(),a=s.indexOf("?");return -1!==a?s.substring(0,a):t+s}return t+e}(e.VideoUrl)};console.log("--- SUBMIT_DATA: ",t),"add"==n?s&&s({...t,FileType:2==x?"LinkYoutube":"FileUpload",Type:u}).then(e=>{e&&(j(),d.resetFields())}):s&&s&&s({...t,Id:r.Id,FileType:2==x?"LinkYoutube":"FileUpload",Type:u}).then(e=>{j(),d.resetFields()})},children:(0,a.jsxs)("div",{className:"grid grid-flow-row",children:["remove"==n?(0,a.jsx)("div",{className:"grid-cols-1",children:(0,a.jsx)("p",{className:"text-base mb-4",children:"Bạn c\xf3 chắc muốn x\xf3a b\xe0i học n\xe0y?"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid-cols-1",children:(0,a.jsx)(Z.Z,{name:"Name",label:"B\xe0i học",placeholder:"Nhập t\xean b\xe0i học"})}),1==u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(F.ZP.Group,{className:"mb-2",onChange:e=>{(0,H.Gv)(g)?h(e.target.value):!0==confirm("Thay đổi c\xe1ch thức upload kh\xe1c sẽ x\xf3a dữ liệu video đ\xe3 nhập trước đ\xf3. Bạn c\xf3 muốn tiếp tục?")&&(d.setFieldValue("VideoUrl",null),h(e.target.value))},value:x,disabled:null==p?void 0:p.status,children:[(0,a.jsx)(F.ZP,{value:1,children:"Tải l\xean video"}),(0,a.jsx)(F.ZP,{value:2,children:"Đường dẫn Youtube"})]}),1==x?(0,a.jsx)("div",{className:"grid-cols-1 mt-[8px]",children:(0,a.jsx)(V,{name:"VideoUrl",label:"",form:d,buttonText:"Tải video l\xean",onChangeFile:y})}):(0,a.jsx)("div",{className:"grid-cols-1 mt-[8px]",children:(0,a.jsx)(Z.Z,{name:"VideoUrl",label:"",placeholder:"Nhập đường dẫn video"})})]}):(0,a.jsx)("div",{className:"grid-cols-1",children:(0,a.jsx)(_.Z,{name:"ExamId",optionList:(t=[],b.forEach(e=>{t.push({value:null==e?void 0:e.Id,title:"[".concat(null==e?void 0:e.Code,"] - ").concat(null==e?void 0:e.Name)})}),t),label:"Đề kiểm tra",placeholder:"Chọn đề kiểm tra"})})]}),(0,a.jsx)("div",{className:"grid-cols-1 flex justify-center",children:(0,a.jsx)(D.Z,{disable:"SUBMIT_LESSON"==l.type&&l.status||"UPLOAD_VIDEO"==p.type&&p.status,loading:"SUBMIT_LESSON"==l.type&&l.status,background:"add"==n?"blue":"edit"==n?"blue":"red",type:"submit",children:(0,a.jsx)("span",{children:"remove"==n?"X\xe1c nhận":"Lưu"}),icon:"add"==n?"save":"edit"==n?"save":"remove"})})]})})})]})},Y=s(85340),z=s(11583),G=s(77024),X=s(28853),q=s(48506),K=s(57259),Q=s(69759),J=function(){return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"flex w-full justify-between",children:[(0,a.jsx)(y.Z,{active:!0,paragraph:!1,className:"w-[50%]"}),(0,a.jsx)(y.Z,{active:!0,paragraph:!1,className:"w-[100px]"})]}),(0,a.jsxs)("div",{className:"flex w-full justify-between mt-[8px]",children:[(0,a.jsx)(y.Z,{active:!0,paragraph:!1,className:"w-[60px]"}),(0,a.jsxs)("div",{className:"w-[150px] flex",children:[(0,a.jsx)(y.Z,{active:!0,paragraph:!1,className:"flex-[1] mr-[16px]"}),(0,a.jsx)(y.Z,{active:!0,paragraph:!1,className:"flex-[2]"})]})]}),(0,a.jsxs)("div",{className:"flex w-full mt-[16px]",children:[(0,a.jsx)(p.Z,{className:"flex-1 mr-[16px]",children:(0,a.jsxs)("div",{className:"flex flex-row items-center",children:[(0,a.jsx)(y.Z.Avatar,{active:!0}),(0,a.jsxs)("div",{className:"flex-1 ml-[16px]",children:[(0,a.jsx)(y.Z,{active:!0,paragraph:!1,className:"w-[50px]"}),(0,a.jsx)(y.Z,{active:!0,paragraph:!1,className:"w-[20px] mt-[8px]"})]})]})}),(0,a.jsx)(p.Z,{className:"flex-1 mr-[16px]",children:(0,a.jsxs)("div",{className:"flex flex-row items-center",children:[(0,a.jsx)(y.Z.Avatar,{active:!0}),(0,a.jsxs)("div",{className:"flex-1 ml-[16px]",children:[(0,a.jsx)(y.Z,{active:!0,paragraph:!1,className:"w-[50px]"}),(0,a.jsx)(y.Z,{active:!0,paragraph:!1,className:"w-[20px] mt-[8px]"})]})]})}),(0,a.jsx)(p.Z,{className:"flex-1",children:(0,a.jsxs)("div",{className:"flex flex-row items-center",children:[(0,a.jsx)(y.Z.Avatar,{active:!0}),(0,a.jsxs)("div",{className:"flex-1 ml-[16px]",children:[(0,a.jsx)(y.Z,{active:!0,paragraph:!1,className:"w-[50px]"}),(0,a.jsx)(y.Z,{active:!0,paragraph:!1,className:"w-[20px] mt-[8px]"})]})]})})]}),(0,a.jsxs)("div",{className:"flex flex-row items-center justify-center mt-[32px]",children:[(0,a.jsx)(y.Z,{active:!0,paragraph:!1,className:"w-[120px] highter-skeleton"}),(0,a.jsx)(y.Z,{active:!0,paragraph:!1,className:"ml-[8px] w-[70px] highter-skeleton"})]})]})},W=s(48895),$=s(37642),ee=s(31339),et=s(36946),es=s(30381),ea=s.n(es),el=s(42006),en=function(e){let{visible:t,setVisible:s,exam:l,name:n}=e,r=(0,c.I0)(),o=(0,c.v9)(e=>e.testingState.details),d=(0,c.v9)(e=>e.user.information),[u,m]=(0,i.useState)([]),[x,h]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!1);async function g(){try{let e=await R.t.getByID(parseInt((0,ee.Jx)(l+"")));200==e.status?r((0,et.Ok)(e.data.data)):r((0,et.Ok)([]))}catch(e){(0,N.fr)("error",null==e?void 0:e.message)}finally{h(!1)}}async function v(){let e={examId:parseInt((0,ee.Jx)(l+"")),studentId:(0,el.is)(d).student?parseInt(d.UserInformationId+""):void 0,videoCourseId:null,pageSize:999999,pageIndex:1};try{let t=await K.m.get(e);200==t.status?m(t.data.data):m([])}catch(e){(0,N.fr)("error",null==e?void 0:e.message)}finally{h(!1)}}function j(t){let s={video:null==e?void 0:e.LessonVideoId,exam:null==t?void 0:t.Id,point:null==t?void 0:t.MyPoint,pass:null==t?void 0:t.PassPoint,passed:null==t?void 0:t.IsPass,ceated:null==t?void 0:t.CreatedOn};window&&window.open("/exercise/history-detail/?"+"exam=".concat((0,ee.cv)(JSON.stringify(s))),"_blank")}(0,i.useEffect)(()=>{t&&(l?(h(!0),g(),v()):(0,N.fr)("error","Kh\xf4ng t\xecm thấy b\xe0i tập"))},[t]);let y=()=>(0,a.jsxs)("div",{className:"top-header-exam",children:[(0,a.jsxs)("div",{className:"top-header-exam-title",children:["Đề: ",null==o?void 0:o.Name]}),(0,a.jsxs)("div",{className:"top-header-exam-code",children:["M\xe3 đề: ",null==o?void 0:o.Code]})]});return(0,a.jsxs)(S.Z,{centered:!0,closable:!1,title:null,width:700,open:t,onCancel:()=>s(!1),footer:null,children:[x&&!(null==o?void 0:o.Name)&&(0,a.jsx)(J,{}),!!(null==o?void 0:o.Name)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"preview-exam-container",children:[!p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y,{}),(0,a.jsx)(Q.cL,{data:o})]}),p&&(0,a.jsxs)("div",{className:"col-span-8",children:[(0,a.jsx)(y,{}),(0,a.jsx)("div",{className:"hidden w690:!block mt-[16px]",children:(0,a.jsx)(W.Z,{columns:[{title:"Thời gian l\xe0m",dataIndex:"CreatedOn",render:(e,t)=>(0,a.jsx)("p",{className:"font-semibold",children:ea()(e).format("HH:mm - DD/MM/YYYY")})},{width:70,title:"Điểm",dataIndex:"MyPoint",render:(e,t)=>(0,a.jsx)("p",{className:"font-semibold",children:e})},{width:90,title:"Điểm s\xe0n",dataIndex:"PassPoint",render:(e,t)=>(0,a.jsx)("p",{className:"font-semibold",children:e})},{width:100,title:"Tổng điểm",dataIndex:"TotalPoint",render:(e,t)=>(0,a.jsx)("p",{className:"font-semibold",children:e})},{title:"Trạng th\xe1i",dataIndex:"IsPass",render:(e,t)=>(0,a.jsxs)("p",{className:"font-semibold",children:[!!e&&(0,a.jsx)($.Z,{color:"green",children:"Đạt"}),!e&&(0,a.jsx)($.Z,{color:"red",children:"Kh\xf4ng đạt"})]})},{align:"center",width:120,title:"Chức năng",dataIndex:"StatusId",render:(e,t)=>(0,a.jsx)(G.Z,{title:"Xem chi tiết",children:(0,a.jsx)(w.Z,{onClick:()=>j(t),type:"button",color:"blue",icon:"eye"})})}],data:u,loading:x})}),(0,a.jsx)("div",{className:"pre-exam-history",children:(0,a.jsx)(X.ZP,{grid:{gutter:16,xs:1,sm:2,md:2,lg:2,xl:2,xxl:2},pagination:!1,dataSource:u,renderItem:(e,t)=>(0,a.jsx)(X.ZP.Item,{className:"none-selection",children:(0,a.jsxs)("div",{className:"pr-ex-hi-item",children:[(0,a.jsxs)("div",{className:"text-16-600",children:["Thời gian l\xe0m: ",ea()(e.CreatedOn).format("HH:mm - DD/MM/YYYY")]}),(0,a.jsxs)("div",{className:"text-14-400 text-black",children:["Điểm đạt được: ",e.MyPoint]}),(0,a.jsxs)("div",{className:"text-14-400 text-black",children:["Điểm s\xe0n: ",e.PassPoint]}),(0,a.jsxs)("div",{className:"text-14-400 text-black",children:["Trạng th\xe1i:",(0,a.jsx)("span",{className:e.IsPass?"text-[#46be36]":"text-[red]",children:e.IsPass?" Đạt":" Chưa đạt"})]}),(0,a.jsx)(D.Z,{onClick:()=>j(e),className:"mt-2",background:"blue",icon:"eye",type:"button",children:"Xem chi tiết"})]})})})})]})]}),(0,a.jsxs)("div",{className:"w-full mt-5 inline-flex items-center justify-center",children:[(0,a.jsxs)(D.Z,{onClick:()=>f(!p),className:"ml-2",background:"yellow",type:"button",children:[p?(0,a.jsx)(q.RxU,{className:"mr-2",size:20}):(0,a.jsx)(q.w0c,{className:"mr-2",size:20}),p?" Xem chi tiết đề":" Lịch sử l\xe0m b\xe0i"]}),(0,a.jsxs)(D.Z,{onClick:()=>{let t="/exercise/testing/?video=".concat(null==e?void 0:e.LessonVideoId,"&exam=").concat(l,"&name=").concat((0,ee.cv)(n));window&&window.open(t,"_blank"),s(!1)},className:"ml-2",background:"blue",type:"button",children:[(0,a.jsx)(Y.HBT,{className:"mr-2",size:20})," L\xe0m b\xe0i"]})]})]})]})},ei=s(58759),er=s(39292);function eo(e){let{item:t,lessonID:s,onFetchData:l,getDataSource:n}=e,[r,o]=(0,i.useState)(!1),[c]=I.Z.useForm(),[d,u]=(0,i.useState)({type:"",status:!1}),m=()=>{o(!1)},x=()=>{o(!0)},h=async e=>{try{let t=await M.upload(e);if(200==t.status)return(0,N.fr)("success",t.data.message),t}catch(e){(0,N.fr)("error",e.message)}},p=async e=>{u({type:"SUBMIT",status:!0});try{let t=await M.add({FileName:e.FileUrl.file.originFileObj.name,LessonVideoId:s,FileUrl:c.getFieldValue("FileUrl")});200==t.status&&(m(),l&&l(),c.resetFields(),(0,N.fr)("success",t.data.message),n())}catch(e){(0,N.fr)("error",e.message)}finally{u({type:"SUBMIT",status:!1})}};return(0,a.jsxs)("div",{children:[(0,a.jsx)(D.Z,{background:"green",type:"button",children:(0,a.jsx)("span",{children:"Th\xeam t\xe0i liệu"}),icon:"add",onClick:()=>{x()}}),(0,a.jsx)(S.Z,{title:"Th\xeam t\xe0i liệu",visible:r,onCancel:()=>{m()},footer:null,children:(0,a.jsx)(I.Z,{layout:"vertical",onFinish:p,children:(0,a.jsxs)("div",{className:"grid grid-flow-row antd-custom-wrap",children:[(0,a.jsx)("div",{className:"grid-cols-1",children:(0,a.jsx)(V,{label:"Tệp tải l\xean",name:"FileUrl",form:c,buttonText:"Bấm để tải tệp l\xean",isRequired:!0,onChangeFile:h,rules:[{required:!0,message:"Xin h\xe3y chọn tệp!"}]})}),(0,a.jsx)("div",{className:"grid-cols-1 flex justify-center",children:(0,a.jsx)(D.Z,{background:"blue",loading:"SUBMIT"==d.type&&d.status,type:"submit",children:(0,a.jsx)("span",{children:"Lưu"}),icon:"save"})})]})})})]})}function ec(e){let{lessonID:t,UserID:s}=e,[l,n]=(0,i.useState)(!1),[r,o]=(0,i.useState)(null),[c,d]=(0,i.useState)({type:"",status:!1}),[u,m]=(0,i.useState)({pageIndex:1,pageSie:er.I}),x=()=>{n(!1)},h=()=>{n(!0),g()},g=async()=>{d({type:"GET_ALL",status:!0});try{let e=await M.getByLessonID(t);200==e.status&&o(e.data.data),204===e.status&&o([])}catch(e){(0,N.fr)("error",e.message)}finally{d({type:"GET_ALL",status:!1})}},v=async e=>{d({type:"DELETE",status:!0});try{let t=await M.delete(e.Id);200==t.status&&((0,N.fr)("success",t.data.message),m({...u}),g())}catch(e){(0,N.fr)("error",e.message)}finally{d({type:"DELETE",status:!1})}};return(0,a.jsxs)("div",{children:[(0,a.jsx)(w.Z,{type:"button",icon:"document",color:"blue",onClick:()=>h(),className:"mt-2",tooltip:"Xem t\xe0i liệu"}),(0,a.jsx)(S.Z,{title:"Danh s\xe1ch t\xe0i liệu",visible:l,width:700,onCancel:()=>x(),footer:"1"==s&&(0,a.jsx)(eo,{lessonID:t,getDataSource:g,onFetchData:()=>m({...u})}),children:(0,a.jsx)(p.Z,{children:r?(0,a.jsx)(a.Fragment,{children:r.map(e=>{var t;let l=null===(t=e.FileUrl)||void 0===t?void 0:t.split(".")[e.FileUrl.split(".").length-1];return(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2.5 last-of-type:mb-0 group hover:bg-tw-primary-lightest px-4 py-2 rounded-md",children:[(0,a.jsxs)("div",{className:"flex gap-2 justify-start items-center select-none",children:[("xlsx"==l||"xls"==l)&&(0,a.jsx)(B.bBH,{size:24}),("doc"==l||"docx"==l||"txt"==l)&&(0,a.jsx)(U.Mk3,{size:24}),"pdf"==l&&(0,a.jsx)(U.cdp,{size:24}),"zip"==l&&(0,a.jsx)(U.nzh,{size:24}),("ppt"==l||"pps"==l)&&(0,a.jsx)(U.Cw$,{size:24}),("png"==l||"jpg"==l)&&(0,a.jsx)(U.B7O,{size:24}),(0,a.jsx)("p",{className:"text-base font-bold line-clamp-1",children:e.FileName})]}),(0,a.jsxs)("div",{className:"gap-2 hidden group-hover:flex",children:[(0,a.jsx)(w.Z,{type:"button",icon:"download",color:"green",onClick:()=>{window.open(e.FileUrl,"_blank")},tooltip:"Tải tệp"}),"1"==s&&(0,a.jsx)(w.Z,{type:"button",icon:"remove",color:"primary",onClick:()=>{v(e)},tooltip:"X\xf3a tệp"})]})]})})}):(0,a.jsx)(f.Z,{})})})]})}var ed=i.memo(e=>{let{item:t,index:s,disabledAll:l,lesson:r,setLessonSelected:o,setOpenMenuCourse:d}=e,{isChangePositionLesson:u,onChangePosition:m,isLoading:x,onUpdateSection:h,onRemoveSection:p,onCompletedLesson:f}=e,[g,v]=(0,n.v1)("lessonId",n.U.withDefault(0)),y=(0,c.v9)(e=>e.user.information);function w(){return(null==y?void 0:y.RoleId)==1}function I(){return(null==y?void 0:y.RoleId)==4}function C(){return(null==y?void 0:y.RoleId)==7}let[S,Z]=(0,i.useState)(!1);function D(e){(null==e?void 0:e.ExamId)?Z(!0):v(null==e?void 0:e.Id),d(!1)}return(0,i.useEffect)(()=>{g===(null==t?void 0:t.Id)&&o(t)},[g]),(0,a.jsxs)(a.Fragment,{children:[!!(null==t?void 0:t.ExamId)&&(0,a.jsx)(en,{LessonVideoId:null==t?void 0:t.Id,slug:null==t?void 0:t.ExamId,name:t.Name,visible:S,setVisible:()=>Z(!1)}),(0,a.jsxs)("div",{className:"video-section-container group ".concat(g==t.Id?"bg-[#d0d8e4]":"bg-[#fff]"," ").concat((null==y?void 0:y.RoleId)==1?"cursor-pointer":!!l||!(s-1<0)&&!r[s-1].isCompleted&&"cursor-not-allowed"),onClick:()=>{w()||(null==y?void 0:y.RoleId)==2||I()||C()?D(t):!l&&(s-1<0||r[s-1].isCompleted)?D(t):(0,N.fr)("warning","Bạn chưa ho\xe0n th\xe0nh b\xe0i học ở tr\xean")},children:[(0,a.jsx)(ei.Z,{className:"flex-1",id:"pr-tip-".concat(t.Id),place:"top",content:t.Name,children:(0,a.jsxs)("div",{className:"video-section-body ".concat(g==t.Id?"text-[#151515] font-bold":"text-tw-black"),children:[(0,a.jsx)("span",{className:"my-auto",children:1==t.Type?(0,a.jsx)(z.UFz,{size:22}):(0,a.jsx)(Y.HBT,{size:20})}),(0,a.jsxs)("div",{className:"flex-1 ml-[8px]",children:[(0,a.jsx)("span",{className:"video-section-title",children:t.Name}),1==t.Type&&(0,a.jsxs)("span",{className:"video-section-time",children:[t.Minute," ph\xfat"]})]})]})}),(0,a.jsxs)("div",{className:"flex justify-end align-center",children:[(w()||I()||C())&&(0,a.jsx)(a.Fragment,{children:u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"text-2xl mr-2 m-2 ".concat(0==s?"cursor-not-allowed  text-tw-disable":"cursor-pointer  text-tw-green"),onClick:()=>m(t,r[s-1]),disabled:0==s,children:(0,a.jsx)(b.OeJ,{})}),(0,a.jsx)("button",{className:"text-2xl mr-2 m-2  ".concat(s==r.length-1?"cursor-not-allowed  text-tw-disable":"cursor-pointer text-tw-red"),onClick:()=>m(t,r[s+1]),disabled:s==r.length-1,children:(0,a.jsx)(b.UJB,{})})]}):(0,a.jsxs)("div",{className:"flex justify-center items-center",children:[!(null==t?void 0:t.ExamId)&&(0,a.jsx)(ec,{lessonID:t.Id,UserID:null==y?void 0:y.RoleId}),!(null==t?void 0:t.ExamId)&&(0,a.jsx)(P,{item:t,mode:"edit",isLoading:x,onSubmit:h}),(0,a.jsx)(P,{item:t,mode:"remove",isLoading:x,onSubmit:p})]})}),(null==y?void 0:y.RoleId)=="3"&&(0,a.jsxs)("div",{className:"flex justify-center items-center",children:[!(null==t?void 0:t.ExamId)&&(0,a.jsx)(ec,{lessonID:t.Id,UserID:null==y?void 0:y.RoleId}),!(null==t?void 0:t.ExamId)&&(0,a.jsx)(j.Z,{disabled:l||(t.isCompleted?t.isCompleted:!(s-1<0)&&!r[s-1].isCompleted),onChange:e=>f(e,t.Id),checked:t.isCompleted}),(null==t?void 0:t.ExamId)&&t.isCompleted&&(0,a.jsx)(j.Z,{disabled:l||(t.isCompleted?t.isCompleted:!(s-1<0)&&!r[s-1].isCompleted),onChange:e=>f(e,t.Id),checked:t.isCompleted})]})]})]})]})}),eu=(0,i.memo)(e=>{let{sectionIndex:t,isChangePositionLesson:s,disabledAll:l,getSection:r,setOpenMenuCourse:o}=e,{Item:d,setLessonSelected:u}=e,[m,x]=(0,i.useState)({type:"",status:!1}),[h,p]=(0,i.useState)(),[f,g]=(0,n.v1)("lessonId",n.U.withDefault(0)),v=(0,c.v9)(e=>e.user.information);(0,i.useEffect)(()=>{(null==h?void 0:h.length)>0&&!f&&g(null==h?void 0:h[0].Id)},[h]);let j=async()=>{x({type:"GET_ALL",status:!0});try{let e=await k.getBySectionID(d.Id);200==e.status&&p(e.data.data),204==e.status&&p([])}catch(e){(0,N.fr)("error",e.message)}finally{x({type:"GET_ALL",status:!1})}},b=async(e,t)=>{try{console.log("onCompleted");let e=await k.complete(t);200==e.status&&(await j(),r())}catch(e){(0,N.fr)("error",e.message)}},w=async(e,t)=>{x({type:"CHANGE_POSITION",status:!0});try{let s=await k.updateIndex({Items:[{Id:t.Id,Index:e.Index},{Id:e.Id,Index:t.Index}]});200==s.status&&((0,N.fr)("success",s.data.message),j())}catch(e){(0,N.fr)("error",e.message)}finally{x({type:"CHANGE_POSITION",status:!1})}},I=(e,t)=>{b(e,t)};(0,i.useEffect)(()=>{j()},[]);let C=async e=>{x({type:"SUBMIT_LESSON",status:!0});try{let t=await k.add({SectionId:d.Id,Type:e.Type,Name:e.Name,FileType:e.FileType,VideoUrl:e.VideoUrl&&e.VideoUrl,ExamId:e.ExamId&&e.ExamId});return 200==t.status&&j(),!0}catch(e){(0,N.fr)("error",e.message)}finally{x({type:"SUBMIT_LESSON",status:!1})}},S=async e=>{x({type:"SUBMIT_SECTION",status:!0});try{let t=await k.update({Name:e.Name,VideoUrl:e.VideoUrl,ExamTopicId:e.VideoUrl,Id:e.Id,...e});return 200==t.status&&((0,N.fr)("success",t.data.message),j()),!0}catch(e){(0,N.fr)("error",e.message)}finally{x({type:"SUBMIT_SECTION",status:!1})}},Z=async e=>{x({type:"SUBMIT_SECTION",status:!0});try{let t=await k.delete(e.Id);return 200==t.status&&((0,N.fr)("success",t.data.message),j(),g(0)),!0}catch(e){(0,N.fr)("error",e.message)}finally{x({type:"SUBMIT_SECTION",status:!1})}};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)(a.Fragment,{children:"GET_ALL"==m.type&&m.status?(0,a.jsx)(y.Z,{}):null==h?void 0:h.map((e,t)=>(0,a.jsx)(ed,{setLessonSelected:u,isChangePositionLesson:s,onUpdateSection:S,onRemoveSection:Z,onCompletedLesson:I,onChangePosition:w,lesson:h,isLoading:m,disabledAll:l,item:e,index:t,setOpenMenuCourse:o},t))})}),((null==v?void 0:v.RoleId)==1||(null==v?void 0:v.RoleId)==4||(null==v?void 0:v.RoleId)==7)&&(0,a.jsx)(P,{mode:"add",isLoading:m,onSubmit:C})]})})}),em=e=>{let{section:t,getSection:s,setLessonSelected:r,isChangePositionSection:o,setOpenMenuCourse:d}=e,u=(0,c.v9)(e=>e.user.information),[m,h]=(0,i.useState)(!1),[p,f]=(0,n.v1)("currentSectionId",n.U.withDefault(0)),[g,I]=(0,i.useState)({type:"",status:!1}),C=(0,l.useRouter)(),S=async e=>{I({type:"SUBMIT_SECTION",status:!0});try{let t=await x.update({Id:Number(e.Id),Name:e.Name});return 200==t.status&&(s(),(0,N.fr)("success",t.data.message)),!0}catch(e){(0,N.fr)("error",e.message)}finally{I({type:"SUBMIT_SECTION",status:!1})}},Z=async e=>{I({type:"SUBMIT_SECTION",status:!0});try{let t=await x.delete(e.Id);return 200==t.status&&(s(),(0,N.fr)("success",t.data.message)),!0}catch(e){(0,N.fr)("error",e.message)}finally{I({type:"SUBMIT_SECTION",status:!1})}},D=async(e,t)=>{I({type:"CHANGE_POSITION",status:!0});try{let a=await x.updateIndex({Items:[{Id:t.Id,Index:e.Index},{Id:e.Id,Index:t.Index}]});200==a.status&&((0,N.fr)("success",a.data.message),s())}catch(e){(0,N.fr)("error",e.message)}finally{I({type:"CHANGE_POSITION",status:!1})}},E=async e=>{I({type:"SUBMIT_SECTION",status:!0});try{let t=await x.add({VideoCourseId:Number(C.query.slug),Name:e.Name});return 200==t.status&&s(),!0}catch(e){(0,N.fr)("error",e.message)}finally{I({type:"SUBMIT_SECTION",status:!1})}};return(0,a.jsx)(a.Fragment,{children:t?(0,a.jsxs)("div",{className:"video-course-section scrollbar antd-custom-wrap",children:[(0,a.jsx)(v.default,{className:"".concat((null==u?void 0:u.RoleId)==="1"?"collapse-wrap-admin":"collapse-wrap"),defaultActiveKey:[p],collapsible:"header",expandIconPosition:"end",onChange:e=>{f(Number(e[e.length-1]))},children:t.map((e,l)=>(0,a.jsx)(v.default.Panel,{header:(0,a.jsxs)("div",{className:"flex mt-2",children:[(null==u?void 0:u.RoleId)=="3"&&(0,a.jsx)(j.Z,{disabled:!0,onChange:e=>{},checked:e.isCompleted}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"ml-2 font-bold text-tw-primary in-1-line",children:e.Name}),(0,a.jsxs)("span",{className:"ml-2 text-[12px] text-[#838383] in-1-line",children:[e.Minute," ph\xfat"]})]})]}),extra:(null==u?void 0:u.RoleId)==="1"&&(0,a.jsx)(a.Fragment,{children:o?(0,a.jsxs)("div",{className:"flex justify-center items-center",children:[(0,a.jsx)("button",{className:"text-2xl mr-2 m-2 ".concat(0==l?"cursor-not-allowed  text-tw-disable":"cursor-pointer  text-tw-green"),onClick:()=>D(e,t[l-1]),disabled:0==l,children:(0,a.jsx)(b.OeJ,{})}),(0,a.jsx)("button",{className:"text-2xl mr-2 m-2  ".concat(l==t.length-1?"cursor-not-allowed  text-tw-disable":"cursor-pointer text-tw-red"),onClick:()=>D(e,t[l+1]),disabled:l==t.length-1,children:(0,a.jsx)(b.UJB,{})})]}):(0,a.jsxs)("div",{className:"flex justify-center items-center",children:[(0,a.jsx)(w.Z,{className:"!mt-[6px]",type:"button",icon:"exchange",color:"yellow",onClick:()=>h(!m),tooltip:"Đổi vị tr\xed b\xe0i học"}),(0,a.jsx)(T,{item:e,mode:"edit",isLoading:g,onSubmit:S}),(0,a.jsx)(T,{item:e,mode:"remove",isLoading:g,onSubmit:Z})]})}),children:(0,a.jsx)(eu,{disabledAll:0!=l&&!t[l-1].isCompleted,User:u,Item:e,isChangePositionLesson:m,setLessonSelected:r,sectionIndex:l,getSection:s,setOpenMenuCourse:d})},null==e?void 0:e.Id))}),((null==u?void 0:u.RoleId)==7||(null==u?void 0:u.RoleId)==1||(null==u?void 0:u.RoleId)==4)&&(0,a.jsx)("div",{className:"flex gap-2 justify-center items-center p-4",children:(0,a.jsx)(T,{mode:"add",isLoading:g,onSubmit:E})})]}):(0,a.jsx)("div",{className:"px-4 py-2",children:(0,a.jsx)(y.Z,{active:!0})})})},ex=s(30653),eh=s(78160),ep=e=>{let{courseDetail:t,User:s,onFetchData:l}=e,[n]=I.Z.useForm(),[r,o]=(0,i.useState)({type:"",status:!1}),c=async e=>{o({type:"SUBMIT_VIDEO",status:!0});try{let s=await d.B.update({Id:t.Id,Description:e.Description});200==s.status&&(0,N.fr)("success",s.data.message)}catch(e){(0,N.fr)("error",e.message)}finally{o({type:"SUBMIT_VIDEO",status:!1})}};return(0,a.jsx)("div",{className:"",children:(null==s?void 0:s.RoleId)=="1"?(0,a.jsx)(I.Z,{layout:"vertical",form:n,onFinish:c,children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)(I.Z.Item,{className:"col-span-4 mb-0",label:"Nội dung",name:"Description",children:(0,a.jsx)(eh.Z,{id:"content-".concat(new Date().getTime()),height:210,initialValue:(null==t?void 0:t.Description)||"",onChange:e=>n.setFieldValue("Description",e)})})}),(0,a.jsx)("div",{className:"flex justify-center mt-[16px]",children:(0,a.jsx)(D.Z,{disable:"SUBMIT_VIDEO"==r.type&&r.status,loading:"SUBMIT_VIDEO"==r.type&&r.status,background:"primary",type:"submit",icon:"save",children:"Lưu thay đổi"})})]})}):(0,a.jsx)("div",{className:"flex flex-col items-start",children:(0,a.jsx)("div",{className:"custom-view-editor",children:(null==t?void 0:t.Description)?(0,ex.ZP)(null==t?void 0:t.Description):(0,ex.ZP)("<span>Kh\xf4ng c\xf3 giới thiệu kh\xf3a học!</span>")})})})};let ef="/api/NotificationInVideo",eg={getAll:e=>u.e.get("".concat(ef),{params:e}),addNotification:e=>u.e.post("".concat(ef),e)};var ev=s(63242),ej=s(57844),ey=s(17298);function eb(e){let{videoCourseID:t}=e,[s,l]=(0,i.useState)(),[n,r]=(0,i.useState)({pageIndex:1,pageSize:er.I,videoCourseId:t}),[o,d]=(0,i.useState)(!1),u=()=>{d(!1)},m=async()=>{try{let e=await eg.getAll(n);200==e.status&&l(e.data.data),204==e.status&&l([])}catch(e){(0,N.fr)("error",e.message)}finally{}};(0,i.useEffect)(()=>{m()},[n]);let x=async e=>{try{let s=await eg.addNotification({...e,VideoCourseId:t});200==s.status&&((0,N.fr)("success",s.data.message),u(),r({...n}))}catch(e){(0,N.fr)("error",e.message)}},h=(0,c.v9)(e=>e.user.information),[p]=I.Z.useForm();return(0,a.jsxs)("div",{children:[((null==h?void 0:h.RoleId)==1||(null==h?void 0:h.RoleId)==7||(null==h?void 0:h.RoleId)==4)&&(0,a.jsx)(D.Z,{background:"green",className:"mb-tw-4",type:"button",icon:"add",onClick:()=>{d(!0)},children:"Th\xeam th\xf4ng b\xe1o"}),(0,a.jsx)("div",{children:null==s?void 0:s.map((e,t)=>(0,a.jsxs)("div",{className:"bg-[#f0f0f0] px-[14px] py-[8px] rounded-lg mb-tw-4 last:mb-tw-0",children:[(0,a.jsx)("div",{className:"flex gap-2 justify-start items-end",children:(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[e.CreatedBy," "]})}),(0,a.jsx)("p",{className:"text-[#949494] text-[14px]",children:ea()(e.CreatedOn).format("DD/MM/YYYY HH:mm")}),(0,a.jsx)("p",{className:"font-bold text-[16px] mt-[8px]",children:e.Title}),(0,a.jsx)("p",{children:e.Content})]},t))}),(0,a.jsx)(S.Z,{title:"Th\xeam th\xf4ng b\xe1o",onCancel:u,open:o,footer:(0,a.jsx)(ej.Z,{onOK:()=>p.submit()}),children:(0,a.jsx)(I.Z,{form:p,layout:"vertical",onFinish:x,children:(0,a.jsxs)("div",{className:"grid grid-flow-row antd-custom-wrap",children:[(0,a.jsx)("div",{className:"grid-cols-1",children:(0,a.jsx)(Z.Z,{label:"Ti\xeau đề",name:"Title",placeholder:"Nhập ti\xeau đề",rules:ey.i,isRequired:!0})}),(0,a.jsx)("div",{className:"grid-cols-1",children:(0,a.jsx)(ev.Z,{rows:7,label:"Nội dung th\xf4ng b\xe1o",name:"Content",placeholder:"Nhập nội dung th\xf4ng b\xe1o",isRequired:!0,rules:ey.i})})]})})})]})}let eN="/api/QuestionInVideo",ew={getAll:e=>u.e.get("".concat(eN),{params:e}),addQuestion:e=>u.e.post("".concat(eN),e),deleteQuestion:e=>u.e.delete("".concat(eN,"/").concat(e))};var eI=s(46556),eC=s(38892);let eS="/api/AnswerInVideo",eZ={getAll:e=>u.e.get("".concat(eS,"/GetByQuestion/").concat(e)),addQuestion:e=>u.e.post("".concat(eS),e),deleteQuestion:e=>u.e.delete("".concat(eS,"/").concat(e))};function eD(e){var t;let{Item:s,onFetchData:l}=e,n=(0,c.v9)(e=>e.user.information.RoleId),[r,o]=(0,i.useState)(),[d,u]=(0,i.useState)({type:"",status:!1}),[m,x]=(0,i.useState)(!1),[h,p]=(0,i.useState)(""),f=async()=>{u({type:"GET_ALL",status:!0});try{let e=await eZ.getAll(s.Id);200==e.status?(o(e.data.data),x(!1)):o([])}catch(e){}finally{u({type:"GET_ALL",status:!1})}};(0,i.useEffect)(()=>{s&&f()},[s]);let g=async()=>{u({type:"ADD_ANSWER",status:!0});try{let e=await eZ.addQuestion({QuestionInVideoId:s.Id,Content:h});200==e.status&&((0,N.fr)("success",e.data.message),f())}catch(e){(0,N.fr)("error",e.message)}finally{u({type:"ADD_ANSWER",status:!1})}},v=async e=>{u({type:"REMOVE",status:!0});try{let t=await eZ.deleteQuestion(e.Id);200==t.status&&((0,N.fr)("success",t.data.message),f())}catch(e){(0,N.fr)("error",e.message)}finally{u({type:"REMOVE",status:!1})}},j=async e=>{u({type:"ADD_QUESTION",status:!0});try{let t=await ew.deleteQuestion(e.Id);200==t.status&&((0,N.fr)("success",t.data.message),l&&l())}catch(e){(0,N.fr)("error",e.message)}finally{u({type:"ADD_QUESTION",status:!1})}};return(0,a.jsxs)("div",{className:"mb-4 antd-custom-wrap",children:[(0,a.jsxs)("div",{className:"flex gap-2 justify-start items-center",children:[(0,a.jsx)("img",{className:"w-9 h-9 rounded-full",src:(null===(t=s.Avatar)||void 0===t?void 0:t.length)>0?s.Avatar:"/images/default-avatar.svg",alt:"avatar"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:s.FullName})]}),(0,a.jsxs)("div",{className:"flex gap-2 justify-between items-start",children:[(0,a.jsx)("p",{children:s.Content}),"1"==n?(0,a.jsx)(eI.Z,{title:"Bạn x\xe1c nhận x\xf3a c\xe2u hỏi n\xe0y?",okButtonProps:{loading:"REMOVE"==d.type&&d.status},onConfirm:()=>j(s),onCancel:()=>{},okText:"X\xe1c nhận",cancelText:"Hủy",children:(0,a.jsx)(w.Z,{type:"button",icon:"remove",color:"primary",onClick:()=>{},tooltip:""})}):("3"==n||"2"==n)&&Number(n)==Number(s.UserId)?(0,a.jsx)(eI.Z,{title:"Bạn x\xe1c nhận x\xf3a c\xe2u hỏi n\xe0y?",okButtonProps:{loading:"REMOVE"==d.type&&d.status},onConfirm:()=>j(s),onCancel:()=>{},okText:"X\xe1c nhận",cancelText:"Hủy",children:(0,a.jsx)(w.Z,{type:"button",icon:"remove",color:"primary",onClick:()=>{},tooltip:""})}):(0,a.jsx)(a.Fragment,{})]}),(0,a.jsxs)("div",{className:"flex justify-start items-center mb-2",children:[(0,a.jsx)("button",{className:"text-tw-blue font-semibold cursor-pointer opacity-70 hover:opacity-100 mr-2",onClick:()=>x(!m),children:"Trả lời"}),(0,a.jsxs)("span",{children:[" ",ea()(s.CreatedOn).format("DD/MM/YYYY - HH:mm:ss")]})]}),"GET_ALL"==d.type&&d.status?(0,a.jsx)(y.Z,{}):(0,a.jsx)("div",{className:"bg-[#f6f6f6] shadow-sm rounded-md mx-6 px-4 py-3",children:r&&r.length>0?(0,a.jsxs)(a.Fragment,{children:[m&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 h-0 transition-all transition-400 ".concat(m?"h-auto":"h-0"),children:[(0,a.jsx)(eC.default,{rows:4,className:"rounded-lg",onChange:e=>p(e.target.value),placeholder:"Nhập c\xe2u trả lời"}),(0,a.jsx)(D.Z,{background:"blue",disable:"ADD_ANSWER"==d.type&&d.status,loading:"ADD_ANSWER"==d.type&&d.status,type:"button",className:"ml-auto",icon:"save",onClick:g,children:"Phản hồi"})]}),null==r?void 0:r.map((e,t)=>{var s;return(0,a.jsxs)("div",{className:"p-[8px] mb-[8px] border-b border-[#cfcfcf] last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex gap-2 justify-start items-center",children:[(0,a.jsx)("img",{className:"w-9 h-9  rounded-full",src:(null===(s=e.Avatar)||void 0===s?void 0:s.length)>0?e.Avatar:"/images/default-avatar.svg",alt:"avatar"}),(0,a.jsx)("span",{className:" font-bold",children:e.FullName}),(0,a.jsxs)("span",{children:[" ",ea()(e.CreatedOn).format("DD/MM/YYYY - HH:mm:ss")]})]}),(0,a.jsxs)("div",{className:"pl-11 flex gap-2 justify-between items-start",children:[(0,a.jsx)("p",{children:e.Content}),"1"==n?(0,a.jsx)(eI.Z,{title:"Bạn x\xe1c nhận x\xf3a c\xe2u trả lời n\xe0y?",okButtonProps:{loading:"REMOVE"==d.type&&d.status},onConfirm:()=>{v(e)},onCancel:()=>{},okText:"X\xe1c nhận",cancelText:"Hủy",children:(0,a.jsx)(w.Z,{type:"button",icon:"remove",color:"primary",onClick:()=>{},tooltip:""})}):("3"==n||"2"==n)&&Number(n)==Number(e.UserId)?(0,a.jsx)(eI.Z,{title:"Bạn x\xe1c nhận x\xf3a c\xe2u trả lời n\xe0y?",okButtonProps:{loading:"REMOVE"==d.type&&d.status},onConfirm:()=>{v(e)},onCancel:()=>{},okText:"X\xe1c nhận",cancelText:"Hủy",children:(0,a.jsx)(w.Z,{type:"button",icon:"remove",color:"primary",onClick:()=>{},tooltip:""})}):(0,a.jsx)(a.Fragment,{})]})]},t)})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"",children:"Chưa c\xf3 c\xe2u trả lời!"}),m&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 h-0 transition-all transition-400 ".concat(m?"h-auto":"h-0"),children:[(0,a.jsx)(eC.default,{rows:4,className:"rounded-lg",onChange:e=>p(e.target.value),placeholder:"Nhập c\xe2u trả lời"}),(0,a.jsx)(D.Z,{background:"blue",disable:"ADD_ANSWER"==d.type&&d.status,loading:"ADD_ANSWER"==d.type&&d.status,type:"button",className:"ml-auto",icon:"save",onClick:g,children:"Lưu"})]})]})})]})}function eT(e){let t=(0,c.v9)(e=>e.user.information.RoleId),{videoCourseID:s}=e,[l,n]=(0,i.useState)(),[r,o]=(0,i.useState)({type:"",status:!1}),[d,u]=(0,i.useState)({videoCourseId:s,pageSize:er.I,pageIndex:1}),[m,x]=(0,i.useState)(""),h=async()=>{o({type:"GET_ALL",status:!0});try{let e=await ew.getAll(d);200==e.status&&n(e.data.data),204==e.status&&n([])}catch(e){(0,N.fr)("error",e.message)}finally{o({type:"GET_ALL",status:!1})}};(0,i.useEffect)(()=>{h()},[d]);let[p]=I.Z.useForm(),f=async()=>{o({type:"ADD_QUESTION",status:!0});try{let e=await ew.addQuestion({VideoCourseId:s,Content:m});200==e.status&&((0,N.fr)("success",e.data.message),u({...d}),p.resetFields())}catch(e){(0,N.fr)("error",e.message)}finally{o({type:"ADD_QUESTION",status:!1})}};return(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)(I.Z,{form:p,children:(0,a.jsx)("div",{children:("3"==t||"2"==t)&&(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"font-[600]",children:"C\xe2u hỏi của bạn"}),(0,a.jsx)(ev.Z,{name:"Question",rows:4,className:"rounded-lg",onChange:e=>x(e.target.value),placeholder:"Nhập c\xe2u hỏi của bạn"}),(0,a.jsx)(D.Z,{background:"blue",disable:"ADD_ANSWER"==r.type&&r.status,loading:"ADD_ANSWER"==r.type&&r.status,type:"button",className:"ml-auto mt-[-16px]",icon:"save",onClick:f,children:"Gửi c\xe2u hỏi"})]})})}),(0,a.jsx)("div",{children:(0,a.jsx)(X.ZP,{grid:{gutter:16,xs:1,sm:1,md:1,lg:1,xl:1,xxl:1},dataSource:l,renderItem:e=>(0,a.jsx)(eD,{Item:e,onFetchData:()=>u({...d})})})})]})}var eE=s(13462),ek=s(41570);let eF="/api/VideoCourseStudent",eL={getStudentInCourse:e=>u.e.get("".concat(eF,"/GetStudent"),{params:e}),getLearningDetail:(e,t)=>u.e.get("".concat(eF,"/").concat(e,"/GetLearningDetail/").concat(t)),getRate:e=>u.e.get("".concat(eF,"/Rate/").concat(e)),addRate:e=>u.e.post("".concat(eF,"/AddRate"),e)};function eM(e){let t=(0,c.v9)(e=>e.user.information),{videoCourseID:s,onReloadReviewTab:l,courseDetail:n}=e,[r,o]=(0,i.useState)(),[d,u]=(0,i.useState)({type:"",status:!1}),[m,x]=(0,i.useState)(!1),[h,p]=(0,i.useState)(!1),[f,g]=(0,i.useState)({star:null,review:""}),[v,j]=(0,i.useState)(!1),y=()=>{x(!0)},b=()=>{x(!1)},I=async()=>{u({type:"GET_ALL",status:!0}),u({type:"",status:!0});try{let e=await eL.getRate(s);200==e.status&&o(e.data.data),204==e.status&&o([])}catch(e){(0,H.xZ)(e)}finally{u({type:"",status:!1})}};(0,i.useEffect)(()=>{I()},[l]);let C=async e=>{try{let t={VideoCourseId:e.VideoCourseId,MyRate:0,RateComment:""},s=await eL.addRate(t);200==s.status&&(I(),x(!1))}catch(e){(0,H.xZ)(e)}},Z=()=>{j(!1)},T=async()=>{u({type:"ADD_RATE",status:!0}),p(!0);try{let e=await eL.addRate({MyRate:f.star,RateComment:f.review,VideoCourseId:n.Id});200==e.status&&((0,N.fr)("success",e.data.message),Z(),I())}catch(e){(0,H.xZ)(e)}finally{p(!1),u({type:"ADD_RATE",status:!1})}};return(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)(S.Z,{title:"Đ\xe1nh gi\xe1 về kh\xf3a học",visible:v,footer:(0,a.jsx)(ej.Z,{loading:h,onCancel:Z,onOK:()=>T()}),onCancel:Z,children:(0,a.jsxs)("div",{className:"grid gap-2 grid-cols-1",children:[(0,a.jsx)("div",{className:"border-2 rounded-lg border-tw-green mb-tw-2 pt-tw-2 pb-tw-1.5 px-tw-4",children:(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("p",{className:"font-bold text-tw-green",children:"Đ\xe1nh gi\xe1 của bạn"}),(0,a.jsx)(eE.Z,{character:(0,a.jsx)(ek.zs5,{size:35}),onChange:e=>g({...f,star:e}),className:"text-tw-yellow"})]})}),(0,a.jsx)("div",{className:"col-span-1",children:(0,a.jsx)(eC.default,{className:"h-full w-full rounded-xl ",rows:5,placeholder:"Nhận x\xe9t của bạn",onChange:e=>g({...f,review:e.target.value})})})]})}),(0,a.jsxs)("div",{onClick:()=>{j(!0)},className:"mb-[16px] hover:bg-[#efefef] cursor-pointer flex items-center p-[8px] px-[16px] rounded-[6px] w-[340px] pt-[4px] border-[1px] border-solid border-[#e1e1e1]",children:[(0,a.jsx)("p",{className:"font-bold mt-[4px] text-[16px] mr-[8px]",children:"Đ\xe1nh gi\xe1 kh\xf3a học"}),(0,a.jsx)(eE.Z,{defaultValue:null==n?void 0:n.TotalRate,value:null==n?void 0:n.TotalRate,character:(0,a.jsx)(ek.zs5,{size:28}),allowHalf:!0,disabled:!0,className:"text-tw-yellow !cursor-pointer"})]}),null==r?void 0:r.map(e=>(0,a.jsxs)("div",{className:"relative flex gap-4 justify-start items-start mb-tw-6 last:mb-tw-0 bg-[#f4f4f4] p-[8px] rounded-[6px]",children:[(0,a.jsx)("img",{className:"rounded-full w-[50px] h-[50px] max-w-none",src:e.Avatar&&e.Avatar.length>0?e.Avatar:"/images/default-avatar.svg",alt:"avatar reviewer"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[16px] font-[600]",children:e.FullName}),(0,a.jsx)("p",{className:"text-[#949494] text-[14px]",children:ea()(e.CreatedOn).format("DD/MM/YYYY HH:mm")}),(0,a.jsx)("div",{className:"flex gap-2 justify-start items-center text-sm my-2",children:(0,a.jsx)(eE.Z,{defaultValue:e.MyRate,value:e.MyRate,character:(0,a.jsx)(ek.zs5,{size:18}),allowHalf:!0,disabled:!0,className:"text-tw-yellow group-hover:cursor-pointer"})}),(0,a.jsx)("p",{children:e.RateComment})]}),(null==t?void 0:t.RoleId)==="3"&&t.UserInformationId==e.UserId&&(0,a.jsxs)("div",{className:"absolute right-0",children:[(0,a.jsx)(w.Z,{onClick:()=>y(),type:"button",color:"red",icon:"remove",tooltip:"X\xf3a đ\xe1nh gi\xe1"}),(0,a.jsxs)(S.Z,{onCancel:b,title:"X\xf3a đ\xe1nh gi\xe1",visible:m,footer:null,children:[(0,a.jsx)("p",{children:"Bạn c\xf3 chắc muốn x\xf3a đ\xe1nh gi\xe1 n\xe0y?"}),(0,a.jsx)("div",{className:"text-center mt-4",children:(0,a.jsx)(D.Z,{onClick:()=>C(e),type:"button",background:"red",icon:"remove",children:"X\xf3a đ\xe1nh gi\xe1"})})]})]})]}))]})}var eR=s(22292),e_=e=>{let{detailSections:t}=e,[s,l]=(0,i.useState)(!1),n=()=>{l(!0)};return(0,i.useMemo)(()=>{t&&(Object.keys(t).length>0?n():(0,N.fr)("error","Học vi\xean chưa học b\xe0i n\xe0o"))},[t]),(0,a.jsx)(S.Z,{title:(0,a.jsxs)("span",{children:["Học vi\xean: ",(0,a.jsx)("span",{className:"font-bold text-[#ab1d38]",children:t&&t.FullName})]}),visible:s,onCancel:()=>{l(!1)},width:800,footer:null,children:(0,a.jsxs)("div",{className:"antd-custom-wrap",children:[(0,a.jsx)("h2",{className:"text-center font-semibold mb-3",children:"Danh s\xe1ch b\xe0i học đ\xe3 học"}),(0,a.jsx)(v.default,{defaultActiveKey:["0"],expandIconPosition:"end",children:t&&Object.keys(t).length>0&&t.Section.map((e,t)=>(0,a.jsx)(v.default.Panel,{header:(0,a.jsx)("div",{className:"flex mt-2",children:(0,a.jsx)("span",{className:"ml-2 font-bold text-tw-primary in-1-line",children:e.SectionName})}),children:e.LessonVideo.map(e=>(0,a.jsxs)("div",{className:"flex py-3",children:[(0,a.jsx)("span",{className:"my-auto mr-2",children:(0,a.jsx)(z.UFz,{size:22})}),(0,a.jsx)("span",{className:"my-auto select-none line-clamp-1",children:e.LessonVideoName},e.LessonVideoId)]}))},t))})]})})};function eA(e){let{videoCourseID:t}=e,s=(0,c.v9)(e=>e.user.information),[l,n]=(0,i.useState)(),[r,o]=(0,i.useState)(null),[d,u]=(0,i.useState)({type:"",status:!1}),m={videoCourseId:t,pageSize:er.I,pageIndex:1,fromDate:null,toDate:null},[x,h]=(0,i.useState)(m),[p,f]=(0,i.useState)([{name:"date-range",title:"Từ - đến",col:"grid-cols-1",type:"date-range",value:null}]),g=async()=>{u({type:"GET_ALL",status:!0});try{let e=await eL.getStudentInCourse(x);200==e.status&&n(e.data.data),204==e.status&&n([])}catch(e){(0,N.fr)("error",e.message)}finally{u({type:"GET_ALL",status:!1})}};(0,i.useEffect)(()=>{g()},[x]);let v=async e=>{try{let t=await eL.getLearningDetail(e.VideoCourseId,e.UserId);200==t.status&&o(t.data.data),204==t.status&&o({})}catch(e){(0,N.fr)("error",e.message)}},j={pageIndex:1,pageSize:er.I,fromDate:null,toDate:null};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(W.Z,{columns:(null==s?void 0:s.RoleId)==1||(null==s?void 0:s.RoleId)==7||(null==s?void 0:s.RoleId)==4?[{title:"Học vi\xean",dataIndex:"FullName",align:"left",render:(e,t)=>(0,a.jsx)("div",{className:"font-[600] text-[#1b73e8]",children:e})},{title:"Email",dataIndex:"Email",align:"left",render:(e,t)=>(0,a.jsx)(a.Fragment,{children:e})},{title:"Số điện thoại",dataIndex:"Mobile",align:"left",render:(e,t)=>(0,a.jsx)(a.Fragment,{children:e})},{title:"Thời gian",dataIndex:"Mobile",align:"left",render:(e,t)=>(0,a.jsx)("p",{children:ea()(t.CreatedOn).format("DD/MM/YYYY HH:mm")})},{title:"Đ\xe1nh gi\xe1",dataIndex:"MyRate",align:"left",render:(e,t)=>(0,a.jsx)(eE.Z,{defaultValue:Number(e),allowHalf:!0,character:(0,a.jsx)(ek.zs5,{}),disabled:!0,className:"text-tw-yellow"})},{title:"",render:(e,t)=>(0,a.jsx)(w.Z,{type:"button",color:"red",icon:"eye",onClick:()=>v(t),className:"mt-2",tooltip:"Xem chi tiết"})}]:[{title:"Học vi\xean",dataIndex:"FullName",align:"left",render:(e,t)=>(0,a.jsx)(a.Fragment,{children:e})},{title:"Email",dataIndex:"Email",align:"left",render:(e,t)=>(0,a.jsx)(a.Fragment,{children:e})},{title:"Số điện thoại",dataIndex:"Mobile",align:"left",render:(e,t)=>(0,a.jsx)(a.Fragment,{children:e})},{title:"Đ\xe1nh gi\xe1",dataIndex:"MyRate",align:"left",render:(e,t)=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(eE.Z,{defaultValue:Number(e),allowHalf:!0,character:(0,a.jsx)(ek.zs5,{}),disabled:!0,className:"text-tw-yellow"})})}],data:l,loading:"GET_ALL"==d.type&&d.status,TitleCard:(0,a.jsx)(eR.Z,{dataFilter:p,handleFilter:e=>{let t={...j};e.forEach((e,s)=>{let a=e.name;Object.keys(t).forEach(s=>{s==a&&(t[a]=e.value)})}),h({...x,...t,pageIndex:1})},handleReset:()=>{h({...m})}})}),(0,a.jsx)(e_,{detailSections:r})]})}let{TabPane:eU}=h.default;var eB=e=>{var t,s;let{lessonSelected:l,setLessonSelected:r,section:o,getSection:d,completedPercent:u,courseID:m}=e,{getCourseDetail:x,openMenuCourse:v,setOpenMenuCourse:j,courseDetail:y}=e,[b,N]=(0,n.v1)("currentTab",n.Oi.withDefault("1")),[w,I]=(0,i.useState)(0),[C,S]=(0,i.useState)(!1),Z=(0,c.v9)(e=>e.user.information);function D(){return(null==Z?void 0:Z.RoleId)==1}function T(){return(null==Z?void 0:Z.RoleId)==2}function E(){return(null==Z?void 0:Z.RoleId)==4}function k(){return(null==Z?void 0:Z.RoleId)==7}return(0,a.jsxs)("div",{className:"video-detail relative antd-custom-wrap flex justify-start align-center h-[calc(100vh_-_56px)] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"desktop:w-3/4 w-full h-[calc(100vh_-_56px)] overflow-y-auto scrollbar",children:[!l&&(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)(p.Z,{className:"m-[16px]",children:(0,a.jsx)("div",{className:"w-full h-[300px] all-center",children:(0,a.jsx)(f.Z,{})})}),(0,a.jsx)(p.Z,{className:"shadow-sm",children:(0,a.jsx)("div",{className:"smartphone:m-3 tablet:m-6 desktop:m-12",children:(0,a.jsxs)(h.default,{activeKey:b,type:"card",onChange:e=>{"5"==e&&I(w+1),N(e)},children:[(0,a.jsx)(eU,{tab:"Giới thiệu",children:(0,a.jsx)(ep,{courseDetail:y,User:Z,onFetchData:()=>x()})},"1"),(0,a.jsx)(eU,{tab:"Hỏi đ\xe1p",children:(0,a.jsx)(eT,{videoCourseID:Number(m)})},"2"),(0,a.jsx)(eU,{tab:"Th\xf4ng b\xe1o",children:(0,a.jsx)(eb,{videoCourseID:Number(m)})},"3"),(D()||T()||E()||k())&&(0,a.jsx)(eU,{tab:"Học vi\xean",children:(0,a.jsx)(eA,{videoCourseID:Number(m)})},"4"),(0,a.jsx)(eU,{tab:"Đ\xe1nh gi\xe1",children:(0,a.jsx)(eM,{courseDetail:y,videoCourseID:Number(m),onReloadReviewTab:w})},"5")]})})})]}),!!l&&(null==l?void 0:l.Type)==1&&(0,a.jsxs)("div",{className:"w-full",children:[(null===(t=l.VideoUrl)||void 0===t?void 0:t.length)>0&&(0,a.jsx)("iframe",{className:"w-full aspect-video",src:l.VideoUrl,title:"YouTube video player",frameBorder:0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),(null===(s=l.VideoUrl)||void 0===s?void 0:s.length)==0&&(0,a.jsx)(p.Z,{className:"m-[16px]",children:(0,a.jsx)("div",{className:"w-full h-[300px] all-center",children:(0,a.jsx)(f.Z,{})})}),(0,a.jsx)("div",{className:"smartphone:m-3 tablet:m-6 desktop:m-12 pt-6 text-2xl font-bold in-1-line",children:l.Name}),(0,a.jsx)("div",{className:"smartphone:m-3 tablet:m-6 desktop:m-12 pt-0",children:(0,a.jsx)(p.Z,{className:"shadow-sm",children:(0,a.jsxs)(h.default,{type:"card",activeKey:b,onChange:e=>{"5"==e&&I(w+1),N(e)},children:[(0,a.jsx)(eU,{tab:"Giới thiệu",children:(0,a.jsx)(ep,{courseDetail:y,User:Z,onFetchData:x})},"1"),(0,a.jsx)(eU,{tab:"Hỏi đ\xe1p",children:(0,a.jsx)(eT,{videoCourseID:Number(m)})},"2"),(0,a.jsx)(eU,{tab:"Th\xf4ng b\xe1o",children:(0,a.jsx)(eb,{videoCourseID:Number(m)})},"3"),(D()||T()||E()||k())&&(0,a.jsx)(eU,{tab:"Học vi\xean",children:(0,a.jsx)(eA,{videoCourseID:Number(m)})},"4"),(0,a.jsx)(eU,{tab:"Đ\xe1nh gi\xe1",children:(0,a.jsx)(eM,{courseDetail:y,videoCourseID:Number(m),onReloadReviewTab:w})},"5")]})})})]})]}),(0,a.jsxs)("div",{className:"desktop:w-1/4 transition-all h-[calc(100vh_-_56px)] overflow-y-auto border-x border-tw-gray bg-tw-white ".concat(v?'absolute right-0 w-[90%] tablet:w-[60%] z-10 after:content-[""] after:-z-10 after:block after:fixed after:top-[56px] after:right-0 after:bg-[rgba(0,0,0,0.3)] after:w-full after:h-full active-menu-mobile':"fixed w-[90%] -right-[90%] tablet:w-[60%] tablet:-right-[60%] desktop:block desktop:right-0 scrollbar"),children:[(0,a.jsxs)("div",{className:"h-16 bg-tw-white flex justify-between align-center",children:[(0,a.jsx)("p",{className:"desktop:pt-0 text-base my-auto px-4 font-bold",children:"Nội dung kh\xf3a học"}),(null==Z?void 0:Z.RoleId)==3&&(0,a.jsxs)("p",{className:"tablet:hidden my-auto px-4 text-base font-bold text-[#ab1d38]",children:[null==u?void 0:u.toFixed(2),"%"]}),(D()||E()||k())&&(0,a.jsxs)("button",{onClick:()=>S(!C),className:"w-fit my-4 pr-4 flex items-center justify-center",children:[(0,a.jsx)(g.F7l,{size:22,className:"text-tw-black font-bold mr-2"})," ",(0,a.jsx)("span",{className:"text-tw-black text-bold text-base ",children:"Đổi vị tr\xed chương"})]})]}),(0,a.jsx)("div",{className:"overflow-y-auto scrollbar h-full bg-tw-white",children:(0,a.jsx)(em,{section:o,getSection:d,isChangePositionSection:C,setLessonSelected:r,setOpenMenuCourse:j})})]})]})},eO=()=>{let e=(0,c.v9)(e=>e.user.information),[t,s]=(0,n.v1)("currentSectionId",n.U.withDefault(0)),u=(0,l.useRouter)(),{slug:m}=u.query,[h,p]=(0,i.useState)(null),[f,g]=(0,i.useState)(!1),[v,j]=(0,i.useState)(),[y,b]=(0,i.useState)(),[w,I]=(0,i.useState)(),[C,S]=(0,i.useState)(0);(0,i.useEffect)(()=>{e&&p((null==e?void 0:e.RoleId)||null)},[e]);let Z=async()=>{try{let e=await d.B.getByID(m);200==e.status&&j(e.data.data),204==e.status&&j(null)}catch(e){(0,N.fr)("error",e.message)}},D=async()=>{try{let n=await x.getByVideoID(m);if(200==n.status){var e,a,l;b(n.data.data),S("NaN"!==n.data.complete?n.data.complete:0),t||s(null==n?void 0:null===(l=n.data)||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:null===(e=a[0])||void 0===e?void 0:e.Id)}204==n.status&&b([])}catch(e){(0,N.fr)("error",e.message)}};return(0,i.useEffect)(()=>{m&&(Z(),D())},[m]),(0,i.useEffect)(()=>{document.onclick=e=>{e.target.classList.contains("active-menu-mobile")&&g(!1)}},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("header",{className:"flex justify-between align-center h-16 bg-tw-primary",children:[(0,a.jsxs)("div",{className:"flex justify-start align-center gap-4 px-8",children:[(0,a.jsx)("button",{className:"text-[#ffffff] text-2xl",onClick:()=>u.push("/course/videos"),children:(0,a.jsx)(o.u1R,{})}),(0,a.jsx)("p",{className:"m-auto in-1-line text-2xl font-bold text-white",children:null==v?void 0:v.Name})]}),(0,a.jsxs)("div",{className:"flex justify-end align-center gap-4 px-8",children:["3"==h&&(0,a.jsxs)("p",{className:"hidden tablet:block desktop:block text-tw-white m-auto font-bold",children:["Đ\xe3 ho\xe0n th\xe0nh: ",null==C?void 0:C.toFixed(2),"%"]}),(0,a.jsx)("button",{onClick:()=>{g(!f)},className:"desktop:hidden text-[#ffffff] text-2xl ".concat(f?"active-menu-mobile":""),children:f?(0,a.jsx)(r.oHP,{}):(0,a.jsx)(r.qTj,{})})]})]}),(0,a.jsx)(eB,{section:y,lessonSelected:w,getSection:D,getCourseDetail:Z,completedPercent:C,courseID:m,courseDetail:v,openMenuCourse:f,setOpenMenuCourse:g,setLessonSelected:I})]})};let eV=()=>(0,a.jsx)(eO,{});eV.Layout=e=>{let{children:t}=e;return(0,a.jsx)(a.Fragment,{children:t})};var eH=eV},29090:function(e){e.exports={scrollable:"styles_scrollable__jEU3P",wrapper:"styles_wrapper__pBm6L"}},41480:function(e){e.exports={ccEditor:"styles_ccEditor__II_s7"}},50247:function(){}},function(e){e.O(0,[6130,4838,7909,8391,6660,4396,4817,594,3365,8151,1653,4321,2961,4738,648,8127,509,3714,123,8460,9915,6565,653,6655,1607,6361,5009,4253,1379,861,8675,8210,6369,4696,1178,7350,3145,8892,9517,9759,2888,9774,179],function(){return e(e.s=95188)}),_N_E=e.O()}]);