(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3540],{16607:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/teacher/total-lesson",function(){return a(78485)}])},77725:function(e,t,a){"use strict";a.d(t,{C:function(){return l},a:function(){return n}});var i=a(59178);let l={getTotalLessonOfTeacher:e=>i.e.get("/api/Dashboard/TotalLesson_Teacher",{params:e}),getTeachingDetail:e=>i.e.get("/api/Dashboard/GetTeachingDetail",{params:e})},n={getOverview:e=>i.e.get("/api/Statistical/overview",{params:e}),getStudentAge:e=>i.e.get("/api/Statistical/student-age",{params:e}),getFeedBackRating:e=>i.e.get("/api/Statistical/feedback-rating",{params:e}),getNewClass:e=>i.e.get("/api/Statistical/new-class",{params:e}),getNewCustomer:e=>i.e.get("/api/Statistical/new-customer",{params:e}),getRevenue:e=>i.e.get("/api/Statistical/revenue",{params:e}),getFinanceCompareOverviewV2:e=>i.e.get("api/Statistical/FinanceCompareOverview/v2",{params:e}),getRevenueBySourceV2:e=>i.e.get("api/Statistical/RevenueBySource/v2",{params:e}),getExpenseYearV2:e=>i.e.get("api/Statistical/Expense12Month/v2",{params:e}),getRevenueYearV2:e=>i.e.get("api/Statistical/Revenue12Month/v2",{params:e}),getRevenueByCenterActivitiesV2:e=>i.e.get("api/Statistical/RevenueByCenterActivities/v2",{params:e}),getRevenueByStudentV2:e=>i.e.get("api/Statistical/RevenueByStudent/v2",{params:e}),getTopLearningNeed:e=>i.e.get("/api/Statistical/top-learning-need",{params:e}),getTopPurpose:e=>i.e.get("/api/Statistical/top-purpose",{params:e}),getTopSource:e=>i.e.get("/api/Statistical/top-source",{params:e}),getTopJob:e=>i.e.get("/api/Statistical/top-job",{params:e}),getTotalScheduleTeacher:e=>i.e.get("/api/Statistical/total-schedule-teacher",{params:e}),getTotalScheduleStudent:e=>i.e.get("/api/Statistical/total-schedule-student",{params:e}),getRateTeacher:e=>i.e.get("/api/Statistical/rate-teacher",{params:e}),getStatisticialTestAppointment:e=>i.e.get("/api/Statistical/api/Dashboard/StatisticialTestAppointment",{params:e}),getStatisticalNewCustomerofsales:e=>i.e.get("/api/Statistical/new-customerofsales",{params:e}),getCommissionSale:e=>i.e.get("/api/Statistical/commission-sale",{params:e}),exportExcel:e=>i.e.get("/api/Statistical/ExportCommissionSale",{params:e})}},8123:function(e,t,a){"use strict";var i=a(85893),l=a(34223),n=a(66946);a(67294),t.Z=function(e){return(0,i.jsxs)("div",{className:"pt-5 pb-5",children:[(null==e?void 0:e.loading)&&(0,i.jsx)("div",{style:{width:"90%"},children:(0,i.jsx)(l.Z,{round:!0,active:!0})}),!(null==e?void 0:e.loading)&&(0,i.jsx)(n.Z,{description:!1,children:(0,i.jsx)("div",{className:"disable",children:"Kh\xf4ng c\xf3 dữ liệu"})})]})}},52814:function(e,t,a){"use strict";var i=a(85893),l=a(96361),n=a(28210),s=a(67294),d=a(41570),o=a(8123),r=a(58416);t.Z=e=>{var t,a,c,u,g;let{title:h,extra:v,TitleCard:m,Extra:p,expandableProps:x={},uniqueIdKey:S="Id"}=e,[y,w]=(0,s.useState)({selectedRowKeys:[]}),[f,j]=(0,s.useState)([]),[T,b]=(0,s.useState)([{currentPage:1,listKeys:[]}]),[N,C]=(0,s.useState)(null),P=()=>{b([{currentPage:1,listKeys:[]}])},E=e=>{let t=[];t.indexOf(e.key)>=0?t.splice(t.indexOf(e.key),1):t.push(e.key),w({selectedRowKeys:t})},R=(t,a)=>{if(T.some(e=>e.currentPage==t)||T.push({currentPage:t,listKeys:[]}),b([...T]),void 0===(null==e?void 0:e.getPagination))return t;null==e||e.getPagination(t,a)},k={selectedRowKeys:null==y?void 0:y.selectedRowKeys,onChange:(t,a)=>{(null==e?void 0:e.onSelectRow(a))&&(null==e||e.onSelectRow(a)),w({selectedRowKeys:t})},hideSelectAll:!1};(0,s.useEffect)(()=>{if((null==e?void 0:e.dataSource)&&(null==e?void 0:e.dataSource.length)>0){let t=[...null==e?void 0:e.dataSource];t.forEach((e,a)=>{t[a]={...e,key:a+"",uniqueId:e[S]}}),j(t)}else j([])},[null==e?void 0:e.dataSource]),(0,s.useEffect)(()=>{(null==e?void 0:e.closeAllExpand)&&P()},[null==e?void 0:e.closeAllExpand]),(0,s.useEffect)(()=>{(null==e?void 0:e.isResetKey)&&w({selectedRowKeys:[]})},[null==e?void 0:e.isResetKey]);let I=(null==e?void 0:e.height)||(null===(t=window)||void 0===t?void 0:t.innerHeight)-295;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"wrap-table table-expand",children:(0,i.jsxs)(l.Z,{className:"cardRadius ".concat((null==e?void 0:e.addClass)&&(null==e?void 0:e.addClass)," ").concat((null==e?void 0:e.Size)?null==e?void 0:e.Size:""),extra:v||p,title:h||m,style:null==e?void 0:e.cardStyle,children:[null==e?void 0:e.children,!!(null==e?void 0:e.sumPrice)&&(0,i.jsxs)("div",{className:"statistical-contain",children:[(0,i.jsxs)("div",{className:"item total-income",children:[(0,i.jsxs)("div",{className:"text",children:[(0,i.jsx)("div",{className:"name",children:"Tổng nợ"}),(0,i.jsxs)("div",{className:"number",children:[r.Jy.numberToPrice((null==e?void 0:null===(g=e.sumPrice)||void 0===g?void 0:g.sumDebt)||0),"₫"]})]}),(0,i.jsx)("div",{className:"icon",children:(0,i.jsx)(d.BUm,{})})]}),(0,i.jsxs)("div",{className:"item total-expense",children:[(0,i.jsxs)("div",{className:"text",children:[(0,i.jsx)("p",{className:"name",children:"Tổng thanh to\xe1n"}),(0,i.jsxs)("p",{className:"number",children:[r.Jy.numberToPrice((null==e?void 0:e.sumPrice.sumPaid)||0),"₫"]})]}),(0,i.jsx)("div",{className:"icon",children:(0,i.jsx)(d.CtB,{})})]}),(0,i.jsxs)("div",{className:"item total-revenue",children:[(0,i.jsxs)("div",{className:"text",children:[(0,i.jsx)("p",{className:"name",children:"Tổng tiền"}),(0,i.jsxs)("p",{className:"number",children:[r.Jy.numberToPrice((null==e?void 0:e.sumPrice.sumtotalPrice)||0),"₫"]})]}),(0,i.jsx)("div",{className:"icon",children:(0,i.jsx)(d.gnI,{})})]})]}),0==f.length&&(0,i.jsx)(o.Z,{loading:(null==e?void 0:null===(a=e.loading)||void 0===a?void 0:a.status)||(null==e?void 0:e.loading)==!0}),f.length>0&&(0,i.jsx)(n.Z,{loading:(null==e?void 0:null===(c=e.loading)||void 0===c?void 0:c.type)=="GET_ALL"&&(null==e?void 0:null===(u=e.loading)||void 0===u?void 0:u.status)||(null==e?void 0:e.loading)==!0,bordered:null!=e&&!!e.haveBorder&&(null==e?void 0:e.haveBorder),scroll:{x:"max-content",y:(I<300?300:I)||200},columns:((null==e?void 0:e.columns)||[]).filter(e=>!(null==e?void 0:e.hidden)),dataSource:f||[],size:"middle",onChange:(null==e?void 0:e.onChange)?null==e?void 0:e.onChange:()=>{},pagination:{pageSize:30,pageSizeOptions:["30"],onShowSizeChange:(t,a)=>{(null==e?void 0:e.onChangePageSize)&&(null==e||e.onChangePageSize(t,a))},total:(null==e?void 0:e.totalPage)?null==e?void 0:e.totalPage:1,showTotal:()=>(0,i.jsxs)("div",{className:"font-weight-black",children:["Tổng cộng: ",(null==e?void 0:e.totalPage)||1]}),onChange:(e,t)=>R(e,t),current:(null==e?void 0:e.currentPage)&&(null==e?void 0:e.currentPage)},rowKey:"uniqueId",rowClassName:(e,t)=>t==N?"table-row-active":t%2==0?"table-row-light":"table-row-dark",onRow:(e,t)=>({onClick:()=>{E(e),C(t)}}),rowSelection:(null==e?void 0:e.rowSelection)?null==e?void 0:e.rowSelection:(null==e?void 0:e.isSelect)?k:null,onExpand:(t,a)=>{void 0!==(null==e?void 0:e.handleExpand)&&(null==e||e.handleExpand(a))},expandable:{expandedRowRender:null==e?void 0:e.expandable,rowExpandable:e=>"Not Expandable"!==e.name,...x}})]})})})}},72444:function(e,t,a){"use strict";var i=a(85893),l=a(67294),n=a(96361),s=a(28210),d=a(8123);let o=l.memo(e=>{var t,a,o;let[r,c]=(0,l.useState)([]),[u,g]=(0,l.useState)(null),h=e=>{let t=[];t.indexOf(e.key)>=0?t.splice(t.indexOf(e.key),1):t.push(e.key)},v=t=>{if(void 0===e.getPagination)return t;e.getPagination(t)};return(0,l.useEffect)(()=>{let t=JSON.parse(JSON.stringify(e.dataSource));t.forEach((e,t)=>{e.key=t.toString()}),c(t)},[e.dataSource]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"nested-table",children:(0,i.jsxs)(n.Z,{className:"cardRadius mb-3 ".concat(e.addClass&&e.addClass," ").concat(e.Size?e.Size:""),title:e.Extra,extra:e.TitleCard,children:[e.children,0==r.length&&(0,i.jsx)(d.Z,{loading:null===(t=e.loading)||void 0===t?void 0:t.status}),r.length>0&&(0,i.jsx)(s.Z,{className:e.addClass&&e.addClass,loading:(null===(a=e.loading)||void 0===a?void 0:a.type)=="GET_ALL"&&(null===(o=e.loading)||void 0===o?void 0:o.status),bordered:!!e.haveBorder&&e.haveBorder,scroll:{x:"max-content"},columns:e.columns,dataSource:r,size:"middle",pagination:{showTotal:()=>(0,i.jsxs)("div",{className:"font-weight-black",children:["Tổng cộng: ",e.totalPage]}),pageSize:30,pageSizeOptions:["30"],total:e.totalPage&&e.totalPage,onChange:e=>v(e),current:e.currentPage&&e.currentPage},rowClassName:(e,t)=>t==u?"table-row-active":t%2==0?"table-row-light":"table-row-dark",onRow:(e,t)=>({onClick:()=>{h(e),g(t)}})})]})})})});t.Z=o},78485:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return S}});var i=a(85893),l=a(67294),n=a(26674),s=a(96369),d=a(69361),o=a(41818),r=a(30381),c=a.n(r),u=a(52814),g=a(72444),h=a(77725),v=a(58416),m=a(9473),p=()=>{let[e,t]=(0,l.useState)(),{information:a}=(0,m.v9)(e=>e.user),[n,r]=(0,l.useState)({type:"",status:!1}),[p,x]=(0,l.useState)(null),[S,y]=(0,l.useState)(1),[w,f]=(0,l.useState)({pageSize:999,pageIndex:1,year:new Date().getFullYear(),month:new Date().getMonth()+1}),j=async()=>{r({type:"GET_ALL",status:!0});try{let e=await h.C.getTotalLessonOfTeacher(w);200===e.status&&(t(e.data.data),x(e.data.totalRow)),204===e.status&&t([])}catch(e){(0,v.fr)("error",e.message)}finally{r({type:"GET_ALL",status:!1})}};(0,l.useEffect)(()=>{a&&(null==a?void 0:a.RoleId)==1&&j()},[w,a]);let T=e=>{1==S?f({...w,month:Number(c()(e).format("MM")),year:Number(c()(e).format("YYYY"))}):2==S&&f({...w,month:0,year:Number(c()(e).format("YYYY"))})},[b,N]=(0,l.useState)([]),C=async e=>{N([]),r({type:"GET_ALL",status:!0});try{let t=await h.C.getTeachingDetail({teacherId:e.UserInformationID,year:w.year,month:w.month});200==t.status&&N(t.data.data)}catch(e){(0,v.fr)("error",null==e?void 0:e.message)}finally{r({type:"GET_ALL",status:!1})}};return(0,i.jsx)(i.Fragment,{children:!!a&&(null==a?void 0:a.RoleId)==1&&(0,i.jsx)(u.Z,{loading:n,totalPage:p,dataSource:e,getPagination:e=>{f({...w,pageIndex:e})},columns:[{title:"Ảnh đại diện",width:120,dataIndex:"Avatar",render:(e,t)=>(0,i.jsx)("img",{style:{width:40,height:40,borderRadius:"100%"},src:t.Avatar.length>0?t.Avatar:"/images/user.png",alt:"avatar img"})},{title:"Họ t\xean",width:150,dataIndex:"FullNameUnicode"},{title:"Tổng số buổi dạy",width:180,dataIndex:"TotalLesson"},{title:"Email",width:150,dataIndex:"Email"},{title:"Số điện thoại",width:150,dataIndex:"Mobile"}],Extra:(0,i.jsx)("h4",{children:"Th\xf4ng k\xea số buổi dạy của gi\xe1o vi\xean"}),TitleCard:(0,i.jsxs)("div",{style:{height:36,display:"flex",alignItems:"center"},children:[1==S?(0,i.jsx)(s.default,{placeholder:"Chọn th\xe1ng",onChange:T,picker:"month",className:"mr-2 style-input",style:{width:130},defaultValue:c()(new Date,"DD/MM/YYYY")}):2==S?(0,i.jsx)(s.default,{placeholder:"Chọn năm",onChange:T,picker:"year",className:"mr-2 style-input",style:{width:130}}):void 0,(0,i.jsxs)(o.ZP.Group,{onChange:e=>{y(e.target.value)},optionType:"button",buttonStyle:"solid",value:S,style:{height:36},children:[(0,i.jsx)(o.ZP.Button,{value:1,style:{height:36,paddingTop:2,borderTopLeftRadius:6,borderBottomLeftRadius:6},children:"Th\xe1ng"}),(0,i.jsx)(o.ZP.Button,{value:2,style:{height:36,paddingTop:2,borderTopRightRadius:6,borderBottomRightRadius:6},children:"Năm"})]})]}),handleExpand:e=>{console.log("handleExpand --- "),C(e)},expandable:()=>(0,i.jsxs)(i.Fragment,{children:[n.status&&(0,i.jsx)("div",{children:(0,i.jsx)(d.Z,{})}),!n.status&&(0,i.jsx)(g.Z,{totalPage:1,loading:n,addClass:"basic-header",dataSource:b,columns:[{title:"Ng\xe0y dạy",dataIndex:"Date",render:(e,t)=>(0,i.jsx)(i.Fragment,{children:!!t.Date&&(0,i.jsx)(i.Fragment,{children:c()(t.Date).format("DD/MM/YYYY")})})},{title:"Bắt đầu",dataIndex:"TimeStart",render:e=>(0,i.jsx)("span",{className:"bold",children:e})},{title:"Kết th\xfac",dataIndex:"TimeEnd",render:e=>(0,i.jsx)("span",{className:"bold",children:e})},{title:"Thời gian dạy",dataIndex:"Time",align:"center",render:e=>(0,i.jsx)(i.Fragment,{children:e})},{title:"Trung t\xe2m",dataIndex:"BranchName",render:e=>(0,i.jsx)("p",{children:e})},{title:"Lớp học",dataIndex:"CourseName",render:e=>(0,i.jsx)(i.Fragment,{children:e})}]})]})})})};let x=()=>(0,i.jsx)(p,{});x.Layout=n.C;var S=x}},function(e){e.O(0,[6130,7909,5970,8127,8460,9915,6565,653,6655,1607,6361,5009,4253,9872,861,8675,8210,6369,6954,2888,9774,179],function(){return e(e.s=16607)}),_N_E=e.O()}]);