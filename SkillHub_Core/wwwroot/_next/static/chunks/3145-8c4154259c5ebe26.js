(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3145],{8875:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"actionAsyncStorage",{enumerable:!0,get:function(){return n}});let n=(0,r(95039).createAsyncLocalStorage)();("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},26208:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"actionAsyncStorage",{enumerable:!0,get:function(){return n.actionAsyncStorage}});let n=r(8875);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},95039:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createAsyncLocalStorage",{enumerable:!0,get:function(){return u}});let r=Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available");class n{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}}let o=globalThis.AsyncLocalStorage;function u(){return o?new o:new n}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},70827:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return a.ReadonlyURLSearchParams},RedirectType:function(){return a.RedirectType},ServerInsertedHTMLContext:function(){return s.ServerInsertedHTMLContext},notFound:function(){return a.notFound},permanentRedirect:function(){return a.permanentRedirect},redirect:function(){return a.redirect},useParams:function(){return p},usePathname:function(){return f},useRouter:function(){return d},useSearchParams:function(){return c},useSelectedLayoutSegment:function(){return h},useSelectedLayoutSegments:function(){return y},useServerInsertedHTML:function(){return s.useServerInsertedHTML}});let n=r(67294),o=r(15320),u=r(51083),l=r(55363),i=r(74722),a=r(34138),s=r(23617);function c(){let e=(0,n.useContext)(u.SearchParamsContext);return(0,n.useMemo)(()=>e?new a.ReadonlyURLSearchParams(e):null,[e])}function f(){return(0,n.useContext)(u.PathnameContext)}function d(){let e=(0,n.useContext)(o.AppRouterContext);if(null===e)throw Error("invariant expected app router to be mounted");return e}function p(){return(0,n.useContext)(u.PathParamsContext)}function y(e){void 0===e&&(e="children");let t=(0,n.useContext)(o.LayoutRouterContext);return t?function e(t,r,n,o){let u;if(void 0===n&&(n=!0),void 0===o&&(o=[]),n)u=t[1][r];else{var a;let e=t[1];u=null!=(a=e.children)?a:Object.values(e)[0]}if(!u)return o;let s=u[0],c=(0,l.getSegmentValue)(s);return!c||c.startsWith(i.PAGE_SEGMENT_KEY)?o:(o.push(c),e(u,r,!1,o))}(t.tree,e):null}function h(e){void 0===e&&(e="children");let t=y(e);if(!t||0===t.length)return null;let r="children"===e?t[0]:t[t.length-1];return r===i.DEFAULT_SEGMENT_KEY?null:r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},34138:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return l},RedirectType:function(){return n.RedirectType},notFound:function(){return o.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect}});let n=r(2830),o=r(79399);class u extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class l extends URLSearchParams{append(){throw new u}delete(){throw new u}set(){throw new u}sort(){throw new u}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},79399:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return o},notFound:function(){return n}});let r="NEXT_NOT_FOUND";function n(){let e=Error(r);throw e.digest=r,e}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},78074:function(e,t){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),(n=r||(r={}))[n.SeeOther=303]="SeeOther",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2830:function(e,t,r){"use strict";var n,o;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return n},getRedirectError:function(){return s},getRedirectStatusCodeFromError:function(){return h},getRedirectTypeFromError:function(){return y},getURLFromRedirectError:function(){return p},isRedirectError:function(){return d},permanentRedirect:function(){return f},redirect:function(){return c}});let u=r(77218),l=r(26208),i=r(78074),a="NEXT_REDIRECT";function s(e,t,r){void 0===r&&(r=i.RedirectStatusCode.TemporaryRedirect);let n=Error(a);n.digest=a+";"+t+";"+e+";"+r+";";let o=u.requestAsyncStorage.getStore();return o&&(n.mutableCookies=o.mutableCookies),n}function c(e,t){void 0===t&&(t="replace");let r=l.actionAsyncStorage.getStore();throw s(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.TemporaryRedirect)}function f(e,t){void 0===t&&(t="replace");let r=l.actionAsyncStorage.getStore();throw s(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.PermanentRedirect)}function d(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,n,o]=e.digest.split(";",4),u=Number(o);return t===a&&("replace"===r||"push"===r)&&"string"==typeof n&&!isNaN(u)&&u in i.RedirectStatusCode}function p(e){return d(e)?e.digest.split(";",3)[2]:null}function y(e){if(!d(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function h(e){if(!d(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(o=n||(n={})).push="push",o.replace="replace",("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6718:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"requestAsyncStorage",{enumerable:!0,get:function(){return n}});let n=(0,r(95039).createAsyncLocalStorage)();("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},77218:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getExpectedRequestStore:function(){return o},requestAsyncStorage:function(){return n.requestAsyncStorage}});let n=r(6718);function o(e){let t=n.requestAsyncStorage.getStore();if(t)return t;throw Error("`"+e+"` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context")}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},55363:function(e,t){"use strict";function r(e){return Array.isArray(e)?e[1]:e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSegmentValue",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},23617:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ServerInsertedHTMLContext:function(){return o},useServerInsertedHTML:function(){return u}});let n=r(61757)._(r(67294)),o=n.default.createContext(null);function u(e){let t=(0,n.useContext)(o);t&&t(e)}},39332:function(e,t,r){e.exports=r(70827)},32941:function(e,t,r){"use strict";var n=r(67294),o=r(45697),u=r.n(o);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=(0,n.forwardRef)(function(e,t){var r=e.color,o=e.size,u=void 0===o?24:o,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["color","size"]);return n.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),n.createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),n.createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}))});i.propTypes={color:u().string,size:u().oneOfType([u().string,u().number])},i.displayName="Book",t.Z=i},62944:function(e,t,r){"use strict";var n=r(67294),o=r(45697),u=r.n(o);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=(0,n.forwardRef)(function(e,t){var r=e.color,o=e.size,u=void 0===o?24:o,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["color","size"]);return n.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),n.createElement("path",{d:"M12 20h9"}),n.createElement("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}))});i.propTypes={color:u().string,size:u().oneOfType([u().string,u().number])},i.displayName="Edit3",t.Z=i},32655:function(e,t,r){"use strict";var n=r(67294),o=r(45697),u=r.n(o);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=(0,n.forwardRef)(function(e,t){var r=e.color,o=e.size,u=void 0===o?24:o,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["color","size"]);return n.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),n.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),n.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});i.propTypes={color:u().string,size:u().oneOfType([u().string,u().number])},i.displayName="Edit",t.Z=i},80181:function(e,t,r){"use strict";var n=r(67294),o=r(45697),u=r.n(o);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=(0,n.forwardRef)(function(e,t){var r=e.color,o=e.size,u=void 0===o?24:o,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["color","size"]);return n.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),n.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.createElement("polyline",{points:"14 2 14 8 20 8"}),n.createElement("line",{x1:"9",y1:"15",x2:"15",y2:"15"}))});i.propTypes={color:u().string,size:u().oneOfType([u().string,u().number])},i.displayName="FileMinus",t.Z=i},31181:function(e,t,r){"use strict";var n=r(67294),o=r(45697),u=r.n(o);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=(0,n.forwardRef)(function(e,t){var r=e.color,o=e.size,u=void 0===o?24:o,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["color","size"]);return n.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),n.createElement("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),n.createElement("polyline",{points:"10 17 15 12 10 7"}),n.createElement("line",{x1:"15",y1:"12",x2:"3",y2:"12"}))});i.propTypes={color:u().string,size:u().oneOfType([u().string,u().number])},i.displayName="LogIn",t.Z=i},30833:function(e,t,r){"use strict";var n=r(67294),o=r(45697),u=r.n(o);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=(0,n.forwardRef)(function(e,t){var r=e.color,o=e.size,u=void 0===o?24:o,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["color","size"]);return n.createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),n.createElement("polyline",{points:"3 6 5 6 21 6"}),n.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),n.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),n.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});i.propTypes={color:u().string,size:u().oneOfType([u().string,u().number])},i.displayName="Trash2",t.Z=i},13437:function(e,t,r){"use strict";r.d(t,{S$:function(){return c},U:function(){return s},Oi:function(){return a},v1:function(){return M}});var n,o=!1;try{o="object"==typeof localStorage&&(localStorage.getItem("debug")?.includes("next-usequerystate")||localStorage.getItem("debug")?.includes("nuqs"))||!1}catch(e){console.error("[nuqs]: debug mode is disabled (localStorage unavailable).",e)}function u(e,...t){if(!o)return;let r=function(e,...t){return e.replace(/%[sfdO]/g,e=>{let r=t.shift();return"%O"===e&&r?JSON.stringify(r).replace(/"([^"]+)":/g,"$1:"):String(r)})}(e,...t);performance.mark(r),console.log(e,...t)}function l(e,t,r){try{return e(t)}catch(e){return!function(e,...t){o&&console.warn(e,...t)}("[nuqs] Error while parsing value `%s`: %O"+(r?" (for key `%s`)":""),t,e,r),null}}function i(e){function t(t){if(void 0===t)return null;let r="";if(Array.isArray(t)){if(void 0===t[0])return null;r=t[0]}return"string"==typeof t&&(r=t),l(e.parse,r)}return{eq:(e,t)=>e===t,...e,parseServerSide:t,withDefault(e){return{...this,defaultValue:e,parseServerSide:r=>t(r)??e}},withOptions(e){return{...this,...e}}}}var a=i({parse:e=>e,serialize:e=>`${e}`}),s=i({parse:e=>{let t=parseInt(e);return Number.isNaN(t)?null:t},serialize:e=>Math.round(e).toFixed()});function c(e,t=","){let r=e.eq??((e,t)=>e===t),n=encodeURIComponent(t);return i({parse:r=>""===r?[]:r.split(t).map((r,o)=>l(e.parse,r.replaceAll(n,t),`[${o}]`)).filter(e=>null!=e),serialize:r=>r.map(r=>(e.serialize?e.serialize(r):String(r)).replaceAll(t,n)).join(t),eq:(e,t)=>e===t||e.length===t.length&&e.every((e,n)=>r(e,t[n]))})}i({parse:e=>{let t=parseInt(e,16);return Number.isNaN(t)?null:t},serialize:e=>{let t=Math.round(e).toString(16);return t.padStart(t.length+t.length%2,"0")}}),i({parse:e=>{let t=parseFloat(e);return Number.isNaN(t)?null:t},serialize:e=>e.toString()}),i({parse:e=>"true"===e,serialize:e=>e?"true":"false"}),i({parse:e=>{let t=parseInt(e);return Number.isNaN(t)?null:new Date(t)},serialize:e=>e.valueOf().toString()}),i({parse:e=>{let t=new Date(e);return Number.isNaN(t.valueOf())?null:t},serialize:e=>e.toISOString()});var f={409:"Multiple versions of the library are loaded. This may lead to unexpected behavior. Currently using `%s`, but `%s` was about to load on top.",429:"URL update rate-limited by the browser. Consider increasing `throttleMs` for key(s) `%s`. %O",500:"Empty search params cache. Search params can't be accessed in Layouts.",501:"Search params cache already populated. Have you called `parse` twice?"};function d(e){return`[nuqs] ${f[e]}
  See https://err.47ng.com/NUQS-${e}`}var p=r(39332),y=r(67294),h=function(){if("undefined"==typeof window||!window.GestureEvent)return 50;try{let e=navigator.userAgent?.match(/version\/([\d\.]+) safari/i);return parseFloat(e[1])>=17?120:320}catch{return 320}}(),g=new Map,v={history:"replace",scroll:!1,shallow:!0,throttleMs:h},b=new Set,m=0,O=null;function w(e){return g.get(e)??null}function j(e,t){return(e.split("#")[0]??"")+function(e){if(0===e.size)return"";let t=[];for(let[r,n]of e.entries())t.push(`${r}=${n.replace(/%/g,"%25").replace(/\+/g,"%2B").replace(/ /g,"+").replace(/#/g,"%23").replace(/&/g,"%26").replace(/"/g,"%22").replace(/'/g,"%27").replace(/`/g,"%60").replace(/</g,"%3C").replace(/>/g,"%3E")}`);return"?"+t.join("&")}(t)+location.hash}var S=Symbol("__nuqs__SYNC__"),_="__nuqs__NO_SYNC__",P=Symbol("__nuqs__NOTIFY__"),x={all:n=n||new Map,on:function(e,t){var r=n.get(e);r?r.push(t):n.set(e,[t])},off:function(e,t){var r=n.get(e);r&&(t?r.splice(r.indexOf(t)>>>0,1):n.set(e,[]))},emit:function(e,t){var r=n.get(e);r&&r.slice().map(function(e){e(t)}),(r=n.get("*"))&&r.slice().map(function(r){r(e,t)})}};function M(e,{history:t="replace",shallow:r=!0,scroll:n=!1,throttleMs:o=h,parse:i=e=>e,serialize:a=String,eq:s=(e,t)=>e===t,defaultValue:c,clearOnDefault:f=!1,startTransition:P}={history:"replace",scroll:!1,shallow:!0,throttleMs:h,parse:e=>e,serialize:String,eq:(e,t)=>e===t,clearOnDefault:!1,defaultValue:void 0}){let M=(0,p.useRouter)(),E=(0,p.useSearchParams)(),[R,T]=y.useState(()=>{let t=w(e),r=E?.get(e)??null,n=t??r;return null===n?null:l(i,n,e)}),q=y.useRef(R);u("[nuqs `%s`] render - state: %O, iSP: %s",e,R,E?.get(e)??null),y.useEffect(()=>{if(window.next?.version!=="14.0.3")return;let t=E.get(e)??null,r=null===t?null:l(i,t,e);u("[nuqs `%s`] syncFromUseSearchParams %O",e,r),q.current=r,T(r)},[E?.get(e),e]),y.useInsertionEffect(()=>{function t(t){u("[nuqs `%s`] updateInternalState %O",e,t),q.current=t,T(t)}function r(r){let n=r.get(e)??null,o=null===n?null:l(i,n,e);u("[nuqs `%s`] syncFromURL %O",e,o),t(o)}return u("[nuqs `%s`] subscribing to sync",e),x.on(S,r),x.on(e,t),()=>{u("[nuqs `%s`] unsubscribing from sync",e),x.off(S,r),x.off(e,t)}},[e]);let L=y.useCallback((l,i={})=>{let p="function"==typeof l?l(q.current??c??null):l;return(i.clearOnDefault||f)&&null!==p&&void 0!==c&&s(p,c)&&(p=null),x.emit(e,p),!function(e,t,r,n){let o=null===t?null:r(t);u("[nuqs queue] Enqueueing %s=%s %O",e,o,n),g.set(e,o),"push"===n.history&&(v.history="push"),n.scroll&&(v.scroll=!0),!1===n.shallow&&(v.shallow=!1),n.startTransition&&(b.add(n.startTransition),v.shallow=!1),v.throttleMs=Math.max(n.throttleMs??h,Number.isFinite(v.throttleMs)?v.throttleMs:0)}(e,p,a,{history:i.history??t,shallow:i.shallow??r,scroll:i.scroll??n,throttleMs:i.throttleMs??o,startTransition:i.startTransition??P}),null===O&&(O=new Promise((e,t)=>{if(!Number.isFinite(v.throttleMs)){u("[nuqs queue] Skipping flush due to throttleMs=Infinity"),e(new URLSearchParams(location.search)),setTimeout(()=>{O=null},0);return}function r(){m=performance.now();let[r,n]=function(e){let t=new URLSearchParams(location.search);if(0===g.size)return[t,null];let r=Array.from(g.entries()),n={...v},o=Array.from(b);for(let[e,o]of(g.clear(),b.clear(),v.history="replace",v.scroll=!1,v.shallow=!0,v.throttleMs=h,u("[nuqs queue] Flushing queue %O with options %O",r,n),r))null===o?t.delete(e):t.set(e,o);try{let r=window.next?.router;if("string"==typeof r?.state?.asPath){let e=j(r.state.asPath.split("?")[0]??"",t);u("[nuqs queue (pages)] Updating url: %s",e),("push"===n.history?r.push:r.replace).call(r,e,e,{scroll:n.scroll,shallow:n.shallow})}else{let r=j(location.origin+location.pathname,t);u("[nuqs queue (app)] Updating url: %s",r);let l="push"===n.history?history.pushState:history.replaceState,i=(window.next?.version??"")>="14.1.0"?null:history.state;l.call(history,i,_,r),n.scroll&&window.scrollTo(0,0),n.shallow||function(e,t){let r=n=>{if(n===e.length)return t();let o=e[n];if(!o)throw Error("Invalid transition function");o(()=>r(n+1))};r(0)}(o,()=>{e.replace(r,{scroll:!1})})}return[t,null]}catch(e){return console.error(d(429),r.map(([e])=>e).join(),e),[t,e]}}(M);null===n?e(r):t(r),O=null}setTimeout(function(){let e=performance.now()-m,t=v.throttleMs,n=Math.max(0,Math.min(t,t-e));u("[nuqs queue] Scheduling flush in %f ms. Throttled at %f ms",n,t),0===n?r():setTimeout(r,n)},0)})),O},[e,t,r,n,o,P]);return[R??c??null,L]}"object"==typeof history&&function(){let e="1.17.4",t=history.__nuqs_patched;if(t){t!==e&&console.error(d(409),t,e);return}for(let t of(u("[nuqs] Patching history with %s",e),["pushState","replaceState"])){let e=history[t].bind(history);history[t]=function(r,n,o){if(!o)return u("[nuqs] history.%s(null) (%s) %O",t,n,r),e(r,n,o);let l=n===_?"internal":"external",i=new URL(o,location.origin).searchParams;if(u("[nuqs] history.%s(%s) (%s) %O",t,o,l,r),"external"===l){for(let[e,t]of i.entries()){let r=w(e);null!==r&&r!==t&&(u("[nuqs] Overwrite detected for key: %s, Server: %s, queue: %s",e,t,r),i.set(e,r))}setTimeout(()=>{u("[nuqs] External history.%s call: triggering sync with %s",t,i),x.emit(S,i),x.emit(P,{search:i,source:l})},0)}else setTimeout(()=>{x.emit(P,{search:i,source:l})},0);return e(r,n===_?"":n,o)}}Object.defineProperty(history,"__nuqs_patched",{value:e,writable:!1,enumerable:!1,configurable:!1})}()}}]);