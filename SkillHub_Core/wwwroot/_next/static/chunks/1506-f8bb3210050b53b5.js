(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1506],{46556:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var o=n(87462),r=n(97685),i=n(73899),a=n(93967),s=n.n(a),l=n(54043),h=n(28778),c=n(67294),d=n(93565),p=n(36070),u=n(26901),g=n(51095),w=n(61939),m=n(81094),f=n(91130),v=n(37681),y=n(54252),x=function(e){var t=e.prefixCls,n=e.okButtonProps,r=e.cancelButtonProps,i=e.title,a=e.cancelText,s=e.okText,l=e.okType,h=e.icon,p=e.showCancel,u=void 0===p||p,x=e.close,C=e.onConfirm,b=e.onCancel,D=c.useContext(d.E_).getPrefixCls;return c.createElement(f.Z,{componentName:"Popconfirm",defaultLocale:v.Z.Popconfirm},function(e){return c.createElement("div",{className:"".concat(t,"-inner-content")},c.createElement("div",{className:"".concat(t,"-message")},h&&c.createElement("span",{className:"".concat(t,"-message-icon")},h),c.createElement("div",{className:"".concat(t,"-message-title")},(0,y.Z)(i))),c.createElement("div",{className:"".concat(t,"-buttons")},u&&c.createElement(g.Z,(0,o.Z)({onClick:b,size:"small"},r),null!=a?a:e.cancelText),c.createElement(m.Z,{buttonProps:(0,o.Z)((0,o.Z)({size:"small"},(0,w.n)(l)),n),actionFn:C,close:x,prefixCls:D("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!=s?s:e.okText)))})},C=void 0,b=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)0>t.indexOf(o[r])&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n},D=c.forwardRef(function(e,t){var n=e.prefixCls,a=e.placement,g=e.trigger,w=e.okType,m=e.icon,f=void 0===m?c.createElement(i.Z,null):m,v=e.children,y=e.overlayClassName,D=e.onOpenChange,E=e.onVisibleChange,_=b(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),T=c.useContext(d.E_).getPrefixCls,S=(0,l.Z)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),R=(0,r.Z)(S,2),O=R[0],P=R[1],M=function(e,t){P(e,!0),null==E||E(e,t),null==D||D(e,t)},Y=function(e){e.keyCode===h.Z.ESC&&O&&M(!1,e)},L=T("popover",n),k=T("popconfirm",n),H=s()(k,y);return c.createElement(p.Z,(0,o.Z)({},_,{trigger:void 0===g?"click":g,prefixCls:L,placement:void 0===a?"top":a,onOpenChange:function(t){var n=e.disabled;void 0!==n&&n||M(t)},open:O,ref:t,overlayClassName:H,_overlay:c.createElement(x,(0,o.Z)({okType:void 0===w?"primary":w,icon:f},e,{prefixCls:L,close:function(e){M(!1,e)},onConfirm:function(t){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(C,t)},onCancel:function(t){var n;M(!1,t),null===(n=e.onCancel)||void 0===n||n.call(C,t)}}))}),(0,u.Tm)(v,{onKeyDown:function(e){var t,n;c.isValidElement(v)&&(null===(n=null==v?void 0:(t=v.props).onKeyDown)||void 0===n||n.call(t,e)),Y(e)}}))})},92703:function(e,t,n){"use strict";var o=n(50414);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,a){if(a!==o){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},92493:function(e,t,n){"use strict";var o=n(67294),r=n(45697),i=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var s=(0,o.forwardRef)(function(e,t){var n=e.color,r=e.size,i=void 0===r?24:r,s=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["color","size"]);return o.createElement("svg",a({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:void 0===n?"currentColor":n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),o.createElement("circle",{cx:"12",cy:"12",r:"10"}),o.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),o.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});s.propTypes={color:i().string,size:i().oneOfType([i().string,i().number])},s.displayName="PlusCircle",t.Z=s},58533:function(e,t,n){"use strict";var o=n(67294),r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},i=function(){return(i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},a={Pixel:"Pixel",Percent:"Percent"},s={unit:a.Percent,value:.8};function l(e){return"number"==typeof e?{unit:a.Percent,value:100*e}:"string"==typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:a.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:a.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),s):(console.warn("scrollThreshold should be string or number"),s)}var h=function(e){function t(t){var n=e.call(this,t)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:"string"==typeof n.props.scrollableTarget?document.getElementById(n.props.scrollableTarget):(null===n.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},n.onStart=function(e){!n.lastScrollTop&&(n.dragging=!0,e instanceof MouseEvent?n.startY=e.pageY:e instanceof TouchEvent&&(n.startY=e.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(e){n.dragging&&(e instanceof MouseEvent?n.currentY=e.pageY:e instanceof TouchEvent&&(n.currentY=e.touches[0].pageY),n.currentY<n.startY||(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),n.currentY-n.startY>1.5*n.maxPullDownDistance||!n._infScroll||(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")})},n.onScrollListener=function(e){"function"==typeof n.props.onScroll&&setTimeout(function(){return n.props.onScroll&&n.props.onScroll(e)},0);var t=n.props.height||n._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;n.actionTriggered||((n.props.inverse?n.isElementAtTop(t,n.props.scrollThreshold):n.isElementAtBottom(t,n.props.scrollThreshold))&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=t.scrollTop)},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},n.throttledOnScrollListener=(function(e,t,n,o){var r,i=!1,a=0;function s(){r&&clearTimeout(r)}function l(){var l=this,h=Date.now()-a,c=arguments;function d(){a=Date.now(),n.apply(l,c)}i||(o&&!r&&d(),s(),void 0===o&&h>e?d():!0!==t&&(r=setTimeout(o?function(){r=void 0}:d,void 0===o?e-h:e)))}return"boolean"!=typeof t&&(o=n,n=t,t=void 0),l.cancel=function(){s(),i=!0},l})(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return!function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){if(void 0===this.props.dataLength)throw Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"==typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!=typeof this.props.refreshFunction))throw Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?i(i({},t),{prevDataLength:e.dataLength}):null},t.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,o=l(t);return o.unit===a.Pixel?e.scrollTop<=o.value+n-e.scrollHeight+1:e.scrollTop<=o.value/100+n-e.scrollHeight+1},t.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,o=l(t);return o.unit===a.Pixel?e.scrollTop+n>=e.scrollHeight-o.value:e.scrollTop+n>=o.value/100*e.scrollHeight},t.prototype.render=function(){var e=this,t=i({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),n=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),r=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return o.createElement("div",{style:r,className:"infinite-scroll-component__outerdiv"},o.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&o.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},o.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!n&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(o.Component);t.Z=h},82084:function(e,t,n){"use strict";n.d(t,{YG:function(){return l},ZP:function(){return w},_H:function(){return h}});var o=n(67294);let r={x:0,y:0,width:0,height:0,unit:"px"},i=(e,t,n)=>Math.min(Math.max(e,t),n),a=(...e)=>e.filter(e=>e&&"string"==typeof e).join(" "),s=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function l(e,t,n,o){let r=d(e,n,o);return e.width&&(r.height=r.width/t),e.height&&(r.width=r.height*t),r.y+r.height>o&&(r.height=o-r.y,r.width=r.height*t),r.x+r.width>n&&(r.width=n-r.x,r.height=r.width/t),"%"===e.unit?c(r,n,o):r}function h(e,t,n){let o=d(e,t,n);return o.x=(t-o.width)/2,o.y=(n-o.height)/2,"%"===e.unit?c(o,t,n):o}function c(e,t,n){return"%"===e.unit?{...r,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function d(e,t,n){return e.unit?"px"===e.unit?{...r,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:{...r,...e,unit:"px"}}function p(e,t,n,o,r,i=0,a=0,s=o,l=r){let h={...e},c=Math.min(i,o),d=Math.min(a,r),p=Math.min(s,o),u=Math.min(l,r);t&&(t>1?(d=(c=a?a*t:c)/t,p=s*t):(c=(d=i?i/t:d)*t,u=l/t)),h.y<0&&(h.height=Math.max(h.height+h.y,d),h.y=0),h.x<0&&(h.width=Math.max(h.width+h.x,c),h.x=0);let g=o-(h.x+h.width);g<0&&(h.x=Math.min(h.x,o-c),h.width+=g);let w=r-(h.y+h.height);if(w<0&&(h.y=Math.min(h.y,r-d),h.height+=w),h.width<c&&(("sw"===n||"nw"==n)&&(h.x-=c-h.width),h.width=c),h.height<d&&(("nw"===n||"ne"==n)&&(h.y-=d-h.height),h.height=d),h.width>p&&(("sw"===n||"nw"==n)&&(h.x-=p-h.width),h.width=p),h.height>u&&(("nw"===n||"ne"==n)&&(h.y-=u-h.height),h.height=u),t){let e=h.width/h.height;if(e<t){let e=Math.max(h.width/t,d);("nw"===n||"ne"==n)&&(h.y-=e-h.height),h.height=e}else if(e>t){let e=Math.max(h.height*t,c);("sw"===n||"nw"==n)&&(h.x-=e-h.width),h.width=e}}return h}let u={capture:!0,passive:!1},g=class e extends o.PureComponent{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=(0,o.createRef)(),this.mediaRef=(0,o.createRef)(),this.initChangeCalled=!1,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{let{crop:t,disabled:n}=this.props,o=this.getBox();if(!t)return;let r=d(t,o.width,o.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let i=e.target.dataset.ord,a=e.clientX,s=e.clientY,l=r.x,h=r.y;if(i){let t=e.clientX-o.x,n=e.clientY-o.y,c=0,d=0;"ne"===i||"e"==i?(c=t-(r.x+r.width),d=n-r.y,l=r.x,h=r.y+r.height):"se"===i||"s"===i?(c=t-(r.x+r.width),d=n-(r.y+r.height),l=r.x,h=r.y):"sw"===i||"w"==i?(c=t-r.x,d=n-(r.y+r.height),l=r.x+r.width,h=r.y):("nw"===i||"n"==i)&&(c=t-r.x,d=n-r.y,l=r.x+r.width,h=r.y+r.height),a=l+o.x+c,s=h+o.y+d}this.evData={startClientX:a,startClientY:s,startCropX:l,startCropY:h,clientX:e.clientX,clientY:e.clientY,isResize:!!i,ord:i},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{let{crop:t,disabled:n,locked:o,keepSelection:r,onChange:i}=this.props,a=this.getBox();if(n||o||r&&t)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let s=e.clientX-a.x,l=e.clientY-a.y,h={unit:"px",x:s,y:l,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:s,startCropY:l,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,i(d(h,a.width,a.height),c(h,a.width,a.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{let t;let{crop:n,disabled:o,onChange:r,onDragStart:i}=this.props,a=this.getBox();if(o||!n||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(e));let{evData:l}=this;l.clientX=e.clientX,l.clientY=e.clientY,s(n,t=l.isResize?this.resizeCrop():this.dragCrop())||r(d(t,a.width,a.height),c(t,a.width,a.height))},this.onComponentKeyDown=t=>{let{crop:n,disabled:o,onChange:r,onComplete:a}=this.props;if(o)return;let s=t.key,l=!1;if(!n)return;let h=this.getBox(),p=this.makePixelCrop(h),u=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep;if("ArrowLeft"===s?(p.x-=u,l=!0):"ArrowRight"===s?(p.x+=u,l=!0):"ArrowUp"===s?(p.y-=u,l=!0):"ArrowDown"===s&&(p.y+=u,l=!0),l){t.cancelable&&t.preventDefault(),p.x=i(p.x,0,h.width-p.width),p.y=i(p.y,0,h.height-p.height);let e=d(p,h.width,h.height),n=c(p,h.width,h.height);r(e,n),a&&a(e,n)}},this.onHandlerKeyDown=(t,n)=>{let{aspect:o=0,crop:r,disabled:i,minWidth:a=0,minHeight:l=0,maxWidth:h,maxHeight:u,onChange:g,onComplete:w}=this.props,m=this.getBox();if(i||!r||"ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"ArrowLeft"!==t.key&&"ArrowRight"!==t.key)return;t.stopPropagation(),t.preventDefault();let f=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep,v=p(function(e,t,n,o){let r={...e};return"ArrowLeft"===t?"nw"===o?(r.x-=n,r.y-=n,r.width+=n,r.height+=n):"w"===o?(r.x-=n,r.width+=n):"sw"===o?(r.x-=n,r.width+=n,r.height+=n):"ne"===o?(r.y+=n,r.width-=n,r.height-=n):"e"===o?r.width-=n:"se"===o&&(r.width-=n,r.height-=n):"ArrowRight"===t&&("nw"===o?(r.x+=n,r.y+=n,r.width-=n,r.height-=n):"w"===o?(r.x+=n,r.width-=n):"sw"===o?(r.x+=n,r.width-=n,r.height-=n):"ne"===o?(r.y-=n,r.width+=n,r.height+=n):"e"===o?r.width+=n:"se"===o&&(r.width+=n,r.height+=n)),"ArrowUp"===t?"nw"===o?(r.x-=n,r.y-=n,r.width+=n,r.height+=n):"n"===o?(r.y-=n,r.height+=n):"ne"===o?(r.y-=n,r.width+=n,r.height+=n):"sw"===o?(r.x+=n,r.width-=n,r.height-=n):"s"===o?r.height-=n:"se"===o&&(r.width-=n,r.height-=n):"ArrowDown"===t&&("nw"===o?(r.x+=n,r.y+=n,r.width-=n,r.height-=n):"n"===o?(r.y+=n,r.height-=n):"ne"===o?(r.y+=n,r.width-=n,r.height-=n):"sw"===o?(r.x-=n,r.width+=n,r.height+=n):"s"===o?r.height+=n:"se"===o&&(r.width+=n,r.height+=n)),r}(d(r,m.width,m.height),t.key,f,n),o,n,m.width,m.height,a,l,h,u);if(!s(r,v)){let e=c(v,m.width,m.height);g(v,e),w&&w(v,e)}},this.onDocPointerDone=e=>{let{crop:t,disabled:n,onComplete:o,onDragEnd:r}=this.props,i=this.getBox();this.unbindDocMove(),!(n||!t)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,r&&r(e),o&&o(d(t,i.width,i.height),c(t,i.width,i.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=e=>{var t;null==(t=this.componentRef.current)||t.scrollTo(0,0)}}get document(){return document}getBox(){let e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};let{x:t,y:n,width:o,height:r}=e.getBoundingClientRect();return{x:t,y:n,width:o,height:r}}componentDidUpdate(e){let{crop:t,onComplete:n}=this.props;if(n&&!e.crop&&t){let{width:e,height:o}=this.getBox();e&&o&&n(d(t,e,o),c(t,e,o))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,u),this.document.addEventListener("pointerup",this.onDocPointerDone,u),this.document.addEventListener("pointercancel",this.onDocPointerDone,u),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,u),this.document.removeEventListener("pointerup",this.onDocPointerDone,u),this.document.removeEventListener("pointercancel",this.onDocPointerDone,u),this.docMoveBound=!1)}getCropStyle(){let{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){let{evData:e}=this,t=this.getBox(),n=this.makePixelCrop(t),o=e.clientX-e.startClientX,r=e.clientY-e.startClientY;return n.x=i(e.startCropX+o,0,t.width-n.width),n.y=i(e.startCropY+r,0,t.height-n.height),n}getPointRegion(e,t,n,o){let r;let{evData:i}=this,a=i.clientX-e.x,s=i.clientY-e.y;return r=o&&t?"nw"===t||"n"===t||"ne"===t:s<i.startCropY,(n&&t?"nw"===t||"w"===t||"sw"===t:a<i.startCropX)?r?"nw":"sw":r?"ne":"se"}resolveMinDimensions(e,t,n=0,o=0){let r=Math.min(n,e.width),i=Math.min(o,e.height);return t&&(r||i)?t>1?r?[r,r/t]:[i*t,i]:i?[i*t,i]:[r,r/t]:[r,i]}resizeCrop(){let{evData:t}=this,{aspect:n=0,maxWidth:o,maxHeight:r}=this.props,a=this.getBox(),[s,l]=this.resolveMinDimensions(a,n,this.props.minWidth,this.props.minHeight),h=this.makePixelCrop(a),c=this.getPointRegion(a,t.ord,s,l),d=t.ord||c,u=t.clientX-t.startClientX,g=t.clientY-t.startClientY;(s&&"nw"===d||"w"===d||"sw"===d)&&(u=Math.min(u,-s)),(l&&"nw"===d||"n"===d||"ne"===d)&&(g=Math.min(g,-l));let w={unit:"px",x:0,y:0,width:0,height:0};"ne"===c?(w.x=t.startCropX,w.width=u,n?w.height=w.width/n:w.height=Math.abs(g),w.y=t.startCropY-w.height):"se"===c?(w.x=t.startCropX,w.y=t.startCropY,w.width=u,n?w.height=w.width/n:w.height=g):"sw"===c?(w.x=t.startCropX+u,w.y=t.startCropY,w.width=Math.abs(u),n?w.height=w.width/n:w.height=g):"nw"===c&&(w.x=t.startCropX+u,w.width=Math.abs(u),n?(w.height=w.width/n,w.y=t.startCropY-w.height):(w.height=Math.abs(g),w.y=t.startCropY+g));let m=p(w,n,c,a.width,a.height,s,l,o,r);return n||e.xyOrds.indexOf(d)>-1?h=m:e.xOrds.indexOf(d)>-1?(h.x=m.x,h.width=m.width):e.yOrds.indexOf(d)>-1&&(h.y=m.y,h.height=m.height),h.x=i(h.x,0,a.width-h.width),h.y=i(h.y,0,a.height-h.height),h}createCropSelection(){let{ariaLabels:t=e.defaultProps.ariaLabels,disabled:n,locked:r,renderSelectionAddon:i,ruleOfThirds:a,crop:s}=this.props,l=this.getCropStyle();if(s)return o.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!r&&o.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},o.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),o.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),o.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),o.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"nw"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"n"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"ne"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"e"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"se"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"s"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"sw"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"w"),role:"button"})),i&&o.createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:e=>e.stopPropagation()},i(this.state)),a&&o.createElement(o.Fragment,null,o.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),o.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){return d({...r,...this.props.crop||{}},e.width,e.height)}render(){let{aspect:e,children:t,circularCrop:n,className:r,crop:i,disabled:s,locked:l,style:h,ruleOfThirds:c}=this.props,{cropIsActive:d,newCropIsBeingDrawn:p}=this.state,u=i?this.createCropSelection():null,g=a("ReactCrop",r,d&&"ReactCrop--active",s&&"ReactCrop--disabled",l&&"ReactCrop--locked",p&&"ReactCrop--new-crop",i&&e&&"ReactCrop--fixed-aspect",i&&n&&"ReactCrop--circular-crop",i&&c&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return o.createElement("div",{ref:this.componentRef,className:g,style:h},o.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},t),u)}};g.xOrds=["e","w"],g.yOrds=["n","s"],g.xyOrds=["nw","ne","se","sw"],g.nudgeStep=1,g.nudgeStepMedium=10,g.nudgeStepLarge=100,g.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};let w=g}}]);